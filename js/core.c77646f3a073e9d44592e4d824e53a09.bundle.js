!function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(){return(t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function e(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function n(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var s=function(t){return t&&t.Math==Math&&t},a=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof i&&i)||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},u=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,p={f:f&&!l.call({1:2},1)?function(t){var e=f(this,t);return!!e&&e.enumerable}:l},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h={}.toString,g=function(t){return h.call(t).slice(8,-1)},v="".split,m=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==g(t)?v.call(t,""):Object(t)}:Object,y=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},b=function(t){return m(y(t))},_=function(t){return"object"==typeof t?null!==t:"function"==typeof t},w=function(t,e){if(!_(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!_(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!_(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!_(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},E={}.hasOwnProperty,S=function(t,e){return E.call(t,e)},x=a.document,O=_(x)&&_(x.createElement),C=function(t){return O?x.createElement(t):{}},k=!u&&!c((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,I={f:u?T:function(t,e){if(t=b(t),e=w(e,!0),k)try{return T(t,e)}catch(t){}if(S(t,e))return d(!p.f.call(t,e),t[e])}},A=function(t){if(!_(t))throw TypeError(String(t)+" is not an object");return t},D=Object.defineProperty,P={f:u?D:function(t,e,n){if(A(t),e=w(e,!0),A(n),k)try{return D(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},M=u?function(t,e,n){return P.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},R=function(t,e){try{M(a,t,e)}catch(n){a[t]=e}return e},L="__core-js_shared__",N=a[L]||R(L,{}),j=Function.toString;"function"!=typeof N.inspectSource&&(N.inspectSource=function(t){return j.call(t)});var z,q,B,U=N.inspectSource,F=a.WeakMap,V="function"==typeof F&&/native code/.test(U(F)),H=o((function(t){(t.exports=function(t,e){return N[t]||(N[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),G=0,Q=Math.random(),W=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++G+Q).toString(36)},Y=H("keys"),K=function(t){return Y[t]||(Y[t]=W(t))},Z={},X=a.WeakMap;if(V){var J=new X,tt=J.get,et=J.has,nt=J.set;z=function(t,e){return nt.call(J,t,e),e},q=function(t){return tt.call(J,t)||{}},B=function(t){return et.call(J,t)}}else{var rt=K("state");Z[rt]=!0,z=function(t,e){return M(t,rt,e),e},q=function(t){return S(t,rt)?t[rt]:{}},B=function(t){return S(t,rt)}}var it,ot={set:z,get:q,has:B,enforce:function(t){return B(t)?q(t):z(t,{})},getterFor:function(t){return function(e){var n;if(!_(e)||(n=q(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},st=o((function(t){var e=ot.get,n=ot.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||S(i,"name")||M(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==a?(s?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=i:M(t,e,i)):c?t[e]=i:R(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||U(this)}))})),at=a,ct=function(t){return"function"==typeof t?t:void 0},ut=function(t,e){return arguments.length<2?ct(at[t])||ct(a[t]):at[t]&&at[t][e]||a[t]&&a[t][e]},lt=Math.ceil,ft=Math.floor,pt=function(t){return isNaN(t=+t)?0:(t>0?ft:lt)(t)},dt=Math.min,ht=function(t){return t>0?dt(pt(t),9007199254740991):0},gt=Math.max,vt=Math.min,mt=function(t,e){var n=pt(t);return n<0?gt(n+e,0):vt(n,e)},yt=function(t){return function(e,n,r){var i,o=b(e),s=ht(o.length),a=mt(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},bt={includes:yt(!0),indexOf:yt(!1)},_t=bt.indexOf,wt=function(t,e){var n,r=b(t),i=0,o=[];for(n in r)!S(Z,n)&&S(r,n)&&o.push(n);for(;e.length>i;)S(r,n=e[i++])&&(~_t(o,n)||o.push(n));return o},Et=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],St=Et.concat("length","prototype"),xt={f:Object.getOwnPropertyNames||function(t){return wt(t,St)}},Ot={f:Object.getOwnPropertySymbols},Ct=ut("Reflect","ownKeys")||function(t){var e=xt.f(A(t)),n=Ot.f;return n?e.concat(n(t)):e},kt=function(t,e){for(var n=Ct(e),r=P.f,i=I.f,o=0;o<n.length;o++){var s=n[o];S(t,s)||r(t,s,i(e,s))}},Tt=/#|\.prototype\./,It=function(t,e){var n=Dt[At(t)];return n==Mt||n!=Pt&&("function"==typeof e?c(e):!!e)},At=It.normalize=function(t){return String(t).replace(Tt,".").toLowerCase()},Dt=It.data={},Pt=It.NATIVE="N",Mt=It.POLYFILL="P",Rt=It,Lt=I.f,Nt=function(t,e){var n,r,i,o,s,c=t.target,u=t.global,l=t.stat;if(n=u?a:l?a[c]||R(c,{}):(a[c]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=Lt(n,r))&&s.value:n[r],!Rt(u?r:c+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;kt(o,i)}(t.sham||i&&i.sham)&&M(o,"sham",!0),st(n,r,o,t)}},jt=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),zt=jt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,qt=Array.isArray||function(t){return"Array"==g(t)},Bt=function(t){return Object(y(t))},Ut=Object.keys||function(t){return wt(t,Et)},Ft=u?Object.defineProperties:function(t,e){A(t);for(var n,r=Ut(e),i=r.length,o=0;i>o;)P.f(t,n=r[o++],e[n]);return t},$t=ut("document","documentElement"),Vt=K("IE_PROTO"),Ht=function(){},Gt=function(t){return"<script>"+t+"</"+"script>"},Qt=function(){try{it=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Qt=it?function(t){t.write(Gt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(it):((e=C("iframe")).style.display="none",$t.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Gt("document.F=Object")),t.close(),t.F);for(var n=Et.length;n--;)delete Qt.prototype[Et[n]];return Qt()};Z[Vt]=!0;var Wt=Object.create||function(t,e){var n;return null!==t?(Ht.prototype=A(t),n=new Ht,Ht.prototype=null,n[Vt]=t):n=Qt(),void 0===e?n:Ft(n,e)},Yt=xt.f,Kt={}.toString,Zt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xt={f:function(t){return Zt&&"[object Window]"==Kt.call(t)?function(t){try{return Yt(t)}catch(t){return Zt.slice()}}(t):Yt(b(t))}},Jt=H("wks"),te=a.Symbol,ee=zt?te:te&&te.withoutSetter||W,ne=function(t){return S(Jt,t)||(jt&&S(te,t)?Jt[t]=te[t]:Jt[t]=ee("Symbol."+t)),Jt[t]},re={f:ne},ie=P.f,oe=function(t){var e=at.Symbol||(at.Symbol={});S(e,t)||ie(e,t,{value:re.f(t)})},se=P.f,ae=ne("toStringTag"),ce=function(t,e,n){t&&!S(t=n?t:t.prototype,ae)&&se(t,ae,{configurable:!0,value:e})},ue=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},le=function(t,e,n){if(ue(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},fe=ne("species"),pe=function(t,e){var n;return qt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!qt(n.prototype)?_(n)&&null===(n=n[fe])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},de=[].push,he=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,s=5==t||o;return function(a,c,u,l){for(var f,p,d=Bt(a),h=m(d),g=le(c,u,3),v=ht(h.length),y=0,b=l||pe,_=e?b(a,v):n?b(a,0):void 0;v>y;y++)if((s||y in h)&&(p=g(f=h[y],y,d),t))if(e)_[y]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:de.call(_,f)}else if(i)return!1;return o?-1:r||i?i:_}},ge={forEach:he(0),map:he(1),filter:he(2),some:he(3),every:he(4),find:he(5),findIndex:he(6)},ve=ge.forEach,me=K("hidden"),ye="Symbol",be=ne("toPrimitive"),_e=ot.set,we=ot.getterFor(ye),Ee=Object.prototype,Se=a.Symbol,xe=ut("JSON","stringify"),Oe=I.f,Ce=P.f,ke=Xt.f,Te=p.f,Ie=H("symbols"),Ae=H("op-symbols"),De=H("string-to-symbol-registry"),Pe=H("symbol-to-string-registry"),Me=H("wks"),Re=a.QObject,Le=!Re||!Re.prototype||!Re.prototype.findChild,Ne=u&&c((function(){return 7!=Wt(Ce({},"a",{get:function(){return Ce(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Oe(Ee,e);r&&delete Ee[e],Ce(t,e,n),r&&t!==Ee&&Ce(Ee,e,r)}:Ce,je=function(t,e){var n=Ie[t]=Wt(Se.prototype);return _e(n,{type:ye,tag:t,description:e}),u||(n.description=e),n},ze=zt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Se},qe=function(t,e,n){t===Ee&&qe(Ae,e,n),A(t);var r=w(e,!0);return A(n),S(Ie,r)?(n.enumerable?(S(t,me)&&t[me][r]&&(t[me][r]=!1),n=Wt(n,{enumerable:d(0,!1)})):(S(t,me)||Ce(t,me,d(1,{})),t[me][r]=!0),Ne(t,r,n)):Ce(t,r,n)},Be=function(t,e){A(t);var n=b(e),r=Ut(n).concat(Ve(n));return ve(r,(function(e){u&&!Ue.call(n,e)||qe(t,e,n[e])})),t},Ue=function(t){var e=w(t,!0),n=Te.call(this,e);return!(this===Ee&&S(Ie,e)&&!S(Ae,e))&&(!(n||!S(this,e)||!S(Ie,e)||S(this,me)&&this[me][e])||n)},Fe=function(t,e){var n=b(t),r=w(e,!0);if(n!==Ee||!S(Ie,r)||S(Ae,r)){var i=Oe(n,r);return!i||!S(Ie,r)||S(n,me)&&n[me][r]||(i.enumerable=!0),i}},$e=function(t){var e=ke(b(t)),n=[];return ve(e,(function(t){S(Ie,t)||S(Z,t)||n.push(t)})),n},Ve=function(t){var e=t===Ee,n=ke(e?Ae:b(t)),r=[];return ve(n,(function(t){!S(Ie,t)||e&&!S(Ee,t)||r.push(Ie[t])})),r};if(jt||(st((Se=function(){if(this instanceof Se)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=W(t),n=function(t){this===Ee&&n.call(Ae,t),S(this,me)&&S(this[me],e)&&(this[me][e]=!1),Ne(this,e,d(1,t))};return u&&Le&&Ne(Ee,e,{configurable:!0,set:n}),je(e,t)}).prototype,"toString",(function(){return we(this).tag})),st(Se,"withoutSetter",(function(t){return je(W(t),t)})),p.f=Ue,P.f=qe,I.f=Fe,xt.f=Xt.f=$e,Ot.f=Ve,re.f=function(t){return je(ne(t),t)},u&&(Ce(Se.prototype,"description",{configurable:!0,get:function(){return we(this).description}}),st(Ee,"propertyIsEnumerable",Ue,{unsafe:!0}))),Nt({global:!0,wrap:!0,forced:!jt,sham:!jt},{Symbol:Se}),ve(Ut(Me),(function(t){oe(t)})),Nt({target:ye,stat:!0,forced:!jt},{for:function(t){var e=String(t);if(S(De,e))return De[e];var n=Se(e);return De[e]=n,Pe[n]=e,n},keyFor:function(t){if(!ze(t))throw TypeError(t+" is not a symbol");if(S(Pe,t))return Pe[t]},useSetter:function(){Le=!0},useSimple:function(){Le=!1}}),Nt({target:"Object",stat:!0,forced:!jt,sham:!u},{create:function(t,e){return void 0===e?Wt(t):Be(Wt(t),e)},defineProperty:qe,defineProperties:Be,getOwnPropertyDescriptor:Fe}),Nt({target:"Object",stat:!0,forced:!jt},{getOwnPropertyNames:$e,getOwnPropertySymbols:Ve}),Nt({target:"Object",stat:!0,forced:c((function(){Ot.f(1)}))},{getOwnPropertySymbols:function(t){return Ot.f(Bt(t))}}),xe){var He=!jt||c((function(){var t=Se();return"[null]"!=xe([t])||"{}"!=xe({a:t})||"{}"!=xe(Object(t))}));Nt({target:"JSON",stat:!0,forced:He},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(_(e)||void 0!==t)&&!ze(t))return qt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ze(e))return e}),i[1]=e,xe.apply(null,i)}})}Se.prototype[be]||M(Se.prototype,be,Se.prototype.valueOf),ce(Se,ye),Z[me]=!0,oe("asyncIterator");var Ge=P.f,Qe=a.Symbol;if(u&&"function"==typeof Qe&&(!("description"in Qe.prototype)||void 0!==Qe().description)){var We={},Ye=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ye?new Qe(t):void 0===t?Qe():Qe(t);return""===t&&(We[e]=!0),e};kt(Ye,Qe);var Ke=Ye.prototype=Qe.prototype;Ke.constructor=Ye;var Ze=Ke.toString,Xe="Symbol(test)"==String(Qe("test")),Je=/^Symbol\((.*)\)[^)]+$/;Ge(Ke,"description",{configurable:!0,get:function(){var t=_(this)?this.valueOf():this,e=Ze.call(t);if(S(We,t))return"";var n=Xe?e.slice(7,-1):e.replace(Je,"$1");return""===n?void 0:n}}),Nt({global:!0,forced:!0},{Symbol:Ye})}oe("hasInstance"),oe("isConcatSpreadable"),oe("iterator"),oe("match"),oe("matchAll"),oe("replace"),oe("search"),oe("species"),oe("split"),oe("toPrimitive"),oe("toStringTag"),oe("unscopables");var tn=Object.assign,en=Object.defineProperty,nn=!tn||c((function(){if(u&&1!==tn({b:1},tn(en({},"a",{enumerable:!0,get:function(){en(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=tn({},t)[n]||Ut(tn({},e)).join("")!=r}))?function(t,e){for(var n=Bt(t),r=arguments.length,i=1,o=Ot.f,s=p.f;r>i;)for(var a,c=m(arguments[i++]),l=o?Ut(c).concat(o(c)):Ut(c),f=l.length,d=0;f>d;)a=l[d++],u&&!s.call(c,a)||(n[a]=c[a]);return n}:tn;Nt({target:"Object",stat:!0,forced:Object.assign!==nn},{assign:nn}),Nt({target:"Object",stat:!0,sham:!u},{create:Wt}),Nt({target:"Object",stat:!0,forced:!u,sham:!u},{defineProperty:P.f}),Nt({target:"Object",stat:!0,forced:!u,sham:!u},{defineProperties:Ft});var rn=p.f,on=function(t){return function(e){for(var n,r=b(e),i=Ut(r),o=i.length,s=0,a=[];o>s;)n=i[s++],u&&!rn.call(r,n)||a.push(t?[n,r[n]]:r[n]);return a}},sn={entries:on(!0),values:on(!1)},an=sn.entries;Nt({target:"Object",stat:!0},{entries:function(t){return an(t)}});var cn=!c((function(){return Object.isExtensible(Object.preventExtensions({}))})),un=o((function(t){var e=P.f,n=W("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!_(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!S(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!S(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return cn&&s.REQUIRED&&i(t)&&!S(t,n)&&o(t),t}};Z[n]=!0})),ln=un.onFreeze,fn=Object.freeze,pn=c((function(){fn(1)}));Nt({target:"Object",stat:!0,forced:pn,sham:!cn},{freeze:function(t){return fn&&_(t)?fn(ln(t)):t}});var dn={},hn=ne("iterator"),gn=Array.prototype,vn=function(t){return void 0!==t&&(dn.Array===t||gn[hn]===t)},mn={};mn[ne("toStringTag")]="z";var yn="[object z]"===String(mn),bn=ne("toStringTag"),_n="Arguments"==g(function(){return arguments}()),wn=yn?g:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),bn))?n:_n?g(e):"Object"==(r=g(e))&&"function"==typeof e.callee?"Arguments":r},En=ne("iterator"),Sn=function(t){if(null!=t)return t[En]||t["@@iterator"]||dn[wn(t)]},xn=function(t,e,n,r){try{return r?e(A(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&A(i.call(t)),e}},On=o((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,i,o){var s,a,c,u,l,f,p,d=le(n,r,i?2:1);if(o)s=t;else{if("function"!=typeof(a=Sn(t)))throw TypeError("Target is not iterable");if(vn(a)){for(c=0,u=ht(t.length);u>c;c++)if((l=i?d(A(p=t[c])[0],p[1]):d(t[c]))&&l instanceof e)return l;return new e(!1)}s=a.call(t)}for(f=s.next;!(p=f.call(s)).done;)if("object"==typeof(l=xn(s,d,p.value,i))&&l&&l instanceof e)return l;return new e(!1)}).stop=function(t){return new e(!0,t)}})),Cn=function(t,e,n){var r=w(e);r in t?P.f(t,r,d(0,n)):t[r]=n};Nt({target:"Object",stat:!0},{fromEntries:function(t){var e={};return On(t,(function(t,n){Cn(e,t,n)}),void 0,!0),e}});var kn=I.f,Tn=c((function(){kn(1)}));Nt({target:"Object",stat:!0,forced:!u||Tn,sham:!u},{getOwnPropertyDescriptor:function(t,e){return kn(b(t),e)}}),Nt({target:"Object",stat:!0,sham:!u},{getOwnPropertyDescriptors:function(t){for(var e,n,r=b(t),i=I.f,o=Ct(r),s={},a=0;o.length>a;)void 0!==(n=i(r,e=o[a++]))&&Cn(s,e,n);return s}});var In=Xt.f,An=c((function(){return!Object.getOwnPropertyNames(1)}));Nt({target:"Object",stat:!0,forced:An},{getOwnPropertyNames:In});var Dn=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Pn=K("IE_PROTO"),Mn=Object.prototype,Rn=Dn?Object.getPrototypeOf:function(t){return t=Bt(t),S(t,Pn)?t[Pn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Mn:null},Ln=c((function(){Rn(1)}));Nt({target:"Object",stat:!0,forced:Ln,sham:!Dn},{getPrototypeOf:function(t){return Rn(Bt(t))}});var Nn=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Nt({target:"Object",stat:!0},{is:Nn});var jn=Object.isExtensible,zn=c((function(){jn(1)}));Nt({target:"Object",stat:!0,forced:zn},{isExtensible:function(t){return!!_(t)&&(!jn||jn(t))}});var qn=Object.isFrozen,Bn=c((function(){qn(1)}));Nt({target:"Object",stat:!0,forced:Bn},{isFrozen:function(t){return!_(t)||!!qn&&qn(t)}});var Un=Object.isSealed,Fn=c((function(){Un(1)}));Nt({target:"Object",stat:!0,forced:Fn},{isSealed:function(t){return!_(t)||!!Un&&Un(t)}});var $n=c((function(){Ut(1)}));Nt({target:"Object",stat:!0,forced:$n},{keys:function(t){return Ut(Bt(t))}});var Vn=un.onFreeze,Hn=Object.preventExtensions,Gn=c((function(){Hn(1)}));Nt({target:"Object",stat:!0,forced:Gn,sham:!cn},{preventExtensions:function(t){return Hn&&_(t)?Hn(Vn(t)):t}});var Qn=un.onFreeze,Wn=Object.seal,Yn=c((function(){Wn(1)}));Nt({target:"Object",stat:!0,forced:Yn,sham:!cn},{seal:function(t){return Wn&&_(t)?Wn(Qn(t)):t}});var Kn=function(t){if(!_(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},Zn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return A(n),Kn(r),e?t.call(n,r):n.__proto__=r,n}}():void 0);Nt({target:"Object",stat:!0},{setPrototypeOf:Zn});var Xn=sn.values;Nt({target:"Object",stat:!0},{values:function(t){return Xn(t)}});var Jn=yn?{}.toString:function(){return"[object "+wn(this)+"]"};yn||st(Object.prototype,"toString",Jn,{unsafe:!0});var tr=!c((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete a[t]}));u&&Nt({target:"Object",proto:!0,forced:tr},{__defineGetter__:function(t,e){P.f(Bt(this),t,{get:ue(e),enumerable:!0,configurable:!0})}}),u&&Nt({target:"Object",proto:!0,forced:tr},{__defineSetter__:function(t,e){P.f(Bt(this),t,{set:ue(e),enumerable:!0,configurable:!0})}});var er=I.f;u&&Nt({target:"Object",proto:!0,forced:tr},{__lookupGetter__:function(t){var e,n=Bt(this),r=w(t,!0);do{if(e=er(n,r))return e.get}while(n=Rn(n))}});var nr=I.f;u&&Nt({target:"Object",proto:!0,forced:tr},{__lookupSetter__:function(t){var e,n=Bt(this),r=w(t,!0);do{if(e=nr(n,r))return e.set}while(n=Rn(n))}});var rr=[].slice,ir={},or=function(t,e,n){if(!(e in ir)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";ir[e]=Function("C,a","return new C("+r.join(",")+")")}return ir[e](t,n)},sr=Function.bind||function(t){var e=ue(this),n=rr.call(arguments,1),r=function(){var i=n.concat(rr.call(arguments));return this instanceof r?or(e,i.length,i):e.apply(t,i)};return _(e.prototype)&&(r.prototype=e.prototype),r};Nt({target:"Function",proto:!0},{bind:sr});var ar=P.f,cr=Function.prototype,ur=cr.toString,lr=/^\s*function ([^ (]*)/,fr="name";u&&!(fr in cr)&&ar(cr,fr,{configurable:!0,get:function(){try{return ur.call(this).match(lr)[1]}catch(t){return""}}});var pr=ne("hasInstance"),dr=Function.prototype;pr in dr||P.f(dr,pr,{value:function(t){if("function"!=typeof this||!_(t))return!1;if(!_(this.prototype))return t instanceof this;for(;t=Rn(t);)if(this.prototype===t)return!0;return!1}}),Nt({global:!0},{globalThis:a});var hr=function(t){var e,n,r,i,o,s,a=Bt(t),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,p=Sn(a),d=0;if(f&&(l=le(l,u>2?arguments[2]:void 0,2)),null==p||c==Array&&vn(p))for(n=new c(e=ht(a.length));e>d;d++)s=f?l(a[d],d):a[d],Cn(n,d,s);else for(o=(i=p.call(a)).next,n=new c;!(r=o.call(i)).done;d++)s=f?xn(i,l,[r.value,d],!0):r.value,Cn(n,d,s);return n.length=d,n},gr=ne("iterator"),vr=!1;try{var mr=0,yr={next:function(){return{done:!!mr++}},return:function(){vr=!0}};yr[gr]=function(){return this},Array.from(yr,(function(){throw 2}))}catch(t){}var br=function(t,e){if(!e&&!vr)return!1;var n=!1;try{var r={};r[gr]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},_r=!br((function(t){Array.from(t)}));Nt({target:"Array",stat:!0,forced:_r},{from:hr}),Nt({target:"Array",stat:!0},{isArray:qt});var wr=c((function(){function t(){}return!(Array.of.call(t)instanceof t)}));Nt({target:"Array",stat:!0,forced:wr},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Cn(n,t,arguments[t++]);return n.length=e,n}});var Er,Sr,xr=ut("navigator","userAgent")||"",Or=a.process,Cr=Or&&Or.versions,kr=Cr&&Cr.v8;kr?Sr=(Er=kr.split("."))[0]+Er[1]:xr&&(!(Er=xr.match(/Edge\/(\d+)/))||Er[1]>=74)&&(Er=xr.match(/Chrome\/(\d+)/))&&(Sr=Er[1]);var Tr=Sr&&+Sr,Ir=ne("species"),Ar=function(t){return Tr>=51||!c((function(){var e=[];return(e.constructor={})[Ir]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Dr=ne("isConcatSpreadable"),Pr=9007199254740991,Mr="Maximum allowed index exceeded",Rr=Tr>=51||!c((function(){var t=[];return t[Dr]=!1,t.concat()[0]!==t})),Lr=Ar("concat"),Nr=function(t){if(!_(t))return!1;var e=t[Dr];return void 0!==e?!!e:qt(t)};Nt({target:"Array",proto:!0,forced:!Rr||!Lr},{concat:function(t){var e,n,r,i,o,s=Bt(this),a=pe(s,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Nr(o=-1===e?s:arguments[e])){if(c+(i=ht(o.length))>Pr)throw TypeError(Mr);for(n=0;n<i;n++,c++)n in o&&Cn(a,c,o[n])}else{if(c>=Pr)throw TypeError(Mr);Cn(a,c++,o)}return a.length=c,a}});var jr=Math.min,zr=[].copyWithin||function(t,e){var n=Bt(this),r=ht(n.length),i=mt(t,r),o=mt(e,r),s=arguments.length>2?arguments[2]:void 0,a=jr((void 0===s?r:mt(s,r))-o,r-i),c=1;for(o<i&&i<o+a&&(c=-1,o+=a-1,i+=a-1);a-- >0;)o in n?n[i]=n[o]:delete n[i],i+=c,o+=c;return n},qr=ne("unscopables"),Br=Array.prototype;null==Br[qr]&&P.f(Br,qr,{configurable:!0,value:Wt(null)});var Ur=function(t){Br[qr][t]=!0};Nt({target:"Array",proto:!0},{copyWithin:zr}),Ur("copyWithin");var Fr=function(t,e){var n=[][t];return!!n&&c((function(){n.call(null,e||function(){throw 1},1)}))},$r=Object.defineProperty,Vr={},Hr=function(t){throw t},Gr=function(t,e){if(S(Vr,t))return Vr[t];e||(e={});var n=[][t],r=!!S(e,"ACCESSORS")&&e.ACCESSORS,i=S(e,0)?e[0]:Hr,o=S(e,1)?e[1]:void 0;return Vr[t]=!!n&&!c((function(){if(r&&!u)return!0;var t={length:-1};r?$r(t,1,{enumerable:!0,get:Hr}):t[1]=1,n.call(t,i,o)}))},Qr=ge.every,Wr=Fr("every"),Yr=Gr("every");Nt({target:"Array",proto:!0,forced:!Wr||!Yr},{every:function(t){return Qr(this,t,arguments.length>1?arguments[1]:void 0)}});var Kr=function(t){for(var e=Bt(this),n=ht(e.length),r=arguments.length,i=mt(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,s=void 0===o?n:mt(o,n);s>i;)e[i++]=t;return e};Nt({target:"Array",proto:!0},{fill:Kr}),Ur("fill");var Zr=ge.filter,Xr=Ar("filter"),Jr=Gr("filter");Nt({target:"Array",proto:!0,forced:!Xr||!Jr},{filter:function(t){return Zr(this,t,arguments.length>1?arguments[1]:void 0)}});var ti=ge.find,ei="find",ni=!0,ri=Gr(ei);ei in[]&&Array(1).find((function(){ni=!1})),Nt({target:"Array",proto:!0,forced:ni||!ri},{find:function(t){return ti(this,t,arguments.length>1?arguments[1]:void 0)}}),Ur(ei);var ii=ge.findIndex,oi="findIndex",si=!0,ai=Gr(oi);oi in[]&&Array(1).findIndex((function(){si=!1})),Nt({target:"Array",proto:!0,forced:si||!ai},{findIndex:function(t){return ii(this,t,arguments.length>1?arguments[1]:void 0)}}),Ur(oi);var ci=function(t,e,n,r,i,o,s,a){for(var c,u=i,l=0,f=!!s&&le(s,a,3);l<r;){if(l in n){if(c=f?f(n[l],l,e):n[l],o>0&&qt(c))u=ci(t,e,c,ht(c.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[u]=c}u++}l++}return u},ui=ci;Nt({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Bt(this),n=ht(e.length),r=pe(e,0);return r.length=ui(r,e,e,n,0,void 0===t?1:pt(t)),r}}),Nt({target:"Array",proto:!0},{flatMap:function(t){var e,n=Bt(this),r=ht(n.length);return ue(t),(e=pe(n,0)).length=ui(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var li=ge.forEach,fi=Fr("forEach"),pi=Gr("forEach"),di=fi&&pi?[].forEach:function(t){return li(this,t,arguments.length>1?arguments[1]:void 0)};Nt({target:"Array",proto:!0,forced:[].forEach!=di},{forEach:di});var hi=bt.includes,gi=Gr("indexOf",{ACCESSORS:!0,1:0});Nt({target:"Array",proto:!0,forced:!gi},{includes:function(t){return hi(this,t,arguments.length>1?arguments[1]:void 0)}}),Ur("includes");var vi=bt.indexOf,mi=[].indexOf,yi=!!mi&&1/[1].indexOf(1,-0)<0,bi=Fr("indexOf"),_i=Gr("indexOf",{ACCESSORS:!0,1:0});Nt({target:"Array",proto:!0,forced:yi||!bi||!_i},{indexOf:function(t){return yi?mi.apply(this,arguments)||0:vi(this,t,arguments.length>1?arguments[1]:void 0)}});var wi=[].join,Ei=m!=Object,Si=Fr("join",",");Nt({target:"Array",proto:!0,forced:Ei||!Si},{join:function(t){return wi.call(b(this),void 0===t?",":t)}});var xi=Math.min,Oi=[].lastIndexOf,Ci=!!Oi&&1/[1].lastIndexOf(1,-0)<0,ki=Fr("lastIndexOf"),Ti=Gr("indexOf",{ACCESSORS:!0,1:0}),Ii=Ci||!ki||!Ti?function(t){if(Ci)return Oi.apply(this,arguments)||0;var e=b(this),n=ht(e.length),r=n-1;for(arguments.length>1&&(r=xi(r,pt(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}:Oi;Nt({target:"Array",proto:!0,forced:Ii!==[].lastIndexOf},{lastIndexOf:Ii});var Ai=ge.map,Di=Ar("map"),Pi=Gr("map");Nt({target:"Array",proto:!0,forced:!Di||!Pi},{map:function(t){return Ai(this,t,arguments.length>1?arguments[1]:void 0)}});var Mi=function(t){return function(e,n,r,i){ue(n);var o=Bt(e),s=m(o),a=ht(o.length),c=t?a-1:0,u=t?-1:1;if(r<2)for(;;){if(c in s){i=s[c],c+=u;break}if(c+=u,t?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;t?c>=0:a>c;c+=u)c in s&&(i=n(i,s[c],c,o));return i}},Ri={left:Mi(!1),right:Mi(!0)},Li=Ri.left,Ni=Fr("reduce"),ji=Gr("reduce",{1:0});Nt({target:"Array",proto:!0,forced:!Ni||!ji},{reduce:function(t){return Li(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var zi=Ri.right,qi=Fr("reduceRight"),Bi=Gr("reduce",{1:0});Nt({target:"Array",proto:!0,forced:!qi||!Bi},{reduceRight:function(t){return zi(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Ui=[].reverse,Fi=[1,2];Nt({target:"Array",proto:!0,forced:String(Fi)===String(Fi.reverse())},{reverse:function(){return qt(this)&&(this.length=this.length),Ui.call(this)}});var $i=Ar("slice"),Vi=Gr("slice",{ACCESSORS:!0,0:0,1:2}),Hi=ne("species"),Gi=[].slice,Qi=Math.max;Nt({target:"Array",proto:!0,forced:!$i||!Vi},{slice:function(t,e){var n,r,i,o=b(this),s=ht(o.length),a=mt(t,s),c=mt(void 0===e?s:e,s);if(qt(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!qt(n.prototype)?_(n)&&null===(n=n[Hi])&&(n=void 0):n=void 0,n===Array||void 0===n))return Gi.call(o,a,c);for(r=new(void 0===n?Array:n)(Qi(c-a,0)),i=0;a<c;a++,i++)a in o&&Cn(r,i,o[a]);return r.length=i,r}});var Wi=ge.some,Yi=Fr("some"),Ki=Gr("some");Nt({target:"Array",proto:!0,forced:!Yi||!Ki},{some:function(t){return Wi(this,t,arguments.length>1?arguments[1]:void 0)}});var Zi=[],Xi=Zi.sort,Ji=c((function(){Zi.sort(void 0)})),to=c((function(){Zi.sort(null)})),eo=Fr("sort");Nt({target:"Array",proto:!0,forced:Ji||!to||!eo},{sort:function(t){return void 0===t?Xi.call(Bt(this)):Xi.call(Bt(this),ue(t))}});var no=Ar("splice"),ro=Gr("splice",{ACCESSORS:!0,0:0,1:2}),io=Math.max,oo=Math.min,so=9007199254740991,ao="Maximum allowed length exceeded";Nt({target:"Array",proto:!0,forced:!no||!ro},{splice:function(t,e){var n,r,i,o,s,a,c=Bt(this),u=ht(c.length),l=mt(t,u),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=u-l):(n=f-2,r=oo(io(pt(e),0),u-l)),u+n-r>so)throw TypeError(ao);for(i=pe(c,r),o=0;o<r;o++)(s=l+o)in c&&Cn(i,o,c[s]);if(i.length=r,n<r){for(o=l;o<u-r;o++)a=o+n,(s=o+r)in c?c[a]=c[s]:delete c[a];for(o=u;o>u-r+n;o--)delete c[o-1]}else if(n>r)for(o=u-r;o>l;o--)a=o+n-1,(s=o+r-1)in c?c[a]=c[s]:delete c[a];for(o=0;o<n;o++)c[o+l]=arguments[o+2];return c.length=u-r+n,i}});var co=ne("species"),uo=function(t){var e=ut(t),n=P.f;u&&e&&!e[co]&&n(e,co,{configurable:!0,get:function(){return this}})};uo("Array"),Ur("flat"),Ur("flatMap");var lo,fo,po,ho=ne("iterator"),go=!1;[].keys&&("next"in(po=[].keys())?(fo=Rn(Rn(po)))!==Object.prototype&&(lo=fo):go=!0),null==lo&&(lo={}),S(lo,ho)||M(lo,ho,(function(){return this}));var vo={IteratorPrototype:lo,BUGGY_SAFARI_ITERATORS:go},mo=vo.IteratorPrototype,yo=function(){return this},bo=function(t,e,n){var r=e+" Iterator";return t.prototype=Wt(mo,{next:d(1,n)}),ce(t,r,!1),dn[r]=yo,t},_o=vo.IteratorPrototype,wo=vo.BUGGY_SAFARI_ITERATORS,Eo=ne("iterator"),So="keys",xo="values",Oo="entries",Co=function(){return this},ko=function(t,e,n,r,i,o,s){bo(n,e,r);var a,c,u,l=function(t){if(t===i&&g)return g;if(!wo&&t in d)return d[t];switch(t){case So:case xo:case Oo:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,d=t.prototype,h=d[Eo]||d["@@iterator"]||i&&d[i],g=!wo&&h||l(i),v="Array"==e&&d.entries||h;if(v&&(a=Rn(v.call(new t)),_o!==Object.prototype&&a.next&&(Rn(a)!==_o&&(Zn?Zn(a,_o):"function"!=typeof a[Eo]&&M(a,Eo,Co)),ce(a,f,!0))),i==xo&&h&&h.name!==xo&&(p=!0,g=function(){return h.call(this)}),d[Eo]!==g&&M(d,Eo,g),dn[e]=g,i)if(c={values:l(xo),keys:o?g:l(So),entries:l(Oo)},s)for(u in c)(wo||p||!(u in d))&&st(d,u,c[u]);else Nt({target:e,proto:!0,forced:wo||p},c);return c},To="Array Iterator",Io=ot.set,Ao=ot.getterFor(To),Do=ko(Array,"Array",(function(t,e){Io(this,{type:To,target:b(t),index:0,kind:e})}),(function(){var t=Ao(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");dn.Arguments=dn.Array,Ur("keys"),Ur("values"),Ur("entries");var Po=String.fromCharCode,Mo=String.fromCodePoint,Ro=!!Mo&&1!=Mo.length;Nt({target:"String",stat:!0,forced:Ro},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],mt(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Po(e):Po(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}}),Nt({target:"String",stat:!0},{raw:function(t){for(var e=b(t.raw),n=ht(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var Lo=function(t){return function(e,n){var r,i,o=String(y(e)),s=pt(n),a=o.length;return s<0||s>=a?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},No={codeAt:Lo(!1),charAt:Lo(!0)},jo=No.codeAt;Nt({target:"String",proto:!0},{codePointAt:function(t){return jo(this,t)}});var zo,qo=ne("match"),Bo=function(t){var e;return _(t)&&(void 0!==(e=t[qo])?!!e:"RegExp"==g(t))},Uo=function(t){if(Bo(t))throw TypeError("The method doesn't accept regular expressions");return t},Fo=ne("match"),$o=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Fo]=!1,"/./"[t](e)}catch(t){}}return!1},Vo=I.f,Ho="".endsWith,Go=Math.min,Qo=$o("endsWith"),Wo=!(Qo||(zo=Vo(String.prototype,"endsWith"),!zo||zo.writable));Nt({target:"String",proto:!0,forced:!Wo&&!Qo},{endsWith:function(t){var e=String(y(this));Uo(t);var n=arguments.length>1?arguments[1]:void 0,r=ht(e.length),i=void 0===n?r:Go(ht(n),r),o=String(t);return Ho?Ho.call(e,o,i):e.slice(i-o.length,i)===o}}),Nt({target:"String",proto:!0,forced:!$o("includes")},{includes:function(t){return!!~String(y(this)).indexOf(Uo(t),arguments.length>1?arguments[1]:void 0)}});var Yo=function(){var t=A(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e};function Ko(t,e){return RegExp(t,e)}var Zo={UNSUPPORTED_Y:c((function(){var t=Ko("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),BROKEN_CARET:c((function(){var t=Ko("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},Xo=RegExp.prototype.exec,Jo=String.prototype.replace,ts=Xo,es=function(){var t=/a/,e=/b*/g;return Xo.call(t,"a"),Xo.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),ns=Zo.UNSUPPORTED_Y||Zo.BROKEN_CARET,rs=void 0!==/()??/.exec("")[1];(es||rs||ns)&&(ts=function(t){var e,n,r,i,o=this,s=ns&&o.sticky,a=Yo.call(o),c=o.source,u=0,l=t;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),l=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",a)),rs&&(n=new RegExp("^"+c+"$(?!\\s)",a)),es&&(e=o.lastIndex),r=Xo.call(s?n:o,l),s?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:es&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),rs&&r&&r.length>1&&Jo.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var is=ts;Nt({target:"RegExp",proto:!0,forced:/./.exec!==is},{exec:is});var os=ne("species"),ss=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),as="$0"==="a".replace(/./,"$0"),cs=ne("replace"),us=!!/./[cs]&&""===/./[cs]("a","$0"),ls=!c((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),fs=function(t,e,n,r){var i=ne(t),o=!c((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),s=o&&!c((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[os]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!s||"replace"===t&&(!ss||!as||us)||"split"===t&&!ls){var a=/./[i],u=n(i,""[t],(function(t,e,n,r,i){return e.exec===is?o&&!i?{done:!0,value:a.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:as,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:us}),l=u[0],f=u[1];st(String.prototype,t,l),st(RegExp.prototype,i,2==e?function(t,e){return f.call(t,this,e)}:function(t){return f.call(t,this)})}r&&M(RegExp.prototype[i],"sham",!0)},ps=No.charAt,ds=function(t,e,n){return e+(n?ps(t,e).length:1)},hs=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==g(t))throw TypeError("RegExp#exec called on incompatible receiver");return is.call(t,e)};fs("match",1,(function(t,e,n){return[function(e){var n=y(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=A(t),o=String(this);if(!i.global)return hs(i,o);var s=i.unicode;i.lastIndex=0;for(var a,c=[],u=0;null!==(a=hs(i,o));){var l=String(a[0]);c[u]=l,""===l&&(i.lastIndex=ds(o,ht(i.lastIndex),s)),u++}return 0===u?null:c}]}));var gs=ne("species"),vs=function(t,e){var n,r=A(t).constructor;return void 0===r||null==(n=A(r)[gs])?e:ue(n)},ms=ne("matchAll"),ys="RegExp String",bs="RegExp String Iterator",_s=ot.set,ws=ot.getterFor(bs),Es=RegExp.prototype,Ss=Es.exec,xs="".matchAll,Os=!!xs&&!c((function(){"a".matchAll(/./)})),Cs=bo((function(t,e,n,r){_s(this,{type:bs,regexp:t,string:e,global:n,unicode:r,done:!1})}),ys,(function(){var t=ws(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return Ss.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=ds(n,ht(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})})),ks=function(t){var e,n,r,i,o,s,a=A(this),c=String(t);return e=vs(a,RegExp),void 0===(n=a.flags)&&a instanceof RegExp&&!("flags"in Es)&&(n=Yo.call(a)),r=void 0===n?"":String(n),i=new e(e===RegExp?a.source:a,r),o=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=ht(a.lastIndex),new Cs(i,c,o,s)};Nt({target:"String",proto:!0,forced:Os},{matchAll:function(t){var e,n,r=y(this);if(null!=t){if(Bo(t)&&!~String(y("flags"in Es?t.flags:Yo.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(Os)return xs.apply(r,arguments);if(null!=(n=t[ms]))return ue(n).call(t,r)}else if(Os)return xs.apply(r,arguments);return e=String(r),new RegExp(t,"g")[ms](e)}}),ms in Es||M(Es,ms,ks);var Ts="".repeat||function(t){var e=String(y(this)),n="",r=pt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},Is=Math.ceil,As=function(t){return function(e,n,r){var i,o,s=String(y(e)),a=s.length,c=void 0===r?" ":String(r),u=ht(n);return u<=a||""==c?s:(i=u-a,(o=Ts.call(c,Is(i/c.length))).length>i&&(o=o.slice(0,i)),t?s+o:o+s)}},Ds={start:As(!1),end:As(!0)},Ps=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(xr),Ms=Ds.end;Nt({target:"String",proto:!0,forced:Ps},{padEnd:function(t){return Ms(this,t,arguments.length>1?arguments[1]:void 0)}});var Rs=Ds.start;Nt({target:"String",proto:!0,forced:Ps},{padStart:function(t){return Rs(this,t,arguments.length>1?arguments[1]:void 0)}}),Nt({target:"String",proto:!0},{repeat:Ts});var Ls=Math.max,Ns=Math.min,js=Math.floor,zs=/\$([$&'`]|\d\d?|<[^>]*>)/g,qs=/\$([$&'`]|\d\d?)/g;fs("replace",2,(function(t,e,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,s=i?"$":"$0";return[function(n,r){var i=y(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(s)){var c=n(e,t,this,r);if(c.done)return c.value}var u=A(t),l=String(this),f="function"==typeof r;f||(r=String(r));var p=u.global;if(p){var d=u.unicode;u.lastIndex=0}for(var h=[];;){var g=hs(u,l);if(null===g)break;if(h.push(g),!p)break;""===String(g[0])&&(u.lastIndex=ds(l,ht(u.lastIndex),d))}for(var v,m="",y=0,b=0;b<h.length;b++){g=h[b];for(var _=String(g[0]),w=Ls(Ns(pt(g.index),l.length),0),E=[],S=1;S<g.length;S++)E.push(void 0===(v=g[S])?v:String(v));var x=g.groups;if(f){var O=[_].concat(E,w,l);void 0!==x&&O.push(x);var C=String(r.apply(void 0,O))}else C=a(_,l,w,E,x,r);w>=y&&(m+=l.slice(y,w)+C,y=w+_.length)}return m+l.slice(y)}];function a(t,n,r,i,o,s){var a=r+t.length,c=i.length,u=qs;return void 0!==o&&(o=Bt(o),u=zs),e.call(s,u,(function(e,s){var u;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(a);case"<":u=o[s.slice(1,-1)];break;default:var l=+s;if(0===l)return e;if(l>c){var f=js(l/10);return 0===f?e:f<=c?void 0===i[f-1]?s.charAt(1):i[f-1]+s.charAt(1):e}u=i[l-1]}return void 0===u?"":u}))}})),fs("search",1,(function(t,e,n){return[function(e){var n=y(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=A(t),o=String(this),s=i.lastIndex;Nn(s,0)||(i.lastIndex=0);var a=hs(i,o);return Nn(i.lastIndex,s)||(i.lastIndex=s),null===a?-1:a.index}]}));var Bs=[].push,Us=Math.min,Fs=4294967295,$s=!c((function(){return!RegExp(Fs,"y")}));fs("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(y(this)),i=void 0===n?Fs:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!Bo(t))return e.call(r,t,i);for(var o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,u+"g");(o=is.call(f,r))&&!((s=f.lastIndex)>l&&(c.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&Bs.apply(c,o.slice(1)),a=o[0].length,l=s,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===r.length?!a&&f.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=y(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var s=A(t),a=String(this),c=vs(s,RegExp),u=s.unicode,l=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+($s?"y":"g"),f=new c($s?s:"^(?:"+s.source+")",l),p=void 0===i?Fs:i>>>0;if(0===p)return[];if(0===a.length)return null===hs(f,a)?[a]:[];for(var d=0,h=0,g=[];h<a.length;){f.lastIndex=$s?h:0;var v,m=hs(f,$s?a:a.slice(h));if(null===m||(v=Us(ht(f.lastIndex+($s?0:h)),a.length))===d)h=ds(a,h,u);else{if(g.push(a.slice(d,h)),g.length===p)return g;for(var y=1;y<=m.length-1;y++)if(g.push(m[y]),g.length===p)return g;h=d=v}}return g.push(a.slice(d)),g}]}),!$s);var Vs=I.f,Hs="".startsWith,Gs=Math.min,Qs=$o("startsWith"),Ws=!Qs&&!!function(){var t=Vs(String.prototype,"startsWith");return t&&!t.writable}();Nt({target:"String",proto:!0,forced:!Ws&&!Qs},{startsWith:function(t){var e=String(y(this));Uo(t);var n=ht(Gs(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Hs?Hs.call(e,r,n):e.slice(n,n+r.length)===r}});var Ys="\t\n\v\f\r                　\u2028\u2029\ufeff",Ks="["+Ys+"]",Zs=RegExp("^"+Ks+Ks+"*"),Xs=RegExp(Ks+Ks+"*$"),Js=function(t){return function(e){var n=String(y(e));return 1&t&&(n=n.replace(Zs,"")),2&t&&(n=n.replace(Xs,"")),n}},ta={start:Js(1),end:Js(2),trim:Js(3)},ea=function(t){return c((function(){return!!Ys[t]()||"​᠎"!="​᠎"[t]()||Ys[t].name!==t}))},na=ta.trim;Nt({target:"String",proto:!0,forced:ea("trim")},{trim:function(){return na(this)}});var ra=ta.start,ia=ea("trimStart"),oa=ia?function(){return ra(this)}:"".trimStart;Nt({target:"String",proto:!0,forced:ia},{trimStart:oa,trimLeft:oa});var sa=ta.end,aa=ea("trimEnd"),ca=aa?function(){return sa(this)}:"".trimEnd;Nt({target:"String",proto:!0,forced:aa},{trimEnd:ca,trimRight:ca});var ua=No.charAt,la="String Iterator",fa=ot.set,pa=ot.getterFor(la);ko(String,"String",(function(t){fa(this,{type:la,string:String(t),index:0})}),(function(){var t,e=pa(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=ua(n,r),e.index+=t.length,{value:t,done:!1})}));var da=/"/g,ha=function(t,e,n,r){var i=String(y(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(r).replace(da,"&quot;")+'"'),o+">"+i+"</"+e+">"},ga=function(t){return c((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))};Nt({target:"String",proto:!0,forced:ga("anchor")},{anchor:function(t){return ha(this,"a","name",t)}}),Nt({target:"String",proto:!0,forced:ga("big")},{big:function(){return ha(this,"big","","")}}),Nt({target:"String",proto:!0,forced:ga("blink")},{blink:function(){return ha(this,"blink","","")}}),Nt({target:"String",proto:!0,forced:ga("bold")},{bold:function(){return ha(this,"b","","")}}),Nt({target:"String",proto:!0,forced:ga("fixed")},{fixed:function(){return ha(this,"tt","","")}}),Nt({target:"String",proto:!0,forced:ga("fontcolor")},{fontcolor:function(t){return ha(this,"font","color",t)}}),Nt({target:"String",proto:!0,forced:ga("fontsize")},{fontsize:function(t){return ha(this,"font","size",t)}}),Nt({target:"String",proto:!0,forced:ga("italics")},{italics:function(){return ha(this,"i","","")}}),Nt({target:"String",proto:!0,forced:ga("link")},{link:function(t){return ha(this,"a","href",t)}}),Nt({target:"String",proto:!0,forced:ga("small")},{small:function(){return ha(this,"small","","")}}),Nt({target:"String",proto:!0,forced:ga("strike")},{strike:function(){return ha(this,"strike","","")}}),Nt({target:"String",proto:!0,forced:ga("sub")},{sub:function(){return ha(this,"sub","","")}}),Nt({target:"String",proto:!0,forced:ga("sup")},{sup:function(){return ha(this,"sup","","")}});var va=function(t,e,n){var r,i;return Zn&&"function"==typeof(r=e.constructor)&&r!==n&&_(i=r.prototype)&&i!==n.prototype&&Zn(t,i),t},ma=P.f,ya=xt.f,ba=ot.set,_a=ne("match"),wa=a.RegExp,Ea=wa.prototype,Sa=/a/g,xa=/a/g,Oa=new wa(Sa)!==Sa,Ca=Zo.UNSUPPORTED_Y;if(u&&Rt("RegExp",!Oa||Ca||c((function(){return xa[_a]=!1,wa(Sa)!=Sa||wa(xa)==xa||"/a/i"!=wa(Sa,"i")})))){for(var ka=function(t,e){var n,r=this instanceof ka,i=Bo(t),o=void 0===e;if(!r&&i&&t.constructor===ka&&o)return t;Oa?i&&!o&&(t=t.source):t instanceof ka&&(o&&(e=Yo.call(t)),t=t.source),Ca&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=va(Oa?new wa(t,e):wa(t,e),r?this:Ea,ka);return Ca&&n&&ba(s,{sticky:n}),s},Ta=function(t){t in ka||ma(ka,t,{configurable:!0,get:function(){return wa[t]},set:function(e){wa[t]=e}})},Ia=ya(wa),Aa=0;Ia.length>Aa;)Ta(Ia[Aa++]);Ea.constructor=ka,ka.prototype=Ea,st(a,"RegExp",ka)}uo("RegExp"),u&&("g"!=/./g.flags||Zo.UNSUPPORTED_Y)&&P.f(RegExp.prototype,"flags",{configurable:!0,get:Yo});var Da=Zo.UNSUPPORTED_Y,Pa=P.f,Ma=ot.get,Ra=RegExp.prototype;u&&Da&&Pa(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==Ra){if(this instanceof RegExp)return!!Ma(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var La=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),Na=/./.test;Nt({target:"RegExp",proto:!0,forced:!La},{test:function(t){if("function"!=typeof this.exec)return Na.call(this,t);var e=this.exec(t);if(null!==e&&!_(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}});var ja="toString",za=RegExp.prototype,qa=za.toString,Ba=c((function(){return"/a/b"!=qa.call({source:"a",flags:"b"})})),Ua=qa.name!=ja;(Ba||Ua)&&st(RegExp.prototype,ja,(function(){var t=A(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in za)?Yo.call(t):n)}),{unsafe:!0});var Fa=ta.trim,$a=a.parseInt,Va=/^[+-]?0[Xx]/,Ha=8!==$a(Ys+"08")||22!==$a(Ys+"0x16")?function(t,e){var n=Fa(String(t));return $a(n,e>>>0||(Va.test(n)?16:10))}:$a;Nt({global:!0,forced:parseInt!=Ha},{parseInt:Ha});var Ga=ta.trim,Qa=a.parseFloat,Wa=1/Qa(Ys+"-0")!=-1/0?function(t){var e=Ga(String(t)),n=Qa(e);return 0===n&&"-"==e.charAt(0)?-0:n}:Qa;Nt({global:!0,forced:parseFloat!=Wa},{parseFloat:Wa});var Ya=xt.f,Ka=I.f,Za=P.f,Xa=ta.trim,Ja="Number",tc=a.Number,ec=tc.prototype,nc=g(Wt(ec))==Ja,rc=function(t){var e,n,r,i,o,s,a,c,u=w(t,!1);if("string"==typeof u&&u.length>2)if(43===(e=(u=Xa(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(s=(o=u.slice(2)).length,a=0;a<s;a++)if((c=o.charCodeAt(a))<48||c>i)return NaN;return parseInt(o,r)}return+u};if(Rt(Ja,!tc(" 0o1")||!tc("0b1")||tc("+0x1"))){for(var ic,oc=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof oc&&(nc?c((function(){ec.valueOf.call(n)})):g(n)!=Ja)?va(new tc(rc(e)),n,oc):rc(e)},sc=u?Ya(tc):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),ac=0;sc.length>ac;ac++)S(tc,ic=sc[ac])&&!S(oc,ic)&&Za(oc,ic,Ka(tc,ic));oc.prototype=ec,ec.constructor=oc,st(a,Ja,oc)}Nt({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var cc=a.isFinite,uc=Number.isFinite||function(t){return"number"==typeof t&&cc(t)};Nt({target:"Number",stat:!0},{isFinite:uc});var lc=Math.floor,fc=function(t){return!_(t)&&isFinite(t)&&lc(t)===t};Nt({target:"Number",stat:!0},{isInteger:fc}),Nt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var pc=Math.abs;Nt({target:"Number",stat:!0},{isSafeInteger:function(t){return fc(t)&&pc(t)<=9007199254740991}}),Nt({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Nt({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),Nt({target:"Number",stat:!0,forced:Number.parseFloat!=Wa},{parseFloat:Wa}),Nt({target:"Number",stat:!0,forced:Number.parseInt!=Ha},{parseInt:Ha});var dc=function(t){if("number"!=typeof t&&"Number"!=g(t))throw TypeError("Incorrect invocation");return+t},hc=1..toFixed,gc=Math.floor,vc=function(t,e,n){return 0===e?n:e%2==1?vc(t,e-1,n*t):vc(t*t,e/2,n)},mc=hc&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){hc.call({})}));Nt({target:"Number",proto:!0,forced:mc},{toFixed:function(t){var e,n,r,i,o=dc(this),s=pt(t),a=[0,0,0,0,0,0],c="",u="0",l=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*a[n],a[n]=r%1e7,r=gc(r/1e7)},f=function(t){for(var e=6,n=0;--e>=0;)n+=a[e],a[e]=gc(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==a[t]){var n=String(a[t]);e=""===e?n:e+Ts.call("0",7-n.length)+n}return e};if(s<0||s>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(c="-",o=-o),o>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*vc(2,69,1))-69)<0?o*vc(2,-e,1):o/vc(2,e,1),n*=4503599627370496,(e=52-e)>0){for(l(0,n),r=s;r>=7;)l(1e7,0),r-=7;for(l(vc(10,r,1),0),r=e-1;r>=23;)f(1<<23),r-=23;f(1<<r),l(1,1),f(2),u=p()}else l(0,n),l(1<<-e,0),u=p()+Ts.call("0",s);return u=s>0?c+((i=u.length)<=s?"0."+Ts.call("0",s-i)+u:u.slice(0,i-s)+"."+u.slice(i-s)):c+u}});var yc=1..toPrecision,bc=c((function(){return"1"!==yc.call(1,void 0)}))||!c((function(){yc.call({})}));Nt({target:"Number",proto:!0,forced:bc},{toPrecision:function(t){return void 0===t?yc.call(dc(this)):yc.call(dc(this),t)}});var _c=Math.log,wc=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:_c(1+t)},Ec=Math.acosh,Sc=Math.log,xc=Math.sqrt,Oc=Math.LN2,Cc=!Ec||710!=Math.floor(Ec(Number.MAX_VALUE))||Ec(1/0)!=1/0;Nt({target:"Math",stat:!0,forced:Cc},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Sc(t)+Oc:wc(t-1+xc(t-1)*xc(t+1))}});var kc=Math.asinh,Tc=Math.log,Ic=Math.sqrt;Nt({target:"Math",stat:!0,forced:!(kc&&1/kc(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Tc(e+Ic(e*e+1)):e}});var Ac=Math.atanh,Dc=Math.log;Nt({target:"Math",stat:!0,forced:!(Ac&&1/Ac(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:Dc((1+t)/(1-t))/2}});var Pc=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1},Mc=Math.abs,Rc=Math.pow;Nt({target:"Math",stat:!0},{cbrt:function(t){return Pc(t=+t)*Rc(Mc(t),1/3)}});var Lc=Math.floor,Nc=Math.log,jc=Math.LOG2E;Nt({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-Lc(Nc(t+.5)*jc):32}});var zc=Math.expm1,qc=Math.exp,Bc=!zc||zc(10)>22025.465794806718||zc(10)<22025.465794806718||-2e-17!=zc(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:qc(t)-1}:zc,Uc=Math.cosh,Fc=Math.abs,$c=Math.E;Nt({target:"Math",stat:!0,forced:!Uc||Uc(710)===1/0},{cosh:function(t){var e=Bc(Fc(t)-1)+1;return(e+1/(e*$c*$c))*($c/2)}}),Nt({target:"Math",stat:!0,forced:Bc!=Math.expm1},{expm1:Bc});var Vc=Math.abs,Hc=Math.pow,Gc=Hc(2,-52),Qc=Hc(2,-23),Wc=Hc(2,127)*(2-Qc),Yc=Hc(2,-126),Kc=Math.fround||function(t){var e,n,r=Vc(t),i=Pc(t);return r<Yc?i*(r/Yc/Qc+1/Gc-1/Gc)*Yc*Qc:(n=(e=(1+Qc/Gc)*r)-(e-r))>Wc||n!=n?i*(1/0):i*n};Nt({target:"Math",stat:!0},{fround:Kc});var Zc=Math.hypot,Xc=Math.abs,Jc=Math.sqrt,tu=!!Zc&&Zc(1/0,NaN)!==1/0;Nt({target:"Math",stat:!0,forced:tu},{hypot:function(t,e){for(var n,r,i=0,o=0,s=arguments.length,a=0;o<s;)a<(n=Xc(arguments[o++]))?(i=i*(r=a/n)*r+1,a=n):i+=n>0?(r=n/a)*r:n;return a===1/0?1/0:a*Jc(i)}});var eu=Math.imul,nu=c((function(){return-5!=eu(4294967295,5)||2!=eu.length}));Nt({target:"Math",stat:!0,forced:nu},{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}});var ru=Math.log,iu=Math.LOG10E;Nt({target:"Math",stat:!0},{log10:function(t){return ru(t)*iu}}),Nt({target:"Math",stat:!0},{log1p:wc});var ou=Math.log,su=Math.LN2;Nt({target:"Math",stat:!0},{log2:function(t){return ou(t)/su}}),Nt({target:"Math",stat:!0},{sign:Pc});var au=Math.abs,cu=Math.exp,uu=Math.E,lu=c((function(){return-2e-17!=Math.sinh(-2e-17)}));Nt({target:"Math",stat:!0,forced:lu},{sinh:function(t){return au(t=+t)<1?(Bc(t)-Bc(-t))/2:(cu(t-1)-cu(-t-1))*(uu/2)}});var fu=Math.exp;Nt({target:"Math",stat:!0},{tanh:function(t){var e=Bc(t=+t),n=Bc(-t);return e==1/0?1:n==1/0?-1:(e-n)/(fu(t)+fu(-t))}}),ce(Math,"Math",!0);var pu=Math.ceil,du=Math.floor;Nt({target:"Math",stat:!0},{trunc:function(t){return(t>0?du:pu)(t)}}),Nt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var hu=c((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));Nt({target:"Date",proto:!0,forced:hu},{toJSON:function(t){var e=Bt(this),n=w(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}});var gu=Ds.start,vu=Math.abs,mu=Date.prototype,yu=mu.getTime,bu=mu.toISOString,_u=c((function(){return"0385-07-25T07:06:39.999Z"!=bu.call(new Date(-50000000000001))}))||!c((function(){bu.call(new Date(NaN))}))?function(){if(!isFinite(yu.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+gu(vu(e),r?6:4,0)+"-"+gu(t.getUTCMonth()+1,2,0)+"-"+gu(t.getUTCDate(),2,0)+"T"+gu(t.getUTCHours(),2,0)+":"+gu(t.getUTCMinutes(),2,0)+":"+gu(t.getUTCSeconds(),2,0)+"."+gu(n,3,0)+"Z"}:bu;Nt({target:"Date",proto:!0,forced:Date.prototype.toISOString!==_u},{toISOString:_u});var wu=Date.prototype,Eu="Invalid Date",Su="toString",xu=wu.toString,Ou=wu.getTime;new Date(NaN)+""!=Eu&&st(wu,Su,(function(){var t=Ou.call(this);return t==t?xu.call(this):Eu}));var Cu=ne("toPrimitive"),ku=Date.prototype;Cu in ku||M(ku,Cu,(function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return w(A(this),"number"!==t)}));var Tu=ut("JSON","stringify"),Iu=/[\uD800-\uDFFF]/g,Au=/^[\uD800-\uDBFF]$/,Du=/^[\uDC00-\uDFFF]$/,Pu=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return Au.test(t)&&!Du.test(i)||Du.test(t)&&!Au.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},Mu=c((function(){return'"\\udf06\\ud834"'!==Tu("\udf06\ud834")||'"\\udead"'!==Tu("\udead")}));Tu&&Nt({target:"JSON",stat:!0,forced:Mu},{stringify:function(t,e,n){var r=Tu.apply(null,arguments);return"string"==typeof r?r.replace(Iu,Pu):r}}),ce(a.JSON,"JSON",!0);var Ru,Lu,Nu,ju=a.Promise,zu=function(t,e,n){for(var r in e)st(t,r,e[r],n);return t},qu=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Bu=/(iphone|ipod|ipad).*applewebkit/i.test(xr),Uu=a.location,Fu=a.setImmediate,$u=a.clearImmediate,Vu=a.process,Hu=a.MessageChannel,Gu=a.Dispatch,Qu=0,Wu={},Yu="onreadystatechange",Ku=function(t){if(Wu.hasOwnProperty(t)){var e=Wu[t];delete Wu[t],e()}},Zu=function(t){return function(){Ku(t)}},Xu=function(t){Ku(t.data)},Ju=function(t){a.postMessage(t+"",Uu.protocol+"//"+Uu.host)};Fu&&$u||(Fu=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return Wu[++Qu]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Ru(Qu),Qu},$u=function(t){delete Wu[t]},"process"==g(Vu)?Ru=function(t){Vu.nextTick(Zu(t))}:Gu&&Gu.now?Ru=function(t){Gu.now(Zu(t))}:Hu&&!Bu?(Nu=(Lu=new Hu).port2,Lu.port1.onmessage=Xu,Ru=le(Nu.postMessage,Nu,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||c(Ju)||"file:"===Uu.protocol?Ru=Yu in C("script")?function(t){$t.appendChild(C("script")).onreadystatechange=function(){$t.removeChild(this),Ku(t)}}:function(t){setTimeout(Zu(t),0)}:(Ru=Ju,a.addEventListener("message",Xu,!1)));var tl,el,nl,rl,il,ol,sl,al,cl={set:Fu,clear:$u},ul=I.f,ll=cl.set,fl=a.MutationObserver||a.WebKitMutationObserver,pl=a.process,dl=a.Promise,hl="process"==g(pl),gl=ul(a,"queueMicrotask"),vl=gl&&gl.value;vl||(tl=function(){var t,e;for(hl&&(t=pl.domain)&&t.exit();el;){e=el.fn,el=el.next;try{e()}catch(t){throw el?rl():nl=void 0,t}}nl=void 0,t&&t.enter()},hl?rl=function(){pl.nextTick(tl)}:fl&&!Bu?(il=!0,ol=document.createTextNode(""),new fl(tl).observe(ol,{characterData:!0}),rl=function(){ol.data=il=!il}):dl&&dl.resolve?(sl=dl.resolve(void 0),al=sl.then,rl=function(){al.call(sl,tl)}):rl=function(){ll.call(a,tl)});var ml,yl,bl,_l,wl=vl||function(t){var e={fn:t,next:void 0};nl&&(nl.next=e),el||(el=e,rl()),nl=e},El=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=ue(e),this.reject=ue(n)},Sl={f:function(t){return new El(t)}},xl=function(t,e){if(A(t),_(e)&&e.constructor===t)return e;var n=Sl.f(t);return(0,n.resolve)(e),n.promise},Ol=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Cl=cl.set,kl=ne("species"),Tl="Promise",Il=ot.get,Al=ot.set,Dl=ot.getterFor(Tl),Pl=ju,Ml=a.TypeError,Rl=a.document,Ll=a.process,Nl=ut("fetch"),jl=Sl.f,zl=jl,ql="process"==g(Ll),Bl=!!(Rl&&Rl.createEvent&&a.dispatchEvent),Ul="unhandledrejection",Fl=Rt(Tl,(function(){if(!(U(Pl)!==String(Pl))){if(66===Tr)return!0;if(!ql&&"function"!=typeof PromiseRejectionEvent)return!0}if(Tr>=51&&/native code/.test(Pl))return!1;var t=Pl.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[kl]=e,!(t.then((function(){}))instanceof e)})),$l=Fl||!br((function(t){Pl.all(t).catch((function(){}))})),Vl=function(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e},Hl=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;wl((function(){for(var i=e.value,o=1==e.state,s=0;r.length>s;){var a,c,u,l=r[s++],f=o?l.ok:l.fail,p=l.resolve,d=l.reject,h=l.domain;try{f?(o||(2===e.rejection&&Yl(t,e),e.rejection=1),!0===f?a=i:(h&&h.enter(),a=f(i),h&&(h.exit(),u=!0)),a===l.promise?d(Ml("Promise-chain cycle")):(c=Vl(a))?c.call(a,p,d):p(a)):d(i)}catch(t){h&&!u&&h.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Ql(t,e)}))}},Gl=function(t,e,n){var r,i;Bl?((r=Rl.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),a.dispatchEvent(r)):r={promise:e,reason:n},(i=a["on"+t])?i(r):t===Ul&&function(t,e){var n=a.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Ql=function(t,e){Cl.call(a,(function(){var n,r=e.value;if(Wl(e)&&(n=Ol((function(){ql?Ll.emit("unhandledRejection",r,t):Gl(Ul,t,r)})),e.rejection=ql||Wl(e)?2:1,n.error))throw n.value}))},Wl=function(t){return 1!==t.rejection&&!t.parent},Yl=function(t,e){Cl.call(a,(function(){ql?Ll.emit("rejectionHandled",t):Gl("rejectionhandled",t,e.value)}))},Kl=function(t,e,n,r){return function(i){t(e,n,i,r)}},Zl=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Hl(t,e,!0))},Xl=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw Ml("Promise can't be resolved itself");var i=Vl(n);i?wl((function(){var r={done:!1};try{i.call(n,Kl(Xl,t,r,e),Kl(Zl,t,r,e))}catch(n){Zl(t,r,n,e)}})):(e.value=n,e.state=1,Hl(t,e,!1))}catch(n){Zl(t,{done:!1},n,e)}}};Fl&&(Pl=function(t){qu(this,Pl,Tl),ue(t),ml.call(this);var e=Il(this);try{t(Kl(Xl,this,e),Kl(Zl,this,e))}catch(t){Zl(this,e,t)}},(ml=function(t){Al(this,{type:Tl,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=zu(Pl.prototype,{then:function(t,e){var n=Dl(this),r=jl(vs(this,Pl));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=ql?Ll.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Hl(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),yl=function(){var t=new ml,e=Il(t);this.promise=t,this.resolve=Kl(Xl,t,e),this.reject=Kl(Zl,t,e)},Sl.f=jl=function(t){return t===Pl||t===bl?new yl(t):zl(t)},"function"==typeof ju&&(_l=ju.prototype.then,st(ju.prototype,"then",(function(t,e){var n=this;return new Pl((function(t,e){_l.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof Nl&&Nt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return xl(Pl,Nl.apply(a,arguments))}}))),Nt({global:!0,wrap:!0,forced:Fl},{Promise:Pl}),ce(Pl,Tl,!1),uo(Tl),bl=ut(Tl),Nt({target:Tl,stat:!0,forced:Fl},{reject:function(t){var e=jl(this);return e.reject.call(void 0,t),e.promise}}),Nt({target:Tl,stat:!0,forced:Fl},{resolve:function(t){return xl(this,t)}}),Nt({target:Tl,stat:!0,forced:$l},{all:function(t){var e=this,n=jl(e),r=n.resolve,i=n.reject,o=Ol((function(){var n=ue(e.resolve),o=[],s=0,a=1;On(t,(function(t){var c=s++,u=!1;o.push(void 0),a++,n.call(e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=jl(e),r=n.reject,i=Ol((function(){var i=ue(e.resolve);On(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),Nt({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=Sl.f(e),r=n.resolve,i=n.reject,o=Ol((function(){var n=ue(e.resolve),i=[],o=0,s=1;On(t,(function(t){var a=o++,c=!1;i.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,i[a]={status:"fulfilled",value:t},--s||r(i))}),(function(t){c||(c=!0,i[a]={status:"rejected",reason:t},--s||r(i))}))})),--s||r(i)}));return o.error&&i(o.value),n.promise}});var Jl=!!ju&&c((function(){ju.prototype.finally.call({then:function(){}},(function(){}))}));Nt({target:"Promise",proto:!0,real:!0,forced:Jl},{finally:function(t){var e=vs(this,ut("Promise")),n="function"==typeof t;return this.then(n?function(n){return xl(e,t()).then((function(){return n}))}:t,n?function(n){return xl(e,t()).then((function(){throw n}))}:t)}}),"function"!=typeof ju||ju.prototype.finally||st(ju.prototype,"finally",ut("Promise").prototype.finally);var tf=function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",s=a[t],u=s&&s.prototype,l=s,f={},p=function(t){var e=u[t];st(u,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!_(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!_(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!_(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Rt(t,"function"!=typeof s||!(i||u.forEach&&!c((function(){(new s).entries().next()})))))l=n.getConstructor(e,t,r,o),un.REQUIRED=!0;else if(Rt(t,!0)){var d=new l,h=d[o](i?{}:-0,1)!=d,g=c((function(){d.has(1)})),v=br((function(t){new s(t)})),m=!i&&c((function(){for(var t=new s,e=5;e--;)t[o](e,e);return!t.has(-0)}));v||((l=e((function(e,n){qu(e,l,t);var i=va(new s,e,l);return null!=n&&On(n,i[o],i,r),i}))).prototype=u,u.constructor=l),(g||m)&&(p("delete"),p("has"),r&&p("get")),(m||h)&&p(o),i&&u.clear&&delete u.clear}return f[t]=l,Nt({global:!0,forced:l!=s},f),ce(l,t),i||n.setStrong(l,t,r),l},ef=P.f,nf=un.fastKey,rf=ot.set,of=ot.getterFor,sf={getConstructor:function(t,e,n,r){var i=t((function(t,o){qu(t,i,e),rf(t,{type:e,index:Wt(null),first:void 0,last:void 0,size:0}),u||(t.size=0),null!=o&&On(o,t[r],t,n)})),o=of(e),s=function(t,e,n){var r,i,s=o(t),c=a(t,e);return c?c.value=n:(s.last=c={index:i=nf(e,!0),key:e,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=c),r&&(r.next=c),u?s.size++:t.size++,"F"!==i&&(s.index[i]=c)),t},a=function(t,e){var n,r=o(t),i=nf(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return zu(i.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,u?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),r=a(e,t);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),u?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=o(this),r=le(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),zu(i.prototype,n?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),u&&ef(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=of(e),o=of(r);ko(t,e,(function(t,e){rf(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),uo(e)}},af=(tf("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),sf),tf("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),sf),un.getWeakData),cf=ot.set,uf=ot.getterFor,lf=ge.find,ff=ge.findIndex,pf=0,df=function(t){return t.frozen||(t.frozen=new hf)},hf=function(){this.entries=[]},gf=function(t,e){return lf(t.entries,(function(t){return t[0]===e}))};hf.prototype={get:function(t){var e=gf(this,t);if(e)return e[1]},has:function(t){return!!gf(this,t)},set:function(t,e){var n=gf(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=ff(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var vf={getConstructor:function(t,e,n,r){var i=t((function(t,o){qu(t,i,e),cf(t,{type:e,id:pf++,frozen:void 0}),null!=o&&On(o,t[r],t,n)})),o=uf(e),s=function(t,e,n){var r=o(t),i=af(A(e),!0);return!0===i?df(r).set(e,n):i[r.id]=n,t};return zu(i.prototype,{delete:function(t){var e=o(this);if(!_(t))return!1;var n=af(t);return!0===n?df(e).delete(t):n&&S(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!_(t))return!1;var n=af(t);return!0===n?df(e).has(t):n&&S(n,e.id)}}),zu(i.prototype,n?{get:function(t){var e=o(this);if(_(t)){var n=af(t);return!0===n?df(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),i}};o((function(t){var e,n=ot.enforce,r=!a.ActiveXObject&&"ActiveXObject"in a,i=Object.isExtensible,o=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},s=t.exports=tf("WeakMap",o,vf);if(V&&r){e=vf.getConstructor(o,"WeakMap",!0),un.REQUIRED=!0;var c=s.prototype,u=c.delete,l=c.has,f=c.get,p=c.set;zu(c,{delete:function(t){if(_(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),u.call(this,t)||r.frozen.delete(t)}return u.call(this,t)},has:function(t){if(_(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),l.call(this,t)||r.frozen.has(t)}return l.call(this,t)},get:function(t){if(_(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),l.call(this,t)?f.call(this,t):r.frozen.get(t)}return f.call(this,t)},set:function(t,r){if(_(t)&&!i(t)){var o=n(this);o.frozen||(o.frozen=new e),l.call(this,t)?p.call(this,t,r):o.frozen.set(t,r)}else p.call(this,t,r);return this}})}}));tf("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),vf);var mf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,yf=function(t){if(void 0===t)return 0;var e=pt(t),n=ht(e);if(e!==n)throw RangeError("Wrong length or index");return n},bf=1/0,_f=Math.abs,wf=Math.pow,Ef=Math.floor,Sf=Math.log,xf=Math.LN2,Of=function(t,e,n){var r,i,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,u=c>>1,l=23===e?wf(2,-24)-wf(2,-77):0,f=t<0||0===t&&1/t<0?1:0,p=0;for((t=_f(t))!=t||t===bf?(i=t!=t?1:0,r=c):(r=Ef(Sf(t)/xf),t*(o=wf(2,-r))<1&&(r--,o*=2),(t+=r+u>=1?l/o:l*wf(2,1-u))*o>=2&&(r++,o/=2),r+u>=c?(i=0,r=c):r+u>=1?(i=(t*o-1)*wf(2,e),r+=u):(i=t*wf(2,u-1)*wf(2,e),r=0));e>=8;s[p++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;a>0;s[p++]=255&r,r/=256,a-=8);return s[--p]|=128*f,s},Cf=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,s=o>>1,a=i-7,c=r-1,u=t[c--],l=127&u;for(u>>=7;a>0;l=256*l+t[c],c--,a-=8);for(n=l&(1<<-a)-1,l>>=-a,a+=e;a>0;n=256*n+t[c],c--,a-=8);if(0===l)l=1-s;else{if(l===o)return n?NaN:u?-1/0:bf;n+=wf(2,e),l-=s}return(u?-1:1)*n*wf(2,l-e)},kf=xt.f,Tf=P.f,If=ot.get,Af=ot.set,Df="ArrayBuffer",Pf="DataView",Mf="Wrong index",Rf=a.ArrayBuffer,Lf=Rf,Nf=a.DataView,jf=Nf&&Nf.prototype,zf=Object.prototype,qf=a.RangeError,Bf=Of,Uf=Cf,Ff=function(t){return[255&t]},$f=function(t){return[255&t,t>>8&255]},Vf=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Hf=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Gf=function(t){return Bf(t,23,4)},Qf=function(t){return Bf(t,52,8)},Wf=function(t,e){Tf(t.prototype,e,{get:function(){return If(this)[e]}})},Yf=function(t,e,n,r){var i=yf(n),o=If(t);if(i+e>o.byteLength)throw qf(Mf);var s=If(o.buffer).bytes,a=i+o.byteOffset,c=s.slice(a,a+e);return r?c:c.reverse()},Kf=function(t,e,n,r,i,o){var s=yf(n),a=If(t);if(s+e>a.byteLength)throw qf(Mf);for(var c=If(a.buffer).bytes,u=s+a.byteOffset,l=r(+i),f=0;f<e;f++)c[u+f]=l[o?f:e-f-1]};if(mf){if(!c((function(){Rf(1)}))||!c((function(){new Rf(-1)}))||c((function(){return new Rf,new Rf(1.5),new Rf(NaN),Rf.name!=Df}))){for(var Zf,Xf=(Lf=function(t){return qu(this,Lf),new Rf(yf(t))}).prototype=Rf.prototype,Jf=kf(Rf),tp=0;Jf.length>tp;)(Zf=Jf[tp++])in Lf||M(Lf,Zf,Rf[Zf]);Xf.constructor=Lf}Zn&&Rn(jf)!==zf&&Zn(jf,zf);var ep=new Nf(new Lf(2)),np=jf.setInt8;ep.setInt8(0,2147483648),ep.setInt8(1,2147483649),!ep.getInt8(0)&&ep.getInt8(1)||zu(jf,{setInt8:function(t,e){np.call(this,t,e<<24>>24)},setUint8:function(t,e){np.call(this,t,e<<24>>24)}},{unsafe:!0})}else Lf=function(t){qu(this,Lf,Df);var e=yf(t);Af(this,{bytes:Kr.call(new Array(e),0),byteLength:e}),u||(this.byteLength=e)},Nf=function(t,e,n){qu(this,Nf,Pf),qu(t,Lf,Pf);var r=If(t).byteLength,i=pt(e);if(i<0||i>r)throw qf("Wrong offset");if(i+(n=void 0===n?r-i:ht(n))>r)throw qf("Wrong length");Af(this,{buffer:t,byteLength:n,byteOffset:i}),u||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},u&&(Wf(Lf,"byteLength"),Wf(Nf,"buffer"),Wf(Nf,"byteLength"),Wf(Nf,"byteOffset")),zu(Nf.prototype,{getInt8:function(t){return Yf(this,1,t)[0]<<24>>24},getUint8:function(t){return Yf(this,1,t)[0]},getInt16:function(t){var e=Yf(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Yf(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Hf(Yf(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Hf(Yf(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return Uf(Yf(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return Uf(Yf(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Kf(this,1,t,Ff,e)},setUint8:function(t,e){Kf(this,1,t,Ff,e)},setInt16:function(t,e){Kf(this,2,t,$f,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Kf(this,2,t,$f,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Kf(this,4,t,Vf,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Kf(this,4,t,Vf,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Kf(this,4,t,Gf,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Kf(this,8,t,Qf,e,arguments.length>2?arguments[2]:void 0)}});ce(Lf,Df),ce(Nf,Pf);var rp={ArrayBuffer:Lf,DataView:Nf},ip="ArrayBuffer",op=rp.ArrayBuffer,sp=a.ArrayBuffer;Nt({global:!0,forced:sp!==op},{ArrayBuffer:op}),uo(ip);var ap,cp=P.f,up=a.Int8Array,lp=up&&up.prototype,fp=a.Uint8ClampedArray,pp=fp&&fp.prototype,dp=up&&Rn(up),hp=lp&&Rn(lp),gp=Object.prototype,vp=gp.isPrototypeOf,mp=ne("toStringTag"),yp=W("TYPED_ARRAY_TAG"),bp=mf&&!!Zn&&"Opera"!==wn(a.opera),_p=!1,wp={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ep=function(t){return _(t)&&S(wp,wn(t))};for(ap in wp)a[ap]||(bp=!1);if((!bp||"function"!=typeof dp||dp===Function.prototype)&&(dp=function(){throw TypeError("Incorrect invocation")},bp))for(ap in wp)a[ap]&&Zn(a[ap],dp);if((!bp||!hp||hp===gp)&&(hp=dp.prototype,bp))for(ap in wp)a[ap]&&Zn(a[ap].prototype,hp);if(bp&&Rn(pp)!==hp&&Zn(pp,hp),u&&!S(hp,mp))for(ap in _p=!0,cp(hp,mp,{get:function(){return _(this)?this[yp]:void 0}}),wp)a[ap]&&M(a[ap],yp,ap);var Sp={NATIVE_ARRAY_BUFFER_VIEWS:bp,TYPED_ARRAY_TAG:_p&&yp,aTypedArray:function(t){if(Ep(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Zn){if(vp.call(dp,t))return t}else for(var e in wp)if(S(wp,ap)){var n=a[e];if(n&&(t===n||vp.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(u){if(n)for(var r in wp){var i=a[r];i&&S(i.prototype,t)&&delete i.prototype[t]}hp[t]&&!n||st(hp,t,n?e:bp&&lp[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(u){if(Zn){if(n)for(r in wp)(i=a[r])&&S(i,t)&&delete i[t];if(dp[t]&&!n)return;try{return st(dp,t,n?e:bp&&up[t]||e)}catch(t){}}for(r in wp)!(i=a[r])||i[t]&&!n||st(i,t,e)}},isView:function(t){var e=wn(t);return"DataView"===e||S(wp,e)},isTypedArray:Ep,TypedArray:dp,TypedArrayPrototype:hp};Nt({target:"ArrayBuffer",stat:!0,forced:!Sp.NATIVE_ARRAY_BUFFER_VIEWS},{isView:Sp.isView});var xp=rp.ArrayBuffer,Op=rp.DataView,Cp=xp.prototype.slice,kp=c((function(){return!new xp(2).slice(1,void 0).byteLength}));Nt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:kp},{slice:function(t,e){if(void 0!==Cp&&void 0===e)return Cp.call(A(this),t);for(var n=A(this).byteLength,r=mt(t,n),i=mt(void 0===e?n:e,n),o=new(vs(this,xp))(ht(i-r)),s=new Op(this),a=new Op(o),c=0;r<i;)a.setUint8(c++,s.getUint8(r++));return o}}),Nt({global:!0,forced:!mf},{DataView:rp.DataView});var Tp=Sp.NATIVE_ARRAY_BUFFER_VIEWS,Ip=a.ArrayBuffer,Ap=a.Int8Array,Dp=!Tp||!c((function(){Ap(1)}))||!c((function(){new Ap(-1)}))||!br((function(t){new Ap,new Ap(null),new Ap(1.5),new Ap(t)}),!0)||c((function(){return 1!==new Ap(new Ip(2),1,void 0).length})),Pp=function(t,e){var n=function(t){var e=pt(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}(t);if(n%e)throw RangeError("Wrong offset");return n},Mp=Sp.aTypedArrayConstructor,Rp=function(t){var e,n,r,i,o,s,a=Bt(t),c=arguments.length,u=c>1?arguments[1]:void 0,l=void 0!==u,f=Sn(a);if(null!=f&&!vn(f))for(s=(o=f.call(a)).next,a=[];!(i=s.call(o)).done;)a.push(i.value);for(l&&c>2&&(u=le(u,arguments[2],2)),n=ht(a.length),r=new(Mp(this))(n),e=0;n>e;e++)r[e]=l?u(a[e],e):a[e];return r},Lp=o((function(t){var e=xt.f,n=ge.forEach,r=ot.get,i=ot.set,o=P.f,s=I.f,c=Math.round,l=a.RangeError,f=rp.ArrayBuffer,p=rp.DataView,h=Sp.NATIVE_ARRAY_BUFFER_VIEWS,g=Sp.TYPED_ARRAY_TAG,v=Sp.TypedArray,m=Sp.TypedArrayPrototype,y=Sp.aTypedArrayConstructor,b=Sp.isTypedArray,E="BYTES_PER_ELEMENT",x="Wrong length",O=function(t,e){for(var n=0,r=e.length,i=new(y(t))(r);r>n;)i[n]=e[n++];return i},C=function(t,e){o(t,e,{get:function(){return r(this)[e]}})},k=function(t){var e;return t instanceof f||"ArrayBuffer"==(e=wn(t))||"SharedArrayBuffer"==e},T=function(t,e){return b(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},A=function(t,e){return T(t,e=w(e,!0))?d(2,t[e]):s(t,e)},D=function(t,e,n){return!(T(t,e=w(e,!0))&&_(n)&&S(n,"value"))||S(n,"get")||S(n,"set")||n.configurable||S(n,"writable")&&!n.writable||S(n,"enumerable")&&!n.enumerable?o(t,e,n):(t[e]=n.value,t)};u?(h||(I.f=A,P.f=D,C(m,"buffer"),C(m,"byteOffset"),C(m,"byteLength"),C(m,"length")),Nt({target:"Object",stat:!0,forced:!h},{getOwnPropertyDescriptor:A,defineProperty:D}),t.exports=function(t,s,u){var d=t.match(/\d+$/)[0]/8,y=t+(u?"Clamped":"")+"Array",w="get"+t,S="set"+t,C=a[y],T=C,I=T&&T.prototype,A={},D=function(t,e){o(t,e,{get:function(){return function(t,e){var n=r(t);return n.view[w](e*d+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=r(t);u&&(n=(n=c(n))<0?0:n>255?255:255&n),i.view[S](e*d+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};h?Dp&&(T=s((function(t,e,n,r){return qu(t,T,y),va(_(e)?k(e)?void 0!==r?new C(e,Pp(n,d),r):void 0!==n?new C(e,Pp(n,d)):new C(e):b(e)?O(T,e):Rp.call(T,e):new C(yf(e)),t,T)})),Zn&&Zn(T,v),n(e(C),(function(t){t in T||M(T,t,C[t])})),T.prototype=I):(T=s((function(t,e,n,r){qu(t,T,y);var o,s,a,c=0,u=0;if(_(e)){if(!k(e))return b(e)?O(T,e):Rp.call(T,e);o=e,u=Pp(n,d);var h=e.byteLength;if(void 0===r){if(h%d)throw l(x);if((s=h-u)<0)throw l(x)}else if((s=ht(r)*d)+u>h)throw l(x);a=s/d}else a=yf(e),o=new f(s=a*d);for(i(t,{buffer:o,byteOffset:u,byteLength:s,length:a,view:new p(o)});c<a;)D(t,c++)})),Zn&&Zn(T,v),I=T.prototype=Wt(m)),I.constructor!==T&&M(I,"constructor",T),g&&M(I,g,y),A[y]=T,Nt({global:!0,forced:T!=C,sham:!h},A),E in T||M(T,E,d),E in I||M(I,E,d),uo(y)}):t.exports=function(){}}));Lp("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0),Lp("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Lp("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}})),(0,Sp.exportTypedArrayStaticMethod)("from",Rp,Dp);var Np=Sp.aTypedArrayConstructor;(0,Sp.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(Np(this))(e);e>t;)n[t]=arguments[t++];return n}),Dp);var jp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("copyWithin",(function(t,e){return zr.call(jp(this),t,e,arguments.length>2?arguments[2]:void 0)}));var zp=ge.every,qp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("every",(function(t){return zp(qp(this),t,arguments.length>1?arguments[1]:void 0)}));var Bp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("fill",(function(t){return Kr.apply(Bp(this),arguments)}));var Up=ge.filter,Fp=Sp.aTypedArray,$p=Sp.aTypedArrayConstructor;(0,Sp.exportTypedArrayMethod)("filter",(function(t){for(var e=Up(Fp(this),t,arguments.length>1?arguments[1]:void 0),n=vs(this,this.constructor),r=0,i=e.length,o=new($p(n))(i);i>r;)o[r]=e[r++];return o}));var Vp=ge.find,Hp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("find",(function(t){return Vp(Hp(this),t,arguments.length>1?arguments[1]:void 0)}));var Gp=ge.findIndex,Qp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("findIndex",(function(t){return Gp(Qp(this),t,arguments.length>1?arguments[1]:void 0)}));var Wp=ge.forEach,Yp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("forEach",(function(t){Wp(Yp(this),t,arguments.length>1?arguments[1]:void 0)}));var Kp=bt.includes,Zp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("includes",(function(t){return Kp(Zp(this),t,arguments.length>1?arguments[1]:void 0)}));var Xp=bt.indexOf,Jp=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("indexOf",(function(t){return Xp(Jp(this),t,arguments.length>1?arguments[1]:void 0)}));var td=ne("iterator"),ed=a.Uint8Array,nd=Do.values,rd=Do.keys,id=Do.entries,od=Sp.aTypedArray,sd=Sp.exportTypedArrayMethod,ad=ed&&ed.prototype[td],cd=!!ad&&("values"==ad.name||null==ad.name),ud=function(){return nd.call(od(this))};sd("entries",(function(){return id.call(od(this))})),sd("keys",(function(){return rd.call(od(this))})),sd("values",ud,!cd),sd(td,ud,!cd);var ld=Sp.aTypedArray,fd=[].join;(0,Sp.exportTypedArrayMethod)("join",(function(t){return fd.apply(ld(this),arguments)}));var pd=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("lastIndexOf",(function(t){return Ii.apply(pd(this),arguments)}));var dd=ge.map,hd=Sp.aTypedArray,gd=Sp.aTypedArrayConstructor;(0,Sp.exportTypedArrayMethod)("map",(function(t){return dd(hd(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(gd(vs(t,t.constructor)))(e)}))}));var vd=Ri.left,md=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("reduce",(function(t){return vd(md(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var yd=Ri.right,bd=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("reduceRight",(function(t){return yd(bd(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var _d=Sp.aTypedArray,wd=Sp.exportTypedArrayMethod,Ed=Math.floor;wd("reverse",(function(){for(var t,e=this,n=_d(e).length,r=Ed(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e}));var Sd=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("set",(function(t){Sd(this);var e=Pp(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=Bt(t),i=ht(r.length),o=0;if(i+e>n)throw RangeError("Wrong length");for(;o<i;)this[e+o]=r[o++]}),c((function(){new Int8Array(1).set({})})));var xd=Sp.aTypedArray,Od=Sp.aTypedArrayConstructor,Cd=[].slice;(0,Sp.exportTypedArrayMethod)("slice",(function(t,e){for(var n=Cd.call(xd(this),t,e),r=vs(this,this.constructor),i=0,o=n.length,s=new(Od(r))(o);o>i;)s[i]=n[i++];return s}),c((function(){new Int8Array(1).slice()})));var kd=ge.some,Td=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("some",(function(t){return kd(Td(this),t,arguments.length>1?arguments[1]:void 0)}));var Id=Sp.aTypedArray,Ad=[].sort;(0,Sp.exportTypedArrayMethod)("sort",(function(t){return Ad.call(Id(this),t)}));var Dd=Sp.aTypedArray;(0,Sp.exportTypedArrayMethod)("subarray",(function(t,e){var n=Dd(this),r=n.length,i=mt(t,r);return new(vs(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ht((void 0===e?r:mt(e,r))-i))}));var Pd=a.Int8Array,Md=Sp.aTypedArray,Rd=Sp.exportTypedArrayMethod,Ld=[].toLocaleString,Nd=[].slice,jd=!!Pd&&c((function(){Ld.call(new Pd(1))}));Rd("toLocaleString",(function(){return Ld.apply(jd?Nd.call(Md(this)):Md(this),arguments)}),c((function(){return[1,2].toLocaleString()!=new Pd([1,2]).toLocaleString()}))||!c((function(){Pd.prototype.toLocaleString.call([1,2])})));var zd=Sp.exportTypedArrayMethod,qd=a.Uint8Array,Bd=qd&&qd.prototype||{},Ud=[].toString,Fd=[].join;c((function(){Ud.call({})}))&&(Ud=function(){return Fd.call(this)});var $d=Bd.toString!=Ud;zd("toString",Ud,$d);var Vd=ut("Reflect","apply"),Hd=Function.apply,Gd=!c((function(){Vd((function(){}))}));Nt({target:"Reflect",stat:!0,forced:Gd},{apply:function(t,e,n){return ue(t),A(n),Vd?Vd(t,e,n):Hd.call(t,e,n)}});var Qd=ut("Reflect","construct"),Wd=c((function(){function t(){}return!(Qd((function(){}),[],t)instanceof t)})),Yd=!c((function(){Qd((function(){}))})),Kd=Wd||Yd;Nt({target:"Reflect",stat:!0,forced:Kd,sham:Kd},{construct:function(t,e){ue(t),A(e);var n=arguments.length<3?t:ue(arguments[2]);if(Yd&&!Wd)return Qd(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(sr.apply(t,r))}var i=n.prototype,o=Wt(_(i)?i:Object.prototype),s=Function.apply.call(t,o,e);return _(s)?s:o}});var Zd=c((function(){Reflect.defineProperty(P.f({},1,{value:1}),1,{value:2})}));Nt({target:"Reflect",stat:!0,forced:Zd,sham:!u},{defineProperty:function(t,e,n){A(t);var r=w(e,!0);A(n);try{return P.f(t,r,n),!0}catch(t){return!1}}});var Xd=I.f;Nt({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=Xd(A(t),e);return!(n&&!n.configurable)&&delete t[e]}}),Nt({target:"Reflect",stat:!0},{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return A(e)===o?e[n]:(r=I.f(e,n))?S(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):_(i=Rn(e))?t(i,n,o):void 0}}),Nt({target:"Reflect",stat:!0,sham:!u},{getOwnPropertyDescriptor:function(t,e){return I.f(A(t),e)}}),Nt({target:"Reflect",stat:!0,sham:!Dn},{getPrototypeOf:function(t){return Rn(A(t))}}),Nt({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var Jd=Object.isExtensible;Nt({target:"Reflect",stat:!0},{isExtensible:function(t){return A(t),!Jd||Jd(t)}}),Nt({target:"Reflect",stat:!0},{ownKeys:Ct}),Nt({target:"Reflect",stat:!0,sham:!cn},{preventExtensions:function(t){A(t);try{var e=ut("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var th=c((function(){var t=P.f({},"a",{configurable:!0});return!1!==Reflect.set(Rn(t),"a",1,t)}));Nt({target:"Reflect",stat:!0,forced:th},{set:function t(e,n,r){var i,o,s=arguments.length<4?e:arguments[3],a=I.f(A(e),n);if(!a){if(_(o=Rn(e)))return t(o,n,r,s);a=d(0)}if(S(a,"value")){if(!1===a.writable||!_(s))return!1;if(i=I.f(s,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,P.f(s,n,i)}else P.f(s,n,d(0,r));return!0}return void 0!==a.set&&(a.set.call(s,r),!0)}}),Zn&&Nt({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){A(t),Kn(e);try{return Zn(t,e),!0}catch(t){return!1}}});var eh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var nh in eh){var rh=a[nh],ih=rh&&rh.prototype;if(ih&&ih.forEach!==di)try{M(ih,"forEach",di)}catch(t){ih.forEach=di}}var oh=ne("iterator"),sh=ne("toStringTag"),ah=Do.values;for(var ch in eh){var uh=a[ch],lh=uh&&uh.prototype;if(lh){if(lh[oh]!==ah)try{M(lh,oh,ah)}catch(t){lh[oh]=ah}if(lh[sh]||M(lh,sh,ch),eh[ch])for(var fh in Do)if(lh[fh]!==Do[fh])try{M(lh,fh,Do[fh])}catch(t){lh[fh]=Do[fh]}}}var ph=!a.setImmediate||!a.clearImmediate;Nt({global:!0,bind:!0,enumerable:!0,forced:ph},{setImmediate:cl.set,clearImmediate:cl.clear});var dh=a.process,hh="process"==g(dh);Nt({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=hh&&dh.domain;wl(e?e.bind(t):t)}});var gh=[].slice,vh=/MSIE .\./.test(xr),mh=function(t){return function(e,n){var r=arguments.length>2,i=r?gh.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};Nt({global:!0,bind:!0,forced:vh},{setTimeout:mh(a.setTimeout),setInterval:mh(a.setInterval)});var yh=ne("iterator"),bh=!c((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[yh]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),_h=2147483647,wh=/[^\0-\u007E]/,Eh=/[.\u3002\uFF0E\uFF61]/g,Sh="Overflow: input needs wider integers to process",xh=Math.floor,Oh=String.fromCharCode,Ch=function(t){return t+22+75*(t<26)},kh=function(t,e,n){var r=0;for(t=n?xh(t/700):t>>1,t+=xh(t/e);t>455;r+=36)t=xh(t/35);return xh(r+36*t/(t+38))},Th=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,o=128,s=0,a=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(Oh(n));var c=r.length,u=c;for(c&&r.push("-");u<i;){var l=_h;for(e=0;e<t.length;e++)(n=t[e])>=o&&n<l&&(l=n);var f=u+1;if(l-o>xh((_h-s)/f))throw RangeError(Sh);for(s+=(l-o)*f,o=l,e=0;e<t.length;e++){if((n=t[e])<o&&++s>_h)throw RangeError(Sh);if(n==o){for(var p=s,d=36;;d+=36){var h=d<=a?1:d>=a+26?26:d-a;if(p<h)break;var g=p-h,v=36-h;r.push(Oh(Ch(h+g%v))),p=xh(g/v)}r.push(Oh(Ch(p))),a=kh(s,f,u==c),s=0,++u}}++s,++o}return r.join("")},Ih=function(t){var e=Sn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return A(e.call(t))},Ah=ut("fetch"),Dh=ut("Headers"),Ph=ne("iterator"),Mh="URLSearchParams",Rh="URLSearchParamsIterator",Lh=ot.set,Nh=ot.getterFor(Mh),jh=ot.getterFor(Rh),zh=/\+/g,qh=Array(4),Bh=function(t){return qh[t-1]||(qh[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},Uh=function(t){try{return decodeURIComponent(t)}catch(e){return t}},Fh=function(t){var e=t.replace(zh," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(Bh(n--),Uh);return e}},$h=/[!'()~]|%20/g,Vh={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Hh=function(t){return Vh[t]},Gh=function(t){return encodeURIComponent(t).replace($h,Hh)},Qh=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:Fh(r.shift()),value:Fh(r.join("="))}))},Wh=function(t){this.entries.length=0,Qh(this.entries,t)},Yh=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Kh=bo((function(t,e){Lh(this,{type:Rh,iterator:Ih(Nh(t).entries),kind:e})}),"Iterator",(function(){var t=jh(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Zh=function(){qu(this,Zh,Mh);var t,e,n,r,i,o,s,a,c,u=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(Lh(l,{type:Mh,entries:f,updateURL:function(){},updateSearchParams:Wh}),void 0!==u)if(_(u))if("function"==typeof(t=Sn(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((s=(o=(i=Ih(A(r.value))).next).call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:s.value+"",value:a.value+""})}else for(c in u)S(u,c)&&f.push({key:c,value:u[c]+""});else Qh(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Xh=Zh.prototype;zu(Xh,{append:function(t,e){Yh(arguments.length,2);var n=Nh(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){Yh(arguments.length,1);for(var e=Nh(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){Yh(arguments.length,1);for(var e=Nh(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){Yh(arguments.length,1);for(var e=Nh(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){Yh(arguments.length,1);for(var e=Nh(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){Yh(arguments.length,1);for(var n,r=Nh(this),i=r.entries,o=!1,s=t+"",a=e+"",c=0;c<i.length;c++)(n=i[c]).key===s&&(o?i.splice(c--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var t,e,n,r=Nh(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=Nh(this).entries,r=le(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new Kh(this,"keys")},values:function(){return new Kh(this,"values")},entries:function(){return new Kh(this,"entries")}},{enumerable:!0}),st(Xh,Ph,Xh.entries),st(Xh,"toString",(function(){for(var t,e=Nh(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(Gh(t.key)+"="+Gh(t.value));return n.join("&")}),{enumerable:!0}),ce(Zh,Mh),Nt({global:!0,forced:!bh},{URLSearchParams:Zh}),bh||"function"!=typeof Ah||"function"!=typeof Dh||Nt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(_(e=arguments[1])&&(n=e.body,wn(n)===Mh&&((r=e.headers?new Dh(e.headers):new Dh).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=Wt(e,{body:d(0,String(n)),headers:d(0,r)}))),i.push(e)),Ah.apply(this,i)}});var Jh,tg={URLSearchParams:Zh,getState:Nh},eg=No.codeAt,ng=a.URL,rg=tg.URLSearchParams,ig=tg.getState,og=ot.set,sg=ot.getterFor("URL"),ag=Math.floor,cg=Math.pow,ug="Invalid scheme",lg="Invalid host",fg="Invalid port",pg=/[A-Za-z]/,dg=/[\d+-.A-Za-z]/,hg=/\d/,gg=/^(0x|0X)/,vg=/^[0-7]+$/,mg=/^\d+$/,yg=/^[\dA-Fa-f]+$/,bg=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,_g=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,wg=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Eg=/[\u0009\u000A\u000D]/g,Sg=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return lg;if(!(n=Og(e.slice(1,-1))))return lg;t.host=n}else if(Mg(t)){if(e=function(t){var e,n,r=[],i=t.toLowerCase().replace(Eh,".").split(".");for(e=0;e<i.length;e++)n=i[e],r.push(wh.test(n)?"xn--"+Th(n):n);return r.join(".")}(e),bg.test(e))return lg;if(null===(n=xg(e)))return lg;t.host=n}else{if(_g.test(e))return lg;for(n="",r=hr(e),i=0;i<r.length;i++)n+=Dg(r[i],kg);t.host=n}},xg=function(t){var e,n,r,i,o,s,a,c=t.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=c[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=gg.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)s=0;else{if(!(10==o?mg:8==o?vg:yg).test(i))return t;s=parseInt(i,o)}n.push(s)}for(r=0;r<e;r++)if(s=n[r],r==e-1){if(s>=cg(256,5-e))return null}else if(s>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*cg(256,3-r);return a},Og=function(t){var e,n,r,i,o,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,p=function(){return t.charAt(f)};if(":"==p()){if(":"!=t.charAt(1))return;f+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(e=n=0;n<4&&yg.test(p());)e=16*e+parseInt(p(),16),f++,n++;if("."==p()){if(0==n)return;if(f-=n,u>6)return;for(r=0;p();){if(i=null,r>0){if(!("."==p()&&r<4))return;f++}if(!hg.test(p()))return;for(;hg.test(p());){if(o=parseInt(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(s=u-l,u=7;0!=u&&s>0;)a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;else if(8!=u)return;return c},Cg=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=ag(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},kg={},Tg=nn({},kg,{" ":1,'"':1,"<":1,">":1,"`":1}),Ig=nn({},Tg,{"#":1,"?":1,"{":1,"}":1}),Ag=nn({},Ig,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Dg=function(t,e){var n=eg(t,0);return n>32&&n<127&&!S(e,t)?t:encodeURIComponent(t)},Pg={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Mg=function(t){return S(Pg,t.scheme)},Rg=function(t){return""!=t.username||""!=t.password},Lg=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},Ng=function(t,e){var n;return 2==t.length&&pg.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},jg=function(t){var e;return t.length>1&&Ng(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},zg=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&Ng(e[0],!0)||e.pop()},qg=function(t){return"."===t||"%2e"===t.toLowerCase()},Bg={},Ug={},Fg={},$g={},Vg={},Hg={},Gg={},Qg={},Wg={},Yg={},Kg={},Zg={},Xg={},Jg={},tv={},ev={},nv={},rv={},iv={},ov={},sv={},av=function(t,e,n,r){var i,o,s,a,c,u=n||Bg,l=0,f="",p=!1,d=!1,h=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(wg,"")),e=e.replace(Eg,""),i=hr(e);l<=i.length;){switch(o=i[l],u){case Bg:if(!o||!pg.test(o)){if(n)return ug;u=Fg;continue}f+=o.toLowerCase(),u=Ug;break;case Ug:if(o&&(dg.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return ug;f="",u=Fg,l=0;continue}if(n&&(Mg(t)!=S(Pg,f)||"file"==f&&(Rg(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=f,n)return void(Mg(t)&&Pg[t.scheme]==t.port&&(t.port=null));f="","file"==t.scheme?u=Jg:Mg(t)&&r&&r.scheme==t.scheme?u=$g:Mg(t)?u=Qg:"/"==i[l+1]?(u=Vg,l++):(t.cannotBeABaseURL=!0,t.path.push(""),u=iv)}break;case Fg:if(!r||r.cannotBeABaseURL&&"#"!=o)return ug;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=sv;break}u="file"==r.scheme?Jg:Hg;continue;case $g:if("/"!=o||"/"!=i[l+1]){u=Hg;continue}u=Wg,l++;break;case Vg:if("/"==o){u=Yg;break}u=rv;continue;case Hg:if(t.scheme=r.scheme,o==Jh)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&Mg(t))u=Gg;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=ov;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=rv;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=sv}break;case Gg:if(!Mg(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=rv;continue}u=Yg}else u=Wg;break;case Qg:if(u=Wg,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case Wg:if("/"!=o&&"\\"!=o){u=Yg;continue}break;case Yg:if("@"==o){p&&(f="%40"+f),p=!0,s=hr(f);for(var g=0;g<s.length;g++){var v=s[g];if(":"!=v||h){var m=Dg(v,Ag);h?t.password+=m:t.username+=m}else h=!0}f=""}else if(o==Jh||"/"==o||"?"==o||"#"==o||"\\"==o&&Mg(t)){if(p&&""==f)return"Invalid authority";l-=hr(f).length+1,f="",u=Kg}else f+=o;break;case Kg:case Zg:if(n&&"file"==t.scheme){u=ev;continue}if(":"!=o||d){if(o==Jh||"/"==o||"?"==o||"#"==o||"\\"==o&&Mg(t)){if(Mg(t)&&""==f)return lg;if(n&&""==f&&(Rg(t)||null!==t.port))return;if(a=Sg(t,f))return a;if(f="",u=nv,n)return;continue}"["==o?d=!0:"]"==o&&(d=!1),f+=o}else{if(""==f)return lg;if(a=Sg(t,f))return a;if(f="",u=Xg,n==Zg)return}break;case Xg:if(!hg.test(o)){if(o==Jh||"/"==o||"?"==o||"#"==o||"\\"==o&&Mg(t)||n){if(""!=f){var y=parseInt(f,10);if(y>65535)return fg;t.port=Mg(t)&&y===Pg[t.scheme]?null:y,f=""}if(n)return;u=nv;continue}return fg}f+=o;break;case Jg:if(t.scheme="file","/"==o||"\\"==o)u=tv;else{if(!r||"file"!=r.scheme){u=rv;continue}if(o==Jh)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",u=ov;else{if("#"!=o){jg(i.slice(l).join(""))||(t.host=r.host,t.path=r.path.slice(),zg(t)),u=rv;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=sv}}break;case tv:if("/"==o||"\\"==o){u=ev;break}r&&"file"==r.scheme&&!jg(i.slice(l).join(""))&&(Ng(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=rv;continue;case ev:if(o==Jh||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Ng(f))u=rv;else if(""==f){if(t.host="",n)return;u=nv}else{if(a=Sg(t,f))return a;if("localhost"==t.host&&(t.host=""),n)return;f="",u=nv}continue}f+=o;break;case nv:if(Mg(t)){if(u=rv,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Jh&&(u=rv,"/"!=o))continue}else t.fragment="",u=sv;else t.query="",u=ov;break;case rv:if(o==Jh||"/"==o||"\\"==o&&Mg(t)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(zg(t),"/"==o||"\\"==o&&Mg(t)||t.path.push("")):qg(f)?"/"==o||"\\"==o&&Mg(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&Ng(f)&&(t.host&&(t.host=""),f=f.charAt(0)+":"),t.path.push(f)),f="","file"==t.scheme&&(o==Jh||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",u=ov):"#"==o&&(t.fragment="",u=sv)}else f+=Dg(o,Ig);break;case iv:"?"==o?(t.query="",u=ov):"#"==o?(t.fragment="",u=sv):o!=Jh&&(t.path[0]+=Dg(o,kg));break;case ov:n||"#"!=o?o!=Jh&&("'"==o&&Mg(t)?t.query+="%27":t.query+="#"==o?"%23":Dg(o,kg)):(t.fragment="",u=sv);break;case sv:o!=Jh&&(t.fragment+=Dg(o,Tg))}l++}},cv=function(t){var e,n,r=qu(this,cv,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(t),s=og(r,{type:"URL"});if(void 0!==i)if(i instanceof cv)e=sg(i);else if(n=av(e={},String(i)))throw TypeError(n);if(n=av(s,o,null,e))throw TypeError(n);var a=s.searchParams=new rg,c=ig(a);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(a)||null},u||(r.href=lv.call(r),r.origin=fv.call(r),r.protocol=pv.call(r),r.username=dv.call(r),r.password=hv.call(r),r.host=gv.call(r),r.hostname=vv.call(r),r.port=mv.call(r),r.pathname=yv.call(r),r.search=bv.call(r),r.searchParams=_v.call(r),r.hash=wv.call(r))},uv=cv.prototype,lv=function(){var t=sg(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,s=t.path,a=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",Rg(t)&&(u+=n+(r?":"+r:"")+"@"),u+=Cg(i),null!==o&&(u+=":"+o)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},fv=function(){var t=sg(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Mg(t)?e+"://"+Cg(t.host)+(null!==n?":"+n:""):"null"},pv=function(){return sg(this).scheme+":"},dv=function(){return sg(this).username},hv=function(){return sg(this).password},gv=function(){var t=sg(this),e=t.host,n=t.port;return null===e?"":null===n?Cg(e):Cg(e)+":"+n},vv=function(){var t=sg(this).host;return null===t?"":Cg(t)},mv=function(){var t=sg(this).port;return null===t?"":String(t)},yv=function(){var t=sg(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},bv=function(){var t=sg(this).query;return t?"?"+t:""},_v=function(){return sg(this).searchParams},wv=function(){var t=sg(this).fragment;return t?"#"+t:""},Ev=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(u&&Ft(uv,{href:Ev(lv,(function(t){var e=sg(this),n=String(t),r=av(e,n);if(r)throw TypeError(r);ig(e.searchParams).updateSearchParams(e.query)})),origin:Ev(fv),protocol:Ev(pv,(function(t){var e=sg(this);av(e,String(t)+":",Bg)})),username:Ev(dv,(function(t){var e=sg(this),n=hr(String(t));if(!Lg(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=Dg(n[r],Ag)}})),password:Ev(hv,(function(t){var e=sg(this),n=hr(String(t));if(!Lg(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=Dg(n[r],Ag)}})),host:Ev(gv,(function(t){var e=sg(this);e.cannotBeABaseURL||av(e,String(t),Kg)})),hostname:Ev(vv,(function(t){var e=sg(this);e.cannotBeABaseURL||av(e,String(t),Zg)})),port:Ev(mv,(function(t){var e=sg(this);Lg(e)||(""==(t=String(t))?e.port=null:av(e,t,Xg))})),pathname:Ev(yv,(function(t){var e=sg(this);e.cannotBeABaseURL||(e.path=[],av(e,t+"",nv))})),search:Ev(bv,(function(t){var e=sg(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",av(e,t,ov)),ig(e.searchParams).updateSearchParams(e.query)})),searchParams:Ev(_v),hash:Ev(wv,(function(t){var e=sg(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",av(e,t,sv)):e.fragment=null}))}),st(uv,"toJSON",(function(){return lv.call(this)}),{enumerable:!0}),st(uv,"toString",(function(){return lv.call(this)}),{enumerable:!0}),ng){var Sv=ng.createObjectURL,xv=ng.revokeObjectURL;Sv&&st(cv,"createObjectURL",(function(t){return Sv.apply(ng,arguments)})),xv&&st(cv,"revokeObjectURL",(function(t){return xv.apply(ng,arguments)}))}ce(cv,"URL"),Nt({global:!0,forced:!bh,sham:!u},{URL:cv}),Nt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});o((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new T(r||[]);return o._invoke=function(t,e,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===g)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?h:p,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(t,n,s),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",g={};function v(){}function m(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,o)&&(b=w);var E=y.prototype=v.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var n;this._invoke=function(i,o){function s(){return new e((function(n,s){!function n(i,o,s,a){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(f).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}(i,o,n,s)}))}return n=n?n.then(s,s):s()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,s=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:e,done:!0}}return m.prototype=E.constructor=y,y.constructor=m,m.displayName=c(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,a,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},S(x.prototype),x.prototype[s]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(E),c(E,a,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));function Ov(t){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tv(t,e,n){return e&&kv(t.prototype,e),n&&kv(t,n),t}function Iv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Av(Object(n),!0).forEach((function(e){Iv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rv(t,e)}function Mv(t){return(Mv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rv(t,e){return(Rv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nv(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?Lv(t):e}function jv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Mv(t);if(e){var i=Mv(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Nv(this,n)}}function zv(t,e,n){return(zv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Mv(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function qv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}"setImmediate"in window||function(){var t=0,e={},n=!0,r=Array.prototype.slice,i="setImmediatePolyfillMessage";function o(t){var n,o=t.data;"string"==typeof o&&0==o.indexOf(i)&&(n=e[o])&&(delete e[o],function(t){var e=t[0];switch(t.length){case 1:return e();case 2:return e(t[1]);case 3:return e(t[1],t[2])}e.apply(window,r.call(t,1))}(n))}window.setImmediate=function(){for(var r=t++,s=i+r,a=arguments.length,c=new Array(a);a--;)c[a]=arguments[a];return e[s]=c,n&&(n=!1,window.addEventListener("message",o)),window.postMessage(s,"*"),r},window.clearImmediate=function(t){delete e[i+t]}}(),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=0===arguments.length||!!t;var e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),i=parseInt(n.getPropertyValue("border-left-width")),o=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,c=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,u=o&&!s;(o||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||c)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(o||s||a||c)&&!t&&this.scrollIntoView(u)}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),document.addEventListener("DOMContentLoaded",(function(){var t,e=!1,n=0,r=["input:not([type])","input[type=text]","input[type=search]","input[type=url]","input[type=tel]","input[type=email]","input[type=password]","input[type=number]","input[type=date]","input[type=month]","input[type=week]","input[type=time]","input[type=datetime]","input[type=datetime-local]","textarea","[role=textbox]"].join(","),i=(t=Element.prototype).matches?t.matches:t.matchesSelector?t.matchesSelector:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:void console.error("Couldn't find a matches method on Element.prototype.");function o(t){t.classList.contains("focus-ring")||(t.classList.add("focus-ring"),t.setAttribute("data-focus-ring-added",""))}document.body.addEventListener("keydown",(function(){e=!0,i&&i.call(document.activeElement,":focus")&&o(document.activeElement),0!==n&&clearTimeout(n),n=setTimeout((function(){e=!1,n=0}),100)}),!0),document.body.addEventListener("focus",(function(t){var n,s;(e||(n=t.target,s=!1,i&&(s=i.call(n,r)&&i.call(n,":not([readonly]")),s))&&o(t.target)}),!0),document.body.addEventListener("blur",(function(t){var e;(e=t.target).hasAttribute("data-focus-ring-added")&&(e.classList.remove("focus-ring"),e.removeAttribute("data-focus-ring-added"))}),!0)})),window,function(){var t=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},e=setTimeout;function n(){}function r(t,e){return function(){t.apply(e,arguments)}}function i(t){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void a(e.promise,t)}s(e.promise,r)}else(1===t._state?s:a)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===Ov(e)||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l(r(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,a(e,t))}))}catch(t){if(n)return;n=!0,a(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var r=new this.constructor(n);return o(this,new u(t,e,r)),r},i.prototype.finally=t,i.all=function(t){return new i((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"===Ov(s)||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},i.resolve=function(t){return t&&"object"===Ov(t)&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},window.Promise?window.Promise.prototype.finally||(window.Promise.prototype.finally=t):window.Promise=i}(),window.ResizeObserver=function(){var t=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),e="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=window,r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},i=2;function o(t,e){var n=!1,o=!1,s=0;function a(){n&&(n=!1,t()),o&&u()}function c(){r(a)}function u(){var t=Date.now();if(n){if(t-s<i)return;o=!0}else n=!0,o=!1,setTimeout(c,e);s=t}return u}var s=20,a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=o(this.refresh.bind(this),s)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){e&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){e&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;a.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},f=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||n},p=E(0,0,0,0);function d(t){return parseFloat(t)||0}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+d(t["border-"+n+"-width"])}),0)}function g(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=d(o)}return e}function v(t){var e=t.getBBox();return E(0,0,e.width,e.height)}function m(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=f(t).getComputedStyle(t),i=g(r),o=i.left+i.right,s=i.top+i.bottom,a=d(r.width),c=d(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=h(r,"left","right")+o),Math.round(c+s)!==n&&(c-=h(r,"top","bottom")+s)),!b(t)){var u=Math.round(a+o)-e,l=Math.round(c+s)-n;1!==Math.abs(u)&&(a-=u),1!==Math.abs(l)&&(c-=l)}return E(i.left,i.top,a,c)}var y="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof f(t).SVGGraphicsElement}:function(t){return t instanceof f(t).SVGElement&&"function"==typeof t.getBBox};function b(t){return t===f(t).document.documentElement}function _(t){return e?y(t)?v(t):m(t):p}function w(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return l(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function E(t,e,n,r){return{x:t,y:e,width:n,height:r}}var S=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=_(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),x=function(){function t(t,e){var n=w(e);l(this,{target:t,contentRect:n})}return t}(),O=function(){function e(e,n,r){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new S(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof f(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new x(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!=typeof WeakMap?new WeakMap:new t,k=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new O(e,n,this);C.set(this,r)}return t}();return["observe","unobserve","disconnect"].forEach((function(t){k.prototype[t]=function(){var e;return(e=C.get(this))[t].apply(e,arguments)}})),void 0!==n.ResizeObserver?n.ResizeObserver:k}(),function(t,e){function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function r(t,e){var n,r,i,o=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function i(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function o(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var n=e;n;){if(n==t)return!0;n=c(n)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}"IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype?"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}):(r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},r.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},r.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(t,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),r=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(i){var o=i.element,a=s(o),c=this._rootContainsTarget(o),u=i.entry,l=e&&c&&this._computeTargetAndRootIntersection(o,r),f=i.entry=new n({time:t.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:r,intersectionRect:l});u?e&&c?this._hasCrossedThreshold(u,f)&&this._queuedEntries.push(f):u&&u.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=t.getComputedStyle(n).display){for(var i,o,a,u,l,f,p,d,h=s(n),g=c(n),v=!1;!v;){var m=null,y=1==g.nodeType?t.getComputedStyle(g):{};if("none"==y.display)return;if(g==this.root||g==e?(v=!0,m=r):g!=e.body&&g!=e.documentElement&&"visible"!=y.overflow&&(m=s(g)),m&&(i=m,o=h,a=void 0,u=void 0,l=void 0,f=void 0,p=void 0,d=void 0,a=Math.max(i.top,o.top),u=Math.min(i.bottom,o.bottom),l=Math.max(i.left,o.left),f=Math.min(i.right,o.right),d=u-a,!(h=(p=f-l)>=0&&d>=0&&{top:a,bottom:u,left:l,right:f,width:p,height:d})))break;g=c(g)}return h}},r.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||a(e,this.root)},r.prototype._rootContainsTarget=function(t){return a(this.root||e,t)},r.prototype._registerInstance=function(){},r.prototype._unregisterInstance=function(){},t.IntersectionObserver=r,t.IntersectionObserverEntry=n)}(window,document),function(t){"object"==("undefined"==typeof exports?"undefined":Ov(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=t()}((function(){return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/messages"),a=t("./zlib/zstream"),c=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(s[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(s[n]);this._dict_set=!0}}function l(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}u.prototype.push=function(t,e){var n,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===c.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=r.deflate(a,s))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),!(a.avail_out=0))},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=u,n.deflate=l,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,n){var r=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),s=t("./zlib/constants"),a=t("./zlib/messages"),c=t("./zlib/zstream"),u=t("./zlib/gzheader"),l=Object.prototype.toString;function f(t){if(!(this instanceof f))return new f(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new u,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[n])}function p(t,e){var n=new f(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(t,e){var n,a,c,u,f,p=this.strm,d=this.options.chunkSize,h=this.options.dictionary,g=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?p.input=o.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(d),p.next_out=0,p.avail_out=d),(n=r.inflate(p,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&h&&(n=r.inflateSetDictionary(this.strm,h)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==s.Z_STREAM_END&&(0!==p.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),u=p.next_out-c,f=o.buf2string(p.output,c),p.next_out=u,p.avail_out=d-u,u&&i.arraySet(p.output,p.output,c,u,0),this.onData(f)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(p.avail_out=0))},f.prototype.onData=function(t){this.chunks.push(t)},f.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=f,n.inflate=p,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},n.ungzip=p},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,n){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e,n,r=Array.prototype.slice.call(arguments,1);r.length;){var i=r.shift();if(i){if("object"!=Ov(i))throw new TypeError(i+"must be non-object");for(var o in i)e=i,n=o,Object.prototype.hasOwnProperty.call(e,n)&&(t[o]=i[o])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){var e,n,r,i,o,s;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(s=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)o=t[e],s.set(o,i),i+=o.length;return s}},o={arraySet:function(t,e,n,r,i){for(var o=0;o<r;o++)t[i+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],4:[function(t,e,n){var r=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,n.string2buf=function(t){var e,n,i,o,s,a=t.length,c=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(c),o=s=0;s<c;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:(n<2048?e[s++]=192|n>>>6:(n<65536?e[s++]=224|n>>>12:(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63),e[s++]=128|n>>>6&63),e[s++]=128|63&n);return e},n.buf2binstring=function(t){return c(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,o,a=e||t.length,u=new Array(2*a);for(n=r=0;n<a;)if((i=t[n++])<128)u[r++]=i;else if(4<(o=s[i]))u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<a;)i=i<<6|63&t[n++],o--;1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},{"./common":3}],5:[function(t,e,n){e.exports=function(t,e,n,r){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(i=i+e[r++]|0)|0,--s;);i%=65521,o%=65521}return i|o<<16|0}},{}],6:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,n){var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},{}],8:[function(t,e,n){var r,i=t("../utils/common"),o=t("./trees"),s=t("./adler32"),a=t("./crc32"),c=t("./messages"),u=-2,l=258,f=262,p=113;function d(t,e){return t.msg=c[e],e}function h(t){return(t<<1)-(4<t?9:0)}function g(t){for(var e=t.length;0<=--e;)t[e]=0}function v(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function m(t,e){o._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,v(t.strm)}function y(t,e){t.pending_buf[t.pending++]=e}function b(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e){var n,r,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-f?t.strstart-(t.w_size-f):0,u=t.window,p=t.w_mask,d=t.prev,h=t.strstart+l,g=u[o+s-1],v=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===v&&u[n+s-1]===g&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=l-(h-o),o=h-l,s<r){if(t.match_start=e,a<=(s=r))break;g=u[o+s-1],v=u[o+s]}}}while((e=d[e&p])>c&&0!=--i);return s<=t.lookahead?s:t.lookahead}function w(t){var e,n,r,o,c,u,l,p,d,h,g=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=g+(g-f)){for(i.arraySet(t.window,t.window,g,g,0),t.match_start-=g,t.strstart-=g,t.block_start-=g,e=n=t.hash_size;r=t.head[--e],t.head[e]=g<=r?r-g:0,--n;);for(e=n=g;r=t.prev[--e],t.prev[e]=g<=r?r-g:0,--n;);o+=g}if(0===t.strm.avail_in)break;if(u=t.strm,l=t.window,p=t.strstart+t.lookahead,h=void 0,(d=o)<(h=u.avail_in)&&(h=d),n=0===h?0:(u.avail_in-=h,i.arraySet(l,u.input,u.next_in,h,p),1===u.state.wrap?u.adler=s(u.adler,l,h,p):2===u.state.wrap&&(u.adler=a(u.adler,l,h,p)),u.next_in+=h,u.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=3)for(c=t.strstart-t.insert,t.ins_h=t.window[c],t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[c+3-1])&t.hash_mask,t.prev[c&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=c,c++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<f&&0!==t.strm.avail_in)}function E(t,e){for(var n,r;;){if(t.lookahead<f){if(w(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-f&&(t.match_length=_(t,n)),t.match_length>=3)if(r=o._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function S(t,e){for(var n,r,i;;){if(t.lookahead<f){if(w(t),t.lookahead<f&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-f&&(t.match_length=_(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&4096<t.strstart-t.match_start)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-3,r=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(m(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=o._tr_tally(t,0,t.window[t.strstart-1]))&&m(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}function x(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:p,t.adler=2===e.wrap?0:1,e.last_flush=0,o._tr_init(e),0):d(t,u)}function k(t){var e,n=C(t);return 0===n&&((e=t.state).window_size=2*e.w_size,g(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function T(t,e,n,r,o,s){if(!t)return u;var a=1;if(-1===e&&(e=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||9<o||8!==n||r<8||15<r||e<0||9<e||s<0||4<s)return d(t,u);8===r&&(r=9);var c=new O;return(t.state=c).strm=t,c.wrap=a,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=e,c.strategy=s,c.method=n,k(t)}r=[new x(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(w(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,m(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-f&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(m(t,!1),t.strm.avail_out),1)})),new x(4,4,8,4,E),new x(4,5,16,8,E),new x(4,6,32,32,E),new x(4,4,16,16,S),new x(8,16,32,32,S),new x(8,16,128,128,S),new x(8,32,128,256,S),new x(32,128,258,1024,S),new x(32,258,258,4096,S)],n.deflateInit=function(t,e){return T(t,e,8,15,8,0)},n.deflateInit2=T,n.deflateReset=k,n.deflateResetKeep=C,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?u:(t.state.gzhead=e,0):u},n.deflate=function(t,e){var n,i,s,c;if(!t||!t.state||5<e||e<0)return t?d(t,u):u;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return d(t,0===t.avail_out?-5:u);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,y(i,31),y(i,139),y(i,8),i.gzhead?(y(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),y(i,255&i.gzhead.time),y(i,i.gzhead.time>>8&255),y(i,i.gzhead.time>>16&255),y(i,i.gzhead.time>>24&255),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(y(i,255&i.gzhead.extra.length),y(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=a(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(y(i,0),y(i,0),y(i,0),y(i,0),y(i,0),y(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),y(i,3),i.status=p);else{var f=8+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=p,b(i,f),0!==i.strstart&&(b(i,t.adler>>>16),b(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),v(t),s=i.pending,i.pending!==i.pending_buf_size));)y(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),v(t),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}y(i,c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),v(t),s=i.pending,i.pending===i.pending_buf_size)){c=1;break}y(i,c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==c);i.gzhead.hcrc&&i.pending>s&&(t.adler=a(t.adler,i.pending_buf,i.pending-s,s)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&v(t),i.pending+2<=i.pending_buf_size&&(y(i,255&t.adler),y(i,t.adler>>8&255),t.adler=0,i.status=p)):i.status=p),0!==i.pending){if(v(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&h(e)<=h(n)&&4!==e)return d(t,-5);if(666===i.status&&0!==t.avail_in)return d(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var _=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(w(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,s,a=t.window;;){if(t.lookahead<=l){if(w(t),t.lookahead<=l&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&0<t.strstart&&(r=a[i=t.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=t.strstart+l;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);t.match_length=l-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=o._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(m(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(m(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(m(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==_&&4!==_||(i.status=666),1===_||3===_)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===_&&(1===e?o._tr_align(i):5!==e&&(o._tr_stored_block(i,0,0,!1),3===e&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),v(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(y(i,255&t.adler),y(i,t.adler>>8&255),y(i,t.adler>>16&255),y(i,t.adler>>24&255),y(i,255&t.total_in),y(i,t.total_in>>8&255),y(i,t.total_in>>16&255),y(i,t.total_in>>24&255)):(b(i,t.adler>>>16),b(i,65535&t.adler)),v(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&e!==p&&666!==e?d(t,u):(t.state=null,e===p?d(t,-3):0):u},n.deflateSetDictionary=function(t,e){var n,r,o,a,c,l,f,p,d=e.length;if(!t||!t.state)return u;if(2===(a=(n=t.state).wrap)||1===a&&42!==n.status||n.lookahead)return u;for(1===a&&(t.adler=s(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,e,d-n.w_size,n.w_size,0),e=p,d=n.w_size),c=t.avail_in,l=t.next_in,f=t.input,t.avail_in=d,t.next_in=0,t.input=e,w(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,w(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=l,t.input=f,t.avail_in=c,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,n){e.exports=function(t,e){var n,r,i,o,s,a,c,u,l,f,p,d,h,g,v,m,y,b,_,w,E,S,x,O,C;n=t.state,r=t.next_in,O=t.input,i=r+(t.avail_in-5),o=t.next_out,C=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,f=n.wnext,p=n.window,d=n.hold,h=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{h<15&&(d+=O[r++]<<h,h+=8,d+=O[r++]<<h,h+=8),b=g[d&m];e:for(;;){if(d>>>=_=b>>>24,h-=_,0==(_=b>>>16&255))C[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=g[(65535&b)+(d&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(_&=15)&&(h<_&&(d+=O[r++]<<h,h+=8),w+=d&(1<<_)-1,d>>>=_,h-=_),h<15&&(d+=O[r++]<<h,h+=8,d+=O[r++]<<h,h+=8),b=v[d&y];n:for(;;){if(d>>>=_=b>>>24,h-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=v[(65535&b)+(d&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(E=65535&b,h<(_&=15)&&(d+=O[r++]<<h,(h+=8)<_&&(d+=O[r++]<<h,h+=8)),c<(E+=d&(1<<_)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=_,h-=_,(_=o-s)<E){if(l<(_=E-_)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(x=p,(S=0)===f){if(S+=u-_,_<w){for(w-=_;C[o++]=p[S++],--_;);S=o-E,x=C}}else if(f<_){if(S+=u+f-_,(_-=f)<w){for(w-=_;C[o++]=p[S++],--_;);if(S=0,f<w){for(w-=_=f;C[o++]=p[S++],--_;);S=o-E,x=C}}}else if(S+=f-_,_<w){for(w-=_;C[o++]=p[S++],--_;);S=o-E,x=C}for(;2<w;)C[o++]=x[S++],C[o++]=x[S++],C[o++]=x[S++],w-=3;w&&(C[o++]=x[S++],1<w&&(C[o++]=x[S++]))}else{for(S=o-E;C[o++]=C[S++],C[o++]=C[S++],C[o++]=C[S++],2<(w-=3););w&&(C[o++]=C[S++],1<w&&(C[o++]=C[S++]))}break}}break}}while(r<i&&o<a);r-=w=h>>3,d&=(1<<(h-=w<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=h}},{}],11:[function(t,e,n){var r=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),s=t("./inffast"),a=t("./inftrees"),c=-2;function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):c}function p(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,f(t)):c}function d(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?c:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,p(t))):c}function h(t,e){var n,r;return t?(r=new l,(t.state=r).window=null,0!==(n=d(t,e))&&(t.state=null),n):c}var g,v,m=!0;function y(t){if(m){var e;for(g=new r.Buf32(512),v=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,v,0,t.work,{bits:5}),m=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function b(t,e,n,i){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(o=s.wsize-s.wnext)&&(o=i),r.arraySet(s.window,e,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,e,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=p,n.inflateReset2=d,n.inflateResetKeep=f,n.inflateInit=function(t){return h(t,15)},n.inflateInit2=h,n.inflate=function(t,e){var n,l,f,p,d,h,g,v,m,_,w,E,S,x,O,C,k,T,I,A,D,P,M,R,L=0,N=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(n=t.state).mode&&(n.mode=13),d=t.next_out,f=t.output,g=t.avail_out,p=t.next_in,l=t.input,h=t.avail_in,v=n.hold,m=n.bits,_=h,w=g,P=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(2&n.wrap&&35615===v){N[n.check=0]=255&v,N[1]=v>>>8&255,n.check=o(n.check,N,2,0),m=v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&v)<<8)+(v>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&v)){t.msg="unknown compression method",n.mode=30;break}if(m-=4,D=8+(15&(v>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,t.adler=n.check=1,n.mode=512&v?10:12,m=v=0;break;case 2:for(;m<16;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(n.flags=v,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=v>>8&1),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,n.check=o(n.check,N,2,0)),m=v=0,n.mode=3;case 3:for(;m<32;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}n.head&&(n.head.time=v),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,N[2]=v>>>16&255,N[3]=v>>>24&255,n.check=o(n.check,N,4,0)),m=v=0,n.mode=4;case 4:for(;m<16;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}n.head&&(n.head.xflags=255&v,n.head.os=v>>8),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,n.check=o(n.check,N,2,0)),m=v=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}n.length=v,n.head&&(n.head.extra_len=v),512&n.flags&&(N[0]=255&v,N[1]=v>>>8&255,n.check=o(n.check,N,2,0)),m=v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h<(E=n.length)&&(E=h),E&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,p,E,D)),512&n.flags&&(n.check=o(n.check,l,E,p)),h-=E,p+=E,n.length-=E),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===h)break t;for(E=0;D=l[p+E++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&E<h;);if(512&n.flags&&(n.check=o(n.check,l,E,p)),h-=E,p+=E,D)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===h)break t;for(E=0;D=l[p+E++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&E<h;);if(512&n.flags&&(n.check=o(n.check,l,E,p)),h-=E,p+=E,D)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(v!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}t.adler=n.check=u(v),m=v=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=d,t.avail_out=g,t.next_in=p,t.avail_in=h,n.hold=v,n.bits=m,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){v>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}switch(n.last=1&v,m-=1,3&(v>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6!==e)break;v>>>=2,m-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}v>>>=2,m-=2;break;case 14:for(v>>>=7&m,m-=7&m;m<32;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if((65535&v)!=(v>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&v,m=v=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(E=n.length){if(h<E&&(E=h),g<E&&(E=g),0===E)break t;r.arraySet(f,l,p,E,d),h-=E,p+=E,g-=E,d+=E,n.length-=E;break}n.mode=12;break;case 17:for(;m<14;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(n.nlen=257+(31&v),v>>>=5,m-=5,n.ndist=1+(31&v),v>>>=5,m-=5,n.ncode=4+(15&v),v>>>=4,m-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}n.lens[j[n.have++]]=7&v,v>>>=3,m-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,P){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(L=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,k=65535&L,!((O=L>>>24)<=m);){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(k<16)v>>>=O,m-=O,n.lens[n.have++]=k;else{if(16===k){for(R=O+2;m<R;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(v>>>=O,m-=O,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],E=3+(3&v),v>>>=2,m-=2}else if(17===k){for(R=O+3;m<R;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}m-=O,D=0,E=3+(7&(v>>>=O)),v>>>=3,m-=3}else{for(R=O+7;m<R;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}m-=O,D=0,E=11+(127&(v>>>=O)),v>>>=7,m-=7}if(n.have+E>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},P=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,P){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},P=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,P){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=h&&258<=g){t.next_out=d,t.avail_out=g,t.next_in=p,t.avail_in=h,n.hold=v,n.bits=m,s(t,w),d=t.next_out,f=t.output,g=t.avail_out,p=t.next_in,l=t.input,h=t.avail_in,v=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(L=n.lencode[v&(1<<n.lenbits)-1])>>>16&255,k=65535&L,!((O=L>>>24)<=m);){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(C&&0==(240&C)){for(T=O,I=C,A=k;C=(L=n.lencode[A+((v&(1<<T+I)-1)>>T)])>>>16&255,k=65535&L,!(T+(O=L>>>24)<=m);){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}v>>>=T,m-=T,n.back+=T}if(v>>>=O,m-=O,n.back+=O,n.length=k,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(R=n.extra;m<R;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}n.length+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(L=n.distcode[v&(1<<n.distbits)-1])>>>16&255,k=65535&L,!((O=L>>>24)<=m);){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(0==(240&C)){for(T=O,I=C,A=k;C=(L=n.distcode[A+((v&(1<<T+I)-1)>>T)])>>>16&255,k=65535&L,!(T+(O=L>>>24)<=m);){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}v>>>=T,m-=T,n.back+=T}if(v>>>=O,m-=O,n.back+=O,64&C){t.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(R=n.extra;m<R;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}n.offset+=v&(1<<n.extra)-1,v>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break t;if(E=w-g,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}E>n.wnext?(E-=n.wnext,S=n.wsize-E):S=n.wnext-E,E>n.length&&(E=n.length),x=n.window}else x=f,S=d-n.offset,E=n.length;for(g<E&&(E=g),g-=E,n.length-=E;f[d++]=x[S++],--E;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;f[d++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===h)break t;h--,v|=l[p++]<<m,m+=8}if(w-=g,t.total_out+=w,n.total+=w,w&&(t.adler=n.check=n.flags?o(n.check,f,w,d-w):i(n.check,f,w,d-w)),w=g,(n.flags?v:u(v))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===h)break t;h--,v+=l[p++]<<m,m+=8}if(v!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=v=0}n.mode=29;case 29:P=1;break t;case 30:P=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=d,t.avail_out=g,t.next_in=p,t.avail_in=h,n.hold=v,n.bits=m,(n.wsize||w!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&b(t,t.output,t.next_out,w-t.avail_out)?(n.mode=31,-4):(_-=t.avail_in,w-=t.avail_out,t.total_in+=_,t.total_out+=w,n.total+=w,n.wrap&&w&&(t.adler=n.check=n.flags?o(n.check,f,w,t.next_out-w):i(n.check,f,w,t.next_out-w)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===_&&0===w||4===e)&&0===P&&(P=-5),P)},n.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,0},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?c:((n.head=e).done=!1,0):c},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&i(1,e,r,0)!==n.check?-3:b(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,n){var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,u,l,f,p){var d,h,g,v,m,y,b,_,w,E=p.bits,S=0,x=0,O=0,C=0,k=0,T=0,I=0,A=0,D=0,P=0,M=null,R=0,L=new r.Buf16(16),N=new r.Buf16(16),j=null,z=0;for(S=0;S<=15;S++)L[S]=0;for(x=0;x<c;x++)L[e[n+x]]++;for(k=E,C=15;1<=C&&0===L[C];C--);if(C<k&&(k=C),0===C)return u[l++]=20971520,u[l++]=20971520,p.bits=1,0;for(O=1;O<C&&0===L[O];O++);for(k<O&&(k=O),S=A=1;S<=15;S++)if(A<<=1,(A-=L[S])<0)return-1;if(0<A&&(0===t||1!==C))return-1;for(N[1]=0,S=1;S<15;S++)N[S+1]=N[S]+L[S];for(x=0;x<c;x++)0!==e[n+x]&&(f[N[e[n+x]]++]=x);if(0===t?(M=j=f,y=19):1===t?(M=i,R-=257,j=o,z-=257,y=256):(M=s,j=a,y=-1),S=O,m=l,I=x=P=0,g=-1,v=(D=1<<(T=k))-1,1===t&&852<D||2===t&&592<D)return 1;for(;;){for(b=S-I,f[x]<y?(_=0,w=f[x]):f[x]>y?(_=j[z+f[x]],w=M[R+f[x]]):(_=96,w=0),d=1<<S-I,O=h=1<<T;u[m+(P>>I)+(h-=d)]=b<<24|_<<16|w|0,0!==h;);for(d=1<<S-1;P&d;)d>>=1;if(0!==d?(P&=d-1,P+=d):P=0,x++,0==--L[S]){if(S===C)break;S=e[n+f[x]]}if(k<S&&(P&v)!==g){for(0===I&&(I=k),m+=O,A=1<<(T=S-I);T+I<C&&!((A-=L[T+I])<=0);)T++,A<<=1;if(D+=1<<T,1===t&&852<D||2===t&&592<D)return 1;u[g=P&v]=k<<24|T<<16|m-l|0}}return 0!==P&&(u[m+P]=S-I<<24|64<<16|0),p.bits=k,0}},{"../utils/common":3}],13:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,n){var r=t("../utils/common");function i(t){for(var e=t.length;0<=--e;)t[e]=0}var o=256,s=286,a=30,c=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var h=new Array(60);i(h);var g=new Array(512);i(g);var v=new Array(256);i(v);var m=new Array(29);i(m);var y,b,_,w=new Array(a);function E(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function S(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function x(t){return t<256?g[t]:g[256+(t>>>7)]}function O(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function C(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,O(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){C(t,n[2*e],n[2*e+1])}function T(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function I(t,e,n){var r,i,o=new Array(16),s=0;for(r=1;r<=c;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=T(o[a]++,a))}}function A(t){var e;for(e=0;e<s;e++)t.dyn_ltree[2*e]=0;for(e=0;e<a;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function D(t){8<t.bi_valid?O(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,n,r){var i=2*e,o=2*n;return t[i]<t[o]||t[i]===t[o]&&r[e]<=r[n]}function M(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&P(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!P(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function R(t,e,n){var r,i,s,a,c=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?k(t,i,e):(k(t,(s=v[i])+o+1,e),0!==(a=u[s])&&C(t,i-=m[s],a),k(t,s=x(--r),n),0!==(a=l[s])&&C(t,r-=w[s],a)),c<t.last_lit;);k(t,256,e)}function L(t,e){var n,r,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;1<=n;n--)M(t,o,n);for(i=u;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],M(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,o[2*i]=o[2*n]+o[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,o[2*n+1]=o[2*r+1]=i,t.heap[1]=i++,M(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,o,s,a,u=e.dyn_tree,l=e.max_code,f=e.stat_desc.static_tree,p=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,g=e.stat_desc.max_length,v=0;for(o=0;o<=c;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)g<(o=u[2*u[2*(r=t.heap[n])+1]+1]+1)&&(o=g,v++),u[2*r+1]=o,l<r||(t.bl_count[o]++,s=0,h<=r&&(s=d[r-h]),a=u[2*r],t.opt_len+=a*(o+s),p&&(t.static_len+=a*(f[2*r+1]+s)));if(0!==v){do{for(o=g-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[g]--,v-=2}while(0<v);for(o=g;0!==o;o--)for(r=t.bl_count[o];0!==r;)l<(i=t.heap[--n])||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(t,e),I(o,l,t.bl_count)}function N(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=e[2*(r+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=i,(a=0)===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function j(t,e,n){var r,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=e[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)for(;k(t,i,t.bl_tree),0!=--a;);else 0!==i?(i!==o&&(k(t,i,t.bl_tree),a--),k(t,16,t.bl_tree),C(t,a-3,2)):a<=10?(k(t,17,t.bl_tree),C(t,a-3,3)):(k(t,18,t.bl_tree),C(t,a-11,7));o=i,(a=0)===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}}i(w);var z=!1;function q(t,e,n,i){var o,s,a;C(t,0+(i?1:0),3),s=e,a=n,D(o=t),O(o,a),O(o,~a),r.arraySet(o.pending_buf,o.window,s,a,o.pending),o.pending+=a}n._tr_init=function(t){z||(function(){var t,e,n,r,i,o=new Array(16);for(r=n=0;r<28;r++)for(m[r]=n,t=0;t<1<<u[r];t++)v[n++]=r;for(v[n-1]=r,r=i=0;r<16;r++)for(w[r]=i,t=0;t<1<<l[r];t++)g[i++]=r;for(i>>=7;r<a;r++)for(w[r]=i<<7,t=0;t<1<<l[r]-7;t++)g[256+i++]=r;for(e=0;e<=c;e++)o[e]=0;for(t=0;t<=143;)d[2*t+1]=8,t++,o[8]++;for(;t<=255;)d[2*t+1]=9,t++,o[9]++;for(;t<=279;)d[2*t+1]=7,t++,o[7]++;for(;t<=287;)d[2*t+1]=8,t++,o[8]++;for(I(d,287,o),t=0;t<a;t++)h[2*t+1]=5,h[2*t]=T(t,5);y=new E(d,u,257,s,c),b=new E(h,l,0,a,c),_=new E(new Array(0),f,0,19,7)}(),z=!0),t.l_desc=new S(t.dyn_ltree,y),t.d_desc=new S(t.dyn_dtree,b),t.bl_desc=new S(t.bl_tree,_),t.bi_buf=0,t.bi_valid=0,A(t)},n._tr_stored_block=q,n._tr_flush_block=function(t,e,n,r){var i,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<o;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),L(t,t.l_desc),L(t,t.d_desc),a=function(t){var e;for(N(t,t.dyn_ltree,t.l_desc.max_code),N(t,t.dyn_dtree,t.d_desc.max_code),L(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*p[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?q(t,e,n,r):4===t.strategy||s===i?(C(t,2+(r?1:0),3),R(t,d,h)):(C(t,4+(r?1:0),3),function(t,e,n,r){var i;for(C(t,e-257,5),C(t,n-1,5),C(t,r-4,4),i=0;i<r;i++)C(t,t.bl_tree[2*p[i]+1],3);j(t,t.dyn_ltree,e-1),j(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),R(t,t.dyn_ltree,t.dyn_dtree)),A(t),r&&D(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(v[n]+o+1)]++,t.dyn_dtree[2*x(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;C(t,2,3),k(t,256,d),16===(e=t).bi_valid?(O(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":3}],15:[function(t,e,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,n){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")}));var Uv=Object.freeze({__proto__:null,name:"disablePullToRefresh",module:function(t){return{name:"Disable pull to refresh",version:1,immediate:!1,init:function(){$("body,html").css({"overscroll-behavior-y":"contain","overscroll-behavior-x":"none"})}}}}),Fv=Object.freeze({__proto__:null,name:"responsive",module:function(t){var e=t.utils,n=t.observer,r=t.events;return{name:"Responsive",version:1,immediate:!1,init:function(){$(window).on("resize",e.debounce((function(){n.notify(r.SHELL_RESIZED,{newWidth:window.innerWidth,newHeight:window.innerHeight})}),250)),$(e.getScrollContainer()).on("scroll",e.throttle((function(t){var e=t.target;n.notify(r.PAGE_SCROLL,{element:e,percent:Math.round(e.scrollTop/(e.scrollHeight-e.clientHeight)*100)})}),250))}}}}),$v=Object.freeze({__proto__:null,name:"dataBinding",module:function(t){var e=t.config,n=t.core;return{name:"Element Data Binding",version:1,immediate:!0,init:function(){},BindableElementData:function(t){var r,i,o,s,a=(i={callbacks:{},on:function(t,e){this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e)},publish:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.callbacks[t]=this.callbacks[t]||[];for(var r=0,i=this.callbacks[t].length;r<i;r++)this.callbacks[t][r].apply(this,e)}},o="data-bind-"+(r=t),s=r+":change",document.addEventListener("change",(function(t){var e=t.target;if(e){var n=e.getAttribute(o);n&&""!==n&&i.publish(s,n,e.value)}}),!1),i.on(s,(function(t,r){for(var i,s=document.querySelectorAll("["+o+"="+t+"]"),a=0,c=s.length;a<c;a++)"input"===(i=s[a].tagName.toLowerCase())||"textarea"===i||"select"===i?s[a].value=r:s[a].innerHTML=n.replaceVariableKeywords(r,e.currentStep)})),i),c={attributes:{},set:function(t,e){this._internal_set(t,e)},get:function(t){return this._internal_get(t)},defineSetter:function(t){this.set=function(e,n){this._internal_set(e,t(n))}},defineGetter:function(t){this.get=function(e){var n=t(this.attributes[e]);return this.attributes[e]!==n&&this._internal_set(e,n),n}},_internal_get:function(t){return this.attributes[t]},_internal_set:function(e,n){this.attributes[e]=n,a.publish(t+":change",e,n,this)},_binder:a};return a.on(t+":change",(function(t,e,n){n!==c&&c.set(t,e)})),c}}}}),Vv=Object.freeze({__proto__:null,name:"internallink",module:function(t){var e=t.core,n=t.utils,r=t.config;return{name:"Internal link",version:1,immediate:!1,init:function(){},getLinkStatus:function(t,i){if(t){var o=t.split(":"),s=o.shift();if(s){var a=o.length>0?o.join(":"):s;switch(s){case"page":var c=n.determineStepNumber(a);if(void 0===c||!r.stepData[c])return void window.SparkAPI.warn("internallink::Specified page link doesn't exist: "+a);r.stepData[c].complete?i({complete:!0}):i({complete:!1});break;case"group":if(!r.stepGroups[a])return void window.SparkAPI.warn("internallink::Specified group link doesn't exist: "+a);r.stepGroups[a].complete?i({complete:!0}):i({complete:!1});break;case"sr":var u=a.split("|"),l=e.getDataset(u[0]);if(!l)return void window.SparkAPI.warn("internallink:sr :: Dataset "+u[0]+" not found.");var f=l.getItemData(parseInt(u[1],10));if(!f)return void window.SparkAPI.warn("internallink:sr :: Content not found at index "+u[1]+".");i({complete:"completed"===f.state});break;case"next":var p=r.stepData[r.currentStep+1];i({complete:!!p&&p.complete});break;case"complete":i({complete:null});break;case"previous":default:i({complete:!1})}}}},exec:function(r,i,o){if(r){"function"==typeof i&&(o=i,i=null);var s=r.split(":"),a=s.shift(),c=s.length>0?s.join(":"):a;if(a)switch(a){case"complete":o({forcenotify:!0});break;case"url":var u=""+c;u.indexOf("http")>-1||u.indexOf("www.")>-1?(0!==u.indexOf("http")&&0!==u.indexOf("//")&&(u="//"+u),window.open(u)):window.open(t.core.getAssetPath(u,""),""),o({forcenotify:!1});break;case"mailto":case"tel":window.location.href=r,o({forcenotify:!1});break;case"page":o({forcenotify:!1,leaving:!0}),e.gotoStep(c);break;case"next":o({forcenotify:!1,leaving:!0}),e.nextStep();break;case"previous":o({forcenotify:!1,leaving:!0}),e.previousStep();break;case"group":o({forcenotify:!1,leaving:!0}),e.gotoGroup(c);break;case"sr":var l=c.split("|"),f=e.getDataset(l[0]).type(),p=i?i.triggerElement:null;"srm"!==f&&"sr"!==f||(window.SparkAPI.showSRItem(l[0],parseInt(l[1]),{triggerElement:p,onComplete:function(){o({forcenotify:!1})}}),"sr"===f&&o({forcenotify:!1}));break;case"scroll":var d=c.split("|");n.scrollToElement(d[0],void 0,(function(){o({forcenotify:!1})}));break;case"file":var h=e.extractFilePathInfo(c);window.open(e.getAssetPath(h.filename,h.path)),o({forcenotify:!1});break;case"project":window.open(c),o({forcenotify:!1});break;default:o({forcenotify:!1})}else o({forcenotify:!1})}}}}}),Hv=Object.freeze({__proto__:null,name:"advancedLinks",module:function(t){var e=t.core,n=t.config,r=t.modules;return{name:"Advanced Links",version:1,immediate:!1,init:function(){e.addTextModifier("AdvancedLinks",(function(i){$(i).find("a[rel=modalPanel],button[rel=modalPanel]").off("click").on("click",(function(e){e.preventDefault();var n=$(this),r=$(n.attr("data-target")||"").html(),i=n.attr("href");"#"!==i&&(r="<iframe src='"+i+"' frameborder='0' width='100%' height='100%'></iframe>"),function(e,n){t.core.showFullscreenOverlay(e,n)}(r,n.attr("data-transition")||"fade")})),$(i).find("a[rel=showROItem],button[rel=showROItem]").off("click").on("click",(function(t){t.preventDefault();var e=$(this),r=parseInt(e.attr("href")||"",10);if(!isNaN(r)){var i=n.stepData[n.currentStep].component;if("function"==typeof i.invokePopup)try{i.invokePopup(r,i)}catch(t){window.SparkAPI.log("Shell.js :: 'showROItem' Unable to show RO item.",t)}else window.SparkAPI.log("Shell.js :: 'showROItem' - function 'invokePopup' does not exist on specified step. Step must be of RO type.")}})),$(i).find("a[rel=showSRItem],button[rel=showSRItem]").off("click").on("click",(function(t){t.preventDefault();var r=($(this).attr("href")||"").split(":"),i=r[0],o=parseInt(r[1]||"0",10),s=e.getDataset(i).getItemData(o),a="string"==typeof s.content?"popup":"modpopup";isNaN(o)||(n.stepData[n.currentStep].currentContent=s,e.runModuleFunction("srDatasetToPopup","show",[a,i,o,{}]))})),$(i).find("a[rel=showInPopup],button[rel=showInPopup]").off("click").on("click",(function(t){t.preventDefault();var e=$(this),n=$(e.attr("data-target")||"").html(),i=e.attr("data-options")||"",o=e.attr("data-class")||"",s=e.attr("href");"#"!==s&&(n="<iframe src='"+s+"' frameborder='0' width='100%' height='100%'></iframe>");var a=i.split(",");r.popup.show({text:n,processURLs:!1,customClass:o,overlay:"1"===a[4]||void 0===a[4]})})),$(i).find("a[rel=closeOwnPopup],button[rel=closeOwnPopup]").off("click").on("click",(function(t){t.preventDefault();var e=$(this).parents(".popupInner").data("pid");r.popup.hide({id:e})})),$(i).find("a[rel=scrollto],button[rel=scrollto]").off("click").on("click",(function(t){t.preventDefault();var e=$(this).attr("href")||"";if(e){var n=$(e).offset(),r=$(this).data("viewportoffset");void 0===r&&(r=100),TweenLite.to(window,2,{scrollTo:{x:n.left-r,y:n.top-r},ease:"Power2.easeOut"})}}))}))}}}}),Gv=Object.freeze({__proto__:null,name:"popup",module:function(t){var e=t.core,n=t.config,r=t.observer,i=t.utils,o=t.transitions,s=t.events,a={},c=[],u=0,l={};function f(t){27===t.keyCode&&d({id:t.data.id,triggeredBy:"close"})}function p(t){var n=t.popupObject.popup.getTextBox(),r=t.popupObject.popup.getCloser();e.setText(n,t.pages[t.currentPage].content,t.processURLs),t.pages[t.currentPage].visited=!0,t.pageReady=!1,t.lastPage>-1?(!function(t){if(window.__ISAUTHOR)return void(t.pages[t.lastPage]._tlx=null);if(void 0!==t.lastPage)if(null!==t.pages[t.lastPage].timelineexit){var n=$.extend(!0,{},t.pages[t.lastPage].timelineexit);!function(t,e,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if("slide"===t[r].presetIn.effect)switch(t[r].presetIn.options[0]){case"autoH":0===e&&e===n?(t[r].presetIn.options[0]="none",t[r].presetIn.options[1]="none"):t[r].presetIn.options[0]=e>=n?"left":"right";break;case"autoV":0===e&&e===n?(t[r].presetIn.options[0]="none",t[r].presetIn.options[1]="none"):t[r].presetIn.options[0]=e>=n?"up":"down"}if("slide"===t[r].presetOut.effect)switch(t[r].presetOut.options[0]){case"autoH":0===e&&e===n?(t[r].presetOut.options[0]="none",t[r].presetOut.options[1]="none"):t[r].presetOut.options[0]=e>=n?"left":"right";break;case"autoV":0===e&&e===n?(t[r].presetOut.options[0]="none",t[r].presetOut.options[1]="none"):t[r].presetOut.options[0]=e>=n?"up":"down"}}}(n,t.currentPage,t.lastPage||0),t.pages[t.lastPage]._tlx=e.createTimeline(n,!1,[])}else t.pages[t.lastPage]._tlx=null}(t),t.pages[t.lastPage]._tlx?(t.overlapPageAnimation,t.pages[t.lastPage]._tlx.eventCallback("onComplete",(function(t){t.pages[t.lastPage]._tlx.eventCallback("onComplete",null),t.pageReady=!0}),[t]),t.pages[t.lastPage]._tlx.play()):t.pageReady=!0):t.pageReady=!0,t.closeOnLastPage&&(t.currentPage===t.pages.length-1?r.removeClass("hidden"):r.addClass("hidden"))}function d(t){var n,i=void 0===t.animate||t.animate,a=!1;if(!0===t.hideAll)for(n=c.length-1;n>=0;n--)u(c[n].id,i);else u(t.id,i);function u(t,n){var r,i,s,u,l=h(t);null!==l&&(r=l.popup,i=r.getBox(),s=r.getOverlay(),(u="function"==typeof r.getPageControl?r.getPageControl():null)&&u.off("click",".popupPageButton"),l.isOpen=!1,l.current.lightbox&&l.current.morph&&$(document).off("keydown",f),!1===a&&!0===l.current.hasAudio&&(a=!0),"function"==typeof l.current.onBeforeClose&&l.current.onBeforeClose.apply(l,[l.current.onBeforeCloseContext,l.current.onBeforeCloseParam]),!0===n?o[l.current.transitionOut](i,"off",{speed:(l.current.speedOut||l.current.speed)/1e3,xProperty:l.current.xProperty,yProperty:l.current.yProperty,ease:l.current.transitionOutEase},(function(){i.remove(),l.current.triggerElement&&l.current.triggerElement.focus(),"function"==typeof l.current.onClose&&l.current.onClose.apply(l,[l.current.onCloseContext,l.current.onCloseParam])})):(i.remove(),l.current.triggerElement&&l.current.triggerElement.focus()),l.current.overlay?o.fade(s,"off",{speed:(l.current.speedOut||l.current.speed)/1e3,ease:l.current.transitionOutEase},(function(){s.remove()})):s.remove(),function(t){var e=0,n=c.length;for(e=0;e<n;e++)if(c[e].id===t){c.splice(e,1);break}}(t),c.length||(e.enablePageScroll(),e.releaseModal()))}t.element="popupInner"+t.id,r.notify(s.POPUP_CLOSED,t)}function h(t){var e=0,n=c.length;for(e=0;e<n;e++)if(c[e].id===t)return c[e];return null}return{name:"Popup",version:1,immediate:!1,init:function(){var t,e,n,i=new window.shellPopup,o=i.getOverlay(),f=i.getBox(),p=i.getCloser(),h=i.getTextBox(),g=f.css("margin"),v=f.css("position");if("getComputedStyle"in window){var m=window.getComputedStyle(h[0]);g=[m.getPropertyValue("margin-top"),m.getPropertyValue("margin-right"),m.getPropertyValue("margin-bottom"),m.getPropertyValue("margin-left")].join(" ")}else g="0px";var y=f.css("width"),b=f.css("height");if(n=h.css("width"),a.belongsTo="none",a.w=parseInt(y,10)||f.width(),a.h=parseInt(b,10)||f.height(),a.wMax="none",a.wMaxUnit="px",a.wMin="none",a.wMinUnit="px",a.hMax="none",a.hMaxUnit="px",a.hMin="none",a.hMinUnit="px",a.position=v,a.xProperty="auto"===f.css("right")?"left":"right",a.yProperty="auto"===f.css("bottom")?"top":"bottom",t=f.css(a.xProperty),e=f.css(a.yProperty),a.x="auto"==t?"centre":parseFloat(t),a.y="auto"==e?"centre":parseFloat(e),a.sxUnit=y.indexOf("%")>-1?"%":"px",a.syUnit=b.indexOf("%")>-1?"%":"px",a.pxUnit=f.css(a.xProperty).indexOf("%")>-1?"%":"px",a.pyUnit=f.css(a.yProperty).indexOf("%")>-1?"%":"px",a.transitionIn="fade",a.transitionOut="fade",a.transitionInEase="Cubic.easeOut",a.transitionOutEase="Cubic.easeOut",a.speed=300,a.lightbox=!1,a.text="",a.pages=[],a.currentPage=0,a.overlapPageAnimation=0,a.scrollable=!1,a.processURLs=!0,a.textWidth="0px"===n?"auto":parseInt(n,10),a.centreText="0px auto 0px auto"===g,a.twUnit=n.indexOf("%")>-1?"%":"px",a.morph=!0,a.morphAnimate=!0,a.media=null,a.stopAudio=!1,a.closer=!0,a.closeOnLastPage=!1,a.closeLabel=p.text(),a.overlay=!0,a.useID=-1,a.customClass="",a.tabIndexStart=1,a.onBeforeClose=null,a.onBeforeCloseContext=null,a.onClose=null,a.onCloseContext=null,a.onCloseParam=null,a.onOpen=null,a.onOpenContext=null,a.onOpenParam=null,a.delayMedia=!0,"function"==typeof i.getGlobalDefaultOptions){var _=i.getGlobalDefaultOptions();a=$.extend(!0,a,_)}l.all=a,r.add(s.STEP_BEFOREREADY,(function(){u=0,c.length>0&&d({id:0,animate:!1,hideAll:!0})})),o.remove(),f.remove()},getDefaults:function(){return l.all},getDefaultsForBreakpoint:function(t){if(!("matchMedia"in window))return l.all;for(var e in l)if("all"!=e&&!0===matchMedia(e).matches&&!0===matchMedia(t).matches)return l[e];return l.all},show:function(t){var a,g,v,m,y,b,_,w,E,S,x,O,C,k,T={},I={};if(T=$.extend(!0,T,l.all,t),t&&void 0!==T.x||(T.x=.5*window.innerWidth-.5*T.w),t&&void 0!==T.y||(T.y=.5*window.innerHeight-.5*T.h),y=T.w,b=isNaN(T.h)?0:T.h,_=isNaN(T.x)?0:T.x,w=isNaN(T.y)?0:T.y,S=T.textWidth,x=T.morph,O=T.closer,T.media&&T.media.audios?(T.hasAudio=T.media.audios.length>0,!1===T.hasAudio&&delete T.media.audios):T.hasAudio=!1,T.stopAudio,!1===x?(T.useID>-1?null===(C=h(T.useID))&&(C=R(O,T.overlay,T.useID,n.currentStep)):C=R(O,T.overlay,void 0,n.currentStep),k=C.popup):(null===(C=h(u))?C=R(O,T.overlay,void 0,n.currentStep):(""!=C.current.customClass&&(C.popup.getBox().removeClass(C.current.customClass),C.popup.getOverlay().removeClass(C.current.customClass.split(" ").join("-overlay")+"-overlay ")),C.current=T),k=C.popup),T.popupObject=C,a=k.getOverlay(),g=k.getBox(),v=k.getTextBox(),m=k.getCloser(),E="function"==typeof k.getPageControl?k.getPageControl():null,g.attr("data-belongsTo",T.belongsTo),g.attr("data-pid",C.id),e.translateElement(m[0]),""!=T.customClass&&(g.addClass(T.customClass),a.addClass(T.customClass.split(" ").join("-overlay ")+"-overlay ")),T.delayMedia?g.find("#popupMedia"+C.id).empty().css("display","none"):g.find("#popupMedia"+C.id).empty(),v.attr("tabindex","0"),!0===T.scrollable&&v.addClass("scrollable-y"),T){if(T.pages.length>0){if(E){var A=i.array.map(Array.apply(null,Array(T.pages.length)),(function(t,e){return"<div class='popupMediaHolder' data-page='"+e+"'></div>"}));g.find(".popupMedia").append(A.join(""))}else g.find(".popupMedia").append("<div class='popupMediaHolder' data-page='0'></div>");p(T)}else e.setText(v,T.text,T.processURLs);E&&T.pages.length<=1?E.addClass("hidden"):(T.lastPage=-1,"function"==typeof k.setPageIndicator&&E&&(k.setPageIndicator(T.pages.length,T.endPageAction),k.updatePageIndicator(T.currentPage+1),E.removeClass("hidden"),E.off("click",".popupPageButton"),E.on("click",".popupPageButton",(function(){if(T.pageReady){var t=T.currentPage;switch($(this).hasClass("popupPageNext")&&(T.lastPage=T.currentPage,T.currentPage++),$(this).hasClass("popupPagePrev")&&(T.lastPage=T.currentPage,T.currentPage--),T.endPageAction){case"loop":T.currentPage>T.pages.length-1&&(T.currentPage=0),T.currentPage<0&&(T.currentPage=T.pages.length-1);case"disable":default:T.currentPage>=T.pages.length-1&&(T.currentPage=T.pages.length-1),T.currentPage<=0&&(T.currentPage=0)}t!=T.currentPage&&(p(T),k.updatePageIndicator(T.currentPage+1),r.notify(s.POPUP_PAGE_CHANGE,{element:"popupInner"+T.popupObject.id,popupid:T.popupObject.id,page:T.currentPage,belongsTo:T.belongsTo}))}}))))}if(m.attr("tabindex","0"),!0===O?(m.on("click",{id:C.id},(function(t){d({id:t.data.id,triggeredBy:"close"})})),T.closeOnLastPage||(m.removeClass("hidden"),TweenLite.to(m,window.__ISAUTHOR?0:.2,{css:{autoAlpha:1}}))):m.css("display","none"),!0===T.lightbox&&(a.on("click",{id:C.id},(function(t){d({id:t.data.id,triggeredBy:"close"})})),$(document).on("keydown",{id:C.id},f)),"auto"===T.h)if(T.transitionIn.indexOf("grow")>-1){var D=$('<div style="position:absolute;left:100%;top:100%;visibility:hidden"></div>').appendTo(n.overlayLocation).append(v.clone());b=D.outerHeight(),D.remove()}else b="auto";function P(){g.on("touchmove",(function(t){t.preventDefault()})),v.on("touchmove",(function(t){t.stopPropagation()})),setTimeout(M,50),"function"==typeof T.onOpen&&T.onOpen.apply(C,[T.onOpenContext,T.onOpenParam])}function M(t){$("#popupInner"+t).find("[tabindex]").removeAttr("disabled").attr("tabindex","0"),n.accessibility&&v.focus()}function R(t,e,r,i){var o={};return void 0===r||-1===r?(u+=1,o.id=u):o.id=r,o.isOpen=!1,o.popup=new window.shellPopup(o.id,e,t,n.overlayLocation),o.current=T,o.stepid=i,c.push(o),o}return I={},window.__ISAUTHOR&&(I.transform=[!1,!1]),"centre"===T.x&&(_="50",T.pxUnit="%",T.xProperty="left",g.css({left:"50%"}),window.Modernizr.csstransforms&&!window.__ISAUTHOR?I.transform="translate(-50%,0)":I.transform=[!0,!1]),"centre"===T.y&&(w="50",T.pyUnit="%",T.yProperty="top",g.css({top:"50%"}),I.transform||(I.transform=[!1]),window.Modernizr.csstransforms&&!window.__ISAUTHOR?I.transform="translate("+("centre"===T.x?"-50%":"0")+",-50%)":I.transform=[I.transform[0],!0]),I.position=T.position,I[T.xProperty]=_+T.pxUnit,I[T.yProperty]=w+T.pyUnit,I.width=y+T.sxUnit,I.height="auto"===b?b:b+T.syUnit,I["left"===T.xProperty?"right":"left"]="auto",I["top"===T.yProperty?"bottom":"top"]="auto","none"!==T.wMin&&(I["min-width"]=T.wMin+T.wMinUnit),"none"!==T.wMax&&(I["max-width"]=T.wMax+T.wMaxUnit),"none"!==T.hMin&&(I["min-height"]=T.hMin+T.hMinUnit),"none"!==T.hMax&&(I["max-height"]=T.hMax+T.hMaxUnit),I.transform?(window.Modernizr.csstransforms&&!window.__ISAUTHOR?g.css({"-webkit-transform":I.transform,"-moz-transform":I.transform,"-ms-transform":I.transform,transform:I.transform}):(!0===I.transform[0]&&("%"===T.sxUnit&&(y=$(n.overlayLocation).width()*(y/100)),g.css({"margin-left":I.transform[0]?"-"+.5*y+"px":"0"})),!0===I.transform[1]&&("%"===T.syUnit&&(b=$(n.overlayLocation).height()*(b/100)),g.css({"margin-top":I.transform[1]?"-"+.5*b+"px":"0"}))),delete I.transform):window.__ISAUTHOR?g.css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none","margin-left":"0","margin-top":"0"}):window.Modernizr.csstransforms?g.css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"}):g.css({"margin-left":"0","margin-top":"0"}),!0===C.isOpen&&!0===x?(window.__ISAUTHOR&&(g.css(I),T.morphAnimate=!1),T.delayMedia||P(C.id),TweenLite.to(g,!0===T.morphAnimate?T.speed/1e3:0,{css:I,onComplete:function(){T.delayMedia&&P(C.id)}})):(g.css(I),!0===C.isOpen&&!1===x?P(C.id):(T.delayMedia||P(C.id),o[T.transitionIn](g,"on",{x:_+T.pxUnit,y:w+T.pyUnit,xProperty:T.xProperty,yProperty:T.yProperty,speed:(T.speedIn||T.speed)/1e3,ease:T.transitionInEase},(function(){T.delayMedia&&P(C.id)})))),v.css({width:S+("auto"!==S?T.twUnit||"px":""),margin:T.centreText?"0 auto":"0"}),!0===T.overlay?(g.removeClass("noOverlay hasOverlay").addClass("hasOverlay"),o.fade(a,"on",{speed:(T.speedIn||T.speed)/1e3,ease:T.transitionInEase})):(g.removeClass("noOverlay hasOverlay").addClass("noOverlay"),a.css({display:"none"})),C.isOpen=!0,e.disablePageScroll(),g[0].parentElement===document.body?e.makeModal(g[0]):a[0].parentElement===document.body&&e.makeModal(a[0]),r.notify(s.POPUP_OPENED,{id:C.id,belongsTo:T.belongsTo,element:"popupInner"+C.id}),{popupID:C.id,boxElement:g}},hide:d,showPage:function(t){var e=h(t.id);e.current.lastPage=e.current.currentPage,void 0!==t.page&&t.page<e.current.pages.length&&t.page>=0&&(e.current.currentPage=t.page),p(e.current),e.popup.updatePageIndicator(e.current.currentPage+1)},getPopupObjectByID:h}}}),Qv=function(){function t(e,n){Cv(this,t),"string"==typeof e&&(n=n||"#shell",this._root=$(e),$(n).append(this._root))}return Tv(t,[{key:"getGlobalDefaultOptions",value:function(t){switch(t=t||"modal"){case"fullscreen":return{xProperty:"left",yProperty:"top",w:100,sxUnit:"%",h:"auto",x:"centre",pxUnit:"%",y:0,pyUnit:"%",hMax:100,hMaxUnit:"%",transitionIn:"fade",transitionOut:"fade"};case"modal":default:return{xProperty:"left",yProperty:"top",w:100,sxUnit:"%",h:"auto",x:"centre",pxUnit:"%",y:"centre",pyUnit:"%",wMax:900,wMaxUnit:"px",hMax:100,hMaxUnit:"%",transitionIn:"fade",transitionOut:"fade"}}}},{key:"getAll",value:function(){return this._root}},{key:"getOverlay",value:function(){return this._root.find(".popup-overlay")}},{key:"getBox",value:function(){return this._root.find(".popup-box")}},{key:"getTextBox",value:function(){return this._root.find(".popup-text")}},{key:"getCloser",value:function(){return this._root.find(".popup-close")}}]),t}(),Wv=Object.freeze({__proto__:null,name:"modpopup",module:function(t){var e=t.config,n=t.core,r=t.observer,i=t.events,o={},s=null,a=!1,c={},u=[],l=0,f={},p={},d=null;function h(t){var e,n,o=g({closer:!0,overlay:!0},0).popup,s=o.getAll(),a=o.getBox(),p=o.getCloser(),d=o.getTextBox(),h=a.css("margin"),v=a.css("position");if("getComputedStyle"in window){var y=window.getComputedStyle(d[0]);h=[y.getPropertyValue("margin-top"),y.getPropertyValue("margin-right"),y.getPropertyValue("margin-bottom"),y.getPropertyValue("margin-left")].join(" ")}else h="0px";var b=a.css("width"),_=a.css("height");c.belongsTo="none",c.template="mdl_modularPopup",c.w=parseInt(b,10)||a.width(),c.h=parseInt(_,10)||a.height(),c.wMax="none",c.wMaxUnit="px",c.wMin="none",c.wMinUnit="px",c.hMax="none",c.hMaxUnit="px",c.hMin="none",c.hMinUnit="px",c.position=v,c.xProperty="auto"===a.css("right")?"left":"right",c.yProperty="auto"===a.css("bottom")?"top":"bottom",e=a.css(c.xProperty),n=a.css(c.yProperty),c.x="auto"==e?"centre":parseFloat(e),c.y="auto"==n?"centre":parseFloat(n),c.sxUnit=b.indexOf("%")>-1?"%":"px",c.syUnit=_.indexOf("%")>-1?"%":"px",c.pxUnit=a.css(c.xProperty).indexOf("%")>-1?"%":"px",c.pyUnit=a.css(c.yProperty).indexOf("%")>-1?"%":"px",c.transitionIn="fade",c.transitionOut="fade",c.transitionInEase="Cubic.easeOut",c.transitionOutEase="Cubic.easeOut",c.speed=300,c.lightbox=!0,c.padding=!0,c.displayMode="modal",c.text="",c.pages=[],c.currentPage=0,c.scrollable=!0,c.centreText="0px auto 0px auto"===h,c.triggerElement=null,c.morph=!1,c.morphAnimate=!1,c.stopAudio=!1,c.closer=!0,c.preventCloseUntilComplete=!1,c.closeOnComplete=!1,c.autoCloseDelay=400,c.closeLabel=p.text(),c.overlay=!0,c.useID=-1,c.contentID="",c.customClass="",c.tabIndexStart=1,c.onComplete=function(){},c.onProgress=function(){},c.onBeforeClose=null,c.onBeforeCloseContext=null,c.onClose=null,c.onCloseContext=null,c.onCloseParam=null,c.onOpen=null,c.onOpenContext=null,c.onOpenParam=null,f.all=c,s.remove(),r.add(i.STEP_BEFOREREADY,(function(){l=0,u.length>0&&m({id:0,animate:!1,hideAll:!0})})),setTimeout((function(){t()}),1)}function g(r,i){var o={};if(l+=1,"undefined"==typeof useID||-1===r.useID?o.id=l:o.id=r.useID,a){var s=n.getCompiledHTMLTemplate("mdl_modularPopup",r.template||"mdl_modularPopup");s||(s=n.getCompiledHTMLTemplate("mdl_modularPopup","mdl_modularPopup")),s||alert('The popup template "'.concat(r.template||"mdl_modularPopup",'" was not found.'));var c=s({id:o.id,overlay:r.overlay,closer:r.closer});o.popup=new d(c,e.overlayLocation)}else o.popup=new d(t,o.id,r.overlay,r.closer,e.overlayLocation);return o.isOpen=!1,o.current=r,o.stepid=i,o}function v(t){for(var e=100*t.length,n=0,r=0;r<t.length;r++)n+=t[r].getPercentComplete();return{numComplete:n,total:e,isComplete:n>=e}}function m(t){var e=void 0===t.animate||t.animate;if(!0===t.hideAll)for(var s=u.length-1;s>=0;s--)a(u[s].id,e);else a(t.id,e);function a(t,e){var s=y(t);if(null!==s){var a=s.popup.getAll();s.isOpen=!1,s.current.activeTransition&&s.current.activeTransition.cancel(),r.removeByID(i.COMPONENT_COMPLETE,"POP-"+s.current.contentID),s.current.lightbox&&s.current.morph&&$(document).off("keydown",s.current.__onDocumentKeyDown),"function"==typeof s.current.onBeforeClose&&s.current.onBeforeClose.apply(s,[s.current.onBeforeCloseContext,s.current.onBeforeCloseParam]);var c=p[s.current.contentID]||[];!0===e&&o[s.current.transitionOut]?(n.enablePageScroll(),s.current.activeTransition=o[s.current.transitionOut].hide(s.current,(function(){s.current.activeTransition=null,s.current.isComplete&&s.current.onComplete(),a.remove(),c.forEach((function(t){t.unload()})),s.current.triggerElement&&s.current.triggerElement.focus(),"function"==typeof s.current.onClose&&s.current.onClose.apply(s,[s.current.onCloseContext,s.current.onCloseParam])}))):(u.length||n.enablePageScroll(),s.current.isComplete&&s.current.onComplete(),a.remove(),c.forEach((function(t){t.unload()})),s.current.triggerElement&&s.current.triggerElement.focus()),function(t){var e=0,n=u.length;for(e=0;e<n;e++)if(u[e].id===t){u.splice(e,1);break}}(t)}}n.releaseModal(),t.element="popupInner"+t.id,r.notify(i.POPUP_CLOSED,t)}function y(t){var e=0,n=u.length;for(e=0;e<n;e++)if(u[e].id===t)return u[e];return null}return{name:"Modular Popup",version:1,immediate:!1,init:function(t){if("function"!=typeof(d=e.constructors.modShellPopup))d=Qv,a=!0,n.getCompiledHTMLTemplate("mdl_modularPopup","mdl_modularPopup")?h(t):$.ajax({url:"modules/modularPopup/modularPopup.html",dataType:"text"}).done((function(e){n.addHTMLTemplates(e),h(t)})).fail((function(){n.addHTMLTemplates('<script data-for="mdl_modularPopup" data-template="mdl_modularPopup" type="text/x-handlebars-template">\n<div id="popupContainer{{id}}" class="popup-container" role="dialog">\n{{#if overlay}}<div id="popup{{id}}" class="popup popup-overlay"></div>{{/if}}\n<div id="popupBox{{id}}" class="popup-box">\n    <div id="popupText{{id}}" class="popup-text" aria-live="assertive"></div>\n    {{#if closer}}<button id="popupClose{{id}}" class="popup-close focus noTapSelection" tabindex="0">Close</button>{{/if}}\n</div>\n</div>\n<\/script>'),h(t)}));else try{h(t)}catch(e){console.log(e),setTimeout((function(){t()}),1)}},async:!0,getDefaults:function(){return f.all},getDefaultsForBreakpoint:function(t){if(!("matchMedia"in window))return f.all;for(var e in f)if("all"!=e&&!0===matchMedia(e).matches&&!0===matchMedia(t).matches)return f[e];return f.all},show:function(t){var c,h,b,_,w,E,S,x,O,C,k,T,I,A,D={},P={},M=d.prototype.getGlobalDefaultOptions(t.displayMode);if(D=$.extend(!0,D,f.all,M,t),t&&void 0!==D.x||(D.x=.5*window.innerWidth-.5*D.w),t&&void 0!==D.y||(D.y=.5*window.innerHeight-.5*D.h),D.triggerElement){var R=$(D.triggerElement)[0],L=n.a11y.getTabIndex(R);n.a11y.isFocussable(R)||L||$(D.triggerElement).attr("tabindex","-1")}if(E=D.w,S=isNaN(D.h)?0:D.h,x=isNaN(D.x)?0:D.x,O=isNaN(D.y)?0:D.y,C=D.morph,k=D.closer,!0===D.stopAudio&&SparkAPI.warn("Modular popup: stopAudio not yet implemented."),!1===C?(D.useID>-1?null===(I=y(D.useID))&&(I=g(D,e.currentStep),u.push(I)):(I=g(D,e.currentStep),u.push(I)),A=I.popup):(null===(I=y(l))?(I=g(D,e.currentStep),u.push(I)):(""!=I.current.customClass&&(I.popup.getBox().removeClass(I.current.customClass),I.popup.getOverlay().removeClass(I.current.customClass.split(" ").join("-overlay")+"-overlay ")),I.current=D),A=I.popup),T=A.getConfig&&A.getConfig("internalScroll")||!1,D.popupObject=I,c=A.getAll(),h=A.getOverlay(),b=A.getBox(),_=A.getTextBox(),w=A.getCloser(),b.attr("data-belongsTo",D.belongsTo),b.attr("data-pid",I.id),a||n.translateElement(w[0]),""!=D.customClass&&(b.addClass(D.customClass),h.addClass(D.customClass.split(" ").join("-overlay ")+"-overlay ")),D.padding?b.addClass("popup-padding"):b.removeClass("popup-padding"),"fullscreen"===D.displayMode?c.addClass("fullscreen-popup"):c.removeClass("fullscreen-popup"),!0===D.scrollable&&(T?A.getScrollBox().addClass("scrollable-y"):b.addClass("scrollable-y")),D){if(_.children().length&&_.empty(),"string"==typeof D.text){var N=e.stepData[e.currentStep].guid;D.text=[{blocks:[{components:[{pageid:N,settings:{},textcontent:D.text,type:"text",uid:"GEN-C-"+(D.contentID||Math.round(1e6*Math.random()))}],conditions:[],pageid:N,settings:{},size:"fullwidth",type:"grid",uid:"GEN-B-"+(D.contentID||Math.round(1e6*Math.random()))}],pageid:N,settings:{},type:"section",uid:"GEN-S-"+(D.contentID||Math.round(1e6*Math.random()))}]}n.componentRenderer.render({scope:D.contentID||"modpopup",pageid:e.stepData[e.currentStep].stepOptions.id,renderid:D.contentID,domtarget:_,sectionsdata:D.text,resumedata:s||{},done:function(t){p[D.contentID]=t.loadedSections;var s=v(t.loadedSections);function a(t){(!D.preventCloseUntilComplete||D.preventCloseUntilComplete&&D.isComplete)&&($(document).off("keydown",a),function(t){27===t.keyCode&&m({id:t.data.id,triggeredBy:"close"})}(t))}if(s.isComplete&&(D.isComplete=!0),w.attr("tabindex","0"),!0===k?(w.removeClass("hidden"),w.on("click",{id:I.id},(function(t){m({id:t.data.id,triggeredBy:"close"})}))):w.addClass("hidden"),!0===D.lightbox&&(h.on("click",{id:I.id},(function(t){(!D.preventCloseUntilComplete||D.preventCloseUntilComplete&&D.isComplete)&&m({id:t.data.id,triggeredBy:"close"})})),$(document).on("keydown",{id:I.id},a),D.__onDocumentKeyDown=a),"auto"===D.h&&(S="auto"),P={},"centre"===D.x&&(x="50",D.pxUnit="%",D.xProperty="left",b.css({left:"50%"}),P.transform="translate(-50%,0)"),"centre"===D.y&&(O="50",D.pyUnit="%",D.yProperty="top",b.css({top:"50%"}),P.transform||(P.transform=[!1]),P.transform="translate("+("centre"===D.x?"-50%":"0")+",-50%)"),P.position=D.position,P[D.xProperty]=x+D.pxUnit,P[D.yProperty]=O+D.pyUnit,P.width=E+D.sxUnit,P.height="auto"===S?S:S+D.syUnit,P["left"===D.xProperty?"right":"left"]="auto",P["top"===D.yProperty?"bottom":"top"]="auto","none"!==D.wMin&&(P["min-width"]=D.wMin+D.wMinUnit),"none"!==D.wMax&&(P["max-width"]=D.wMax+D.wMaxUnit),"none"!==D.hMin&&(P["min-height"]=D.hMin+D.hMinUnit),"none"!==D.hMax&&(P["max-height"]=D.hMax+D.hMaxUnit),P.transform?(b.css({"-webkit-transform":P.transform,"-moz-transform":P.transform,"-ms-transform":P.transform,transform:P.transform}),delete P.transform):b.css({"-webkit-transform":"none","-moz-transform":"none","-ms-transform":"none",transform:"none"}),!0===I.isOpen&&!0===C){var u=!0===D.morphAnimate?(D.speedIn||D.speed)/1e3:0;TweenLite.to(b,u,{css:P})}else b.css(P),T&&P["max-height"]&&setTimeout((function(){A.getScrollBox().css({"max-height":b.height()+2+"px"})}),1),!0===I.isOpen&&!1===C||(o[I.current.transitionIn]?I.current.activeTransition=o[I.current.transitionIn].show(D,(function(){I.current.activeTransition=null,e.accessibility&&b.find("[tabindex]:not(.popup-close)")[0].focus()})):(I.current.activeTransition=null,b.css("display","block"),h.css("display","block"),e.accessibility&&b.find("[tabindex]:not(.popup-close)")[0].focus()));b.removeClass("noOverlay hasOverlay"),!0===D.overlay?b.addClass("hasOverlay"):(b.addClass("noOverlay"),h.css({display:"none"})),I.isOpen=!0,r.add(i.COMPONENT_COMPLETE,(function(){var t=v(p[D.contentID]);t.isComplete&&(r.removeByID(i.COMPONENT_COMPLETE,"POP-"+D.contentID),D.isComplete=!0,w.removeClass("hidden"),D.closeOnComplete&&setTimeout((function(){m({id:D.useID,triggeredBy:"completion"})}),D.autoCloseDelay)),t.numComplete>0&&D.onProgress(t.numComplete,t.total),r.notify(i.POPUP_PROGRESS,{id:I.id,completed:t.numComplete,total:t.total,percent:Math.round(t.numComplete/t.total*100)})}),{id:"POP-"+D.contentID}),n.disablePageScroll(),n.makeModal(c[0]),"function"==typeof I.current.onOpen&&I.current.onOpen.apply(I,[I.current.onOpenContext,I.current.onOpenParam]),n.componentRenderer.notifyMountedComponents(),r.notify(i.POPUP_OPENED,{id:I.id,belongsTo:D.belongsTo,element:"popupInner"+I.id}),s.numComplete>0&&D.onProgress(s.numComplete,s.total),D.preventCloseUntilComplete&&!D.isComplete&&w.addClass("hidden")}})}return{popupID:I.id,boxElement:b}},hide:m,getPopupObjectByID:y,registerTransition:function(t,e,n){o[t]={show:e,hide:n}},reset:function(t){var e=function(t){"function"==typeof t.reset&&t.reset()};if(void 0===t)Object.values(p).forEach((function(t){t.forEach(e)})),p={},s=null;else{if(!p[t])return;p[t].forEach(e)}},getResumeData:function(){var t={};for(var e in p)for(var n=0;n<p[e].length;n++)for(var r=p[e][n].getChildren(),i=0;i<r.length;i++)for(var o=r[i].getChildren(),s=0;s<o.length;s++){var a=o[s];if("getResumeData"in a){var c=a.getResumeData();c&&(t[a.getUID()]=c)}}return"{}"===(t=JSON.stringify(t))?"":t},setResumeData:function(t){try{s=JSON.parse(t)}catch(t){s=null}}}}}),Yv=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=t.popupObject.popup.getCloser();$(n).css({display:"block",opacity:1}),$(r).css({display:"block",opacity:0}),$(i).css({display:"block",opacity:1});var o=n[0].getBoundingClientRect(),s={left:-1*o.width,top:o.top,width:o.width,height:o.height},a=s.left,c=s.top;$(n).css({top:0,left:0,transform:"translate("+a+"px, "+c+"px)"});var u=(t.speedIn||t.speed)/1e3;return TweenLite.to(r,u,{opacity:1,ease:t.transitionInEase||"Cubic.easeOut"}),TweenLite.to(n,u,{x:o.left,y:o.top,ease:t.transitionInEase||"Cubic.easeOut",onComplete:function(){e()}}),{cancel:function(){TweenLite.killTweensOf(n),e()}}},Kv=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=n[0].getBoundingClientRect(),o={left:-1*i.width,top:i.top,width:i.width,height:i.height},s=i.left,a=i.top;$(n).css({top:0,left:0,transform:"translate("+s+"px, "+a+"px)"});var c=(t.speedOut||t.speed)/1e3;TweenLite.to(r,c,{opacity:0,ease:t.transitionOutEase||"Cubic.easeOut"}),TweenLite.to(n,c,{x:o.left,y:o.top,ease:t.transitionOutEase||"Cubic.easeOut",onComplete:function(){e()}})},Zv=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=t.popupObject.popup.getCloser();$(n).css({display:"block",opacity:1}),$(r).css({display:"block",opacity:0}),$(i).css({display:"block",opacity:1});var o=n[0].getBoundingClientRect(),s={left:window.innerWidth+o.width,top:o.top,width:o.width,height:o.height},a=s.left,c=s.top;$(n).css({top:0,left:0,transform:"translate("+a+"px, "+c+"px)"});var u=(t.speedIn||t.speed)/1e3;return TweenLite.to(r,u,{opacity:1,ease:t.transitionInEase||"Cubic.easeOut"}),TweenLite.to(n,u,{x:o.left,y:o.top,ease:t.transitionInEase||"Cubic.easeOut",onComplete:function(){e()}}),{cancel:function(){TweenLite.killTweensOf(n),e()}}},Xv=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=n[0].getBoundingClientRect(),o={left:window.innerWidth+i.width,top:i.top,width:i.width,height:i.height},s=i.left,a=i.top;$(n).css({top:0,left:0,transform:"translate("+s+"px, "+a+"px)"});var c=(t.speedOut||t.speed)/1e3;TweenLite.to(r,c,{opacity:0,ease:t.transitionOutEase||"Cubic.easeOut"}),TweenLite.to(n,c,{x:o.left,y:o.top,ease:t.transitionOutEase||"Cubic.easeOut",onComplete:function(){e()}})},Jv=function(t,e){var n=t.popupObject.popup.getAll(),r=t.popupObject.popup.getBox(),i=t.popupObject.popup.getOverlay(),o=t.popupObject.popup.getCloser();$(n).css({display:"block",opacity:0}),$(r).css({display:"block",opacity:1}),$(i).css({display:"block",opacity:1}),$(o).css({display:"block",opacity:1});var s=(t.speedIn||t.speed)/1e3;return TweenLite.to(n,s,{opacity:1,ease:t.transitionInEase||"Cubic.easeOut",onComplete:function(){e()}}),{cancel:function(){TweenLite.killTweensOf(n),e()}}},tm=function(t,e){var n=t.popupObject.popup.getAll(),r=(t.speedOut||t.speed)/1e3;TweenLite.to(n,r,{opacity:0,ease:t.transitionOutEase||"Cubic.easeOut",onComplete:function(){e()}})},em=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=t.popupObject.popup.getCloser();$(n).css({display:"block",opacity:1}),$(r).css({display:"block",opacity:0}),$(i).css({display:"block",opacity:1});var o=n[0].getBoundingClientRect(),s={left:o.left,top:o.top+50,width:o.width,height:o.height},a=s.left,c=s.top;$(n).css({top:0,left:0,transform:"translate("+a+"px, "+c+"px)"});var u=(t.speedIn||t.speed)/1e3;return TweenLite.to(r,u,{opacity:1,ease:t.transitionInEase||"Cubic.easeOut"}),TweenLite.to(n,u,{x:o.left,y:o.top,ease:t.transitionInEase||"Cubic.easeOut",onComplete:function(){e()}}),{cancel:function(){TweenLite.killTweensOf(n),e()}}},nm=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=n[0].getBoundingClientRect(),o={left:i.left,top:i.top+50,width:i.width,height:i.height},s=i.left,a=i.top;$(n).css({top:0,left:0,transform:"translate("+s+"px, "+a+"px)"});var c=(t.speedOut||t.speed)/1e3;TweenLite.to(r,c,{opacity:0,ease:t.transitionOutEase||"Cubic.easeOut"}),TweenLite.to(n,c,{x:o.left,y:o.top,ease:t.transitionOutEase||"Cubic.easeOut",onComplete:function(){e()}})},rm=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=t.popupObject.popup.getCloser();$(n).css({display:"block",opacity:0}),$(r).css({display:"block",opacity:0});var o=$("<div></div>").css({position:"fixed",left:0,top:0,width:"100%",height:"100%",background:"transparent"}).append("<svg style='position:absolute;fill:#222' preserveAspectRatio='none' width='100%' height='100%' viewBox='0 0 100 100'><path d='M0,0 L100,0, L0,0 L0,100z'></rect></svg>").appendTo("body"),s={time:0};return TweenLite.to(s,.6,{time:100,ease:"Expo.easeInOut",onUpdate:function(){var t=s.time;o.find("path").attr("d","M0,0 L100,0, L"+t+","+t+" L0,100z")},onComplete:function(){TweenLite.to(n,.3,{css:{opacity:1}}),TweenLite.to(i,.3,{css:{opacity:1}}),TweenLite.to(r,.3,{css:{opacity:1},onComplete:function(){o.remove(),e()}})}}),{cancel:function(){TweenLite.killTweensOf(s),TweenLite.killTweensOf(i),TweenLite.killTweensOf(n),TweenLite.killTweensOf(r),o.remove(),e()}}},im=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getCloser(),i=t.popupObject.popup.getOverlay(),o=$("<div></div>").css({position:"fixed",left:0,top:0,width:"100%",height:"100%",background:"transparent",zIndex:"2010"}).append("<svg style='position:absolute;fill:#222' preserveAspectRatio='none' width='100%' height='100%' viewBox='0 0 100 100'><path d='M0,0 L100,0, L100,100 L0,100z'></rect></svg>").appendTo("body"),s={time:100};TweenLite.to(n,.2,{css:{opacity:0}}),TweenLite.to(r,.2,{css:{opacity:0}}),TweenLite.to(i,.2,{css:{opacity:0},onComplete:function(){TweenLite.to(s,.6,{time:0,ease:"Expo.easeInOut",onUpdate:function(){var t=s.time;o.find("path").attr("d","M0,0 L"+t+","+(100-t)+" L100,100 L0,100z")},onComplete:function(){o.remove(),e()}})}})},om=function(t,e){t.triggerElement||console.error("modularPopupTransition::buttonMorph - Trigger element not provided.");var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=t.popupObject.popup.getCloser();$(n).css({display:"block",opacity:0}),$(r).css({display:"block",opacity:0});var o=(t.speedIn||t.speed)/1e3,s=t.triggerElement?t.triggerElement.getBoundingClientRect():{left:0,top:0,width:100,height:100},a=n[0].getBoundingClientRect(),c=s.left,u=s.top,l=s.width/a.width,f=s.height/a.height,p=t.triggerElement?window.getComputedStyle(t.triggerElement).backgroundColor:"#FFF",d=$("<div></div>").css({position:"fixed",left:0,top:0,width:a.width+"px",height:a.height+"px",transform:"translate("+c+"px, "+u+"px) scale("+l+","+f+")",background:p,transformOrigin:"0 0",opacity:0,zIndex:2105}).appendTo("body");return TweenLite.to(r,.4*o,{delay:.2,css:{opacity:1}}),TweenLite.to(d,.15,{css:{opacity:1},ease:"Expo.easeIn",onComplete:function(){t.triggerElement&&$(t.triggerElement).css("visibility","hidden"),TweenLite.to(d,o,{scale:1,background:window.getComputedStyle(n[0]).backgroundColor,x:a.left,y:a.top,ease:"Expo.easeInOut",onComplete:function(){TweenLite.to(i,.2,{css:{opacity:1}}),$(n).css({opacity:""}),TweenLite.to(d,.1,{css:{opacity:0},onComplete:function(){d.remove(),e()}})}})}}),{cancel:function(){TweenLite.killTweensOf(d),TweenLite.killTweensOf(i),TweenLite.killTweensOf(n),TweenLite.killTweensOf(r),d.remove(),e()}}},sm=function(t,e){var n=t.popupObject.popup.getBox(),r=t.popupObject.popup.getOverlay(),i=(t.speedIn||t.speed)/1e3,o=n[0].getBoundingClientRect(),s=t.triggerElement?t.triggerElement.getBoundingClientRect():{left:0,top:0,width:100,height:100},a=t.triggerElement?window.getComputedStyle(t.triggerElement).backgroundColor:"#FFF",c=o.left,u=o.top,l=o.width/s.width,f=o.height/s.height,p=$("<div></div>").css({position:"fixed",left:0,top:0,width:s.width+"px",height:s.height+"px",transform:"translate("+c+"px, "+u+"px) scale("+l+","+f+")",background:window.getComputedStyle(n[0]).backgroundColor,transformOrigin:"0 0",opacity:0,zIndex:2105}).appendTo("body");TweenLite.to(p,.2,{css:{opacity:1},onComplete:function(){$(n).css({display:"block",opacity:0}),$(r).css({display:"block",opacity:1}),TweenLite.to(r,.5*i,{delay:.5*i,css:{opacity:0}}),TweenLite.to(p,i,{scale:1,x:s.left,y:s.top,background:a,ease:"Expo.easeInOut",onComplete:function(){t.triggerElement&&$(t.triggerElement).css("visibility",""),TweenLite.to(p,.15,{css:{opacity:0},onComplete:function(){p.remove(),e()}})}})}})},am=Object.freeze({__proto__:null,name:"modularPopupTransitions",module:function(t){var e=t.modules;return{name:"Modular Popup Transitions",version:1,immediate:!1,init:function(){e.modpopup?(e.modpopup.registerTransition("slideLeft",Yv,Kv),e.modpopup.registerTransition("slideRight",Zv,Xv),e.modpopup.registerTransition("squaremorph",rm,im),e.modpopup.registerTransition("buttonmorph",om,sm),e.modpopup.registerTransition("fade",Jv,tm),e.modpopup.registerTransition("fadeUp",em,nm)):alert("Modular popup module not found. Make sure it has been loaded in shell.html.")}}}}),cm=Object.freeze({__proto__:null,name:"soundManager",module:function(t){var e=t.config,n=t.observer,r=t.events,i=e.globalVolume;return{name:"",version:1,immediate:!1,init:function(){n.add(r.TEXT_TRACK_CHANGED,(function(t){var n=t.track;e.mediaTextTrack=n})),n.add(r.VOLUME_CHANGED,(function(t){var n=t.volume;e.globalVolumeIsSet=!0,e.globalVolume=n})),n.add(r.MUTE,(function(t){t.muted?(i=e.globalVolume,e.audio=!1,n.notify(r.VOLUME_CHANGED,{sourceType:"soundManager",component:null,volume:0})):(e.audio=!0,n.notify(r.VOLUME_CHANGED,{sourceType:"soundManager",component:null,volume:i}))}))}}}}),um=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Cv(this,t),Iv(this,"type","component"),this.shell=e,this.options=n,this.core=e.core,this.config=e.config,this.observer=e.observer,this.events=e.events,this.utils=e.utils,this.version=1,this.containertemplate="<div class='cmp_component'></div>",this.container=null,this.data=null,this.parentdata=null,this.resumedata=null,this.active=!0,this.complete=!0,this.loaded=!1,this.interactive=!1,this.initialised=!1}return Tv(t,[{key:"initialise",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.initialised=!0,this.container=t||$(this.containertemplate),this.data=e,this.parentdata=n,this.initClasses=this.container.attr("class"),this.container}},{key:"load",value:function(){}},{key:"unload",value:function(){this.loaded=!1,this.container&&this.container.empty(),this.data.actions&&this.core.actions.unbindActions({id:this.data.uid})}},{key:"renderTemplate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.data.template,n=this.getTemplate(e);return"function"==typeof n&&($(this.container).append(n(Dv({uid:this.data.uid,template:e||"cmp_".concat(this.type),dynamicvariables:this.parentdata.variables},t))),!0)}},{key:"element",value:function(){return this.container}},{key:"getData",value:function(){return this.data}},{key:"getUID",value:function(){return this.data.uid}},{key:"getScope",value:function(){for(var t=this.parent();t&&"function"==typeof t.parent&&!t.scope;)t=t.parent();return t.scope||void 0}},{key:"getEventData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.events.COMPONENT_COMPLETE;return t===this.events.COMPONENT_COMPLETE?{scope:this.getScope(),uid:this.data.uid,component:this.data.uid,step:this.data.pageid,pageid:this.data.pageid,componentdata:this.data}:{scope:this.getScope(),uid:this.data.uid}}},{key:"isActive",value:function(){return this.active}},{key:"isInteractive",value:function(){return this.interactive}},{key:"isInitialised",value:function(){return this.initialised}},{key:"isComplete",value:function(){return this.checkComplete()}},{key:"activate",value:function(){this.active=!0}},{key:"checkComplete",value:function(){return this.complete}},{key:"deactivate",value:function(){this.active=!1}},{key:"getTemplate",value:function(t){return this.core.getCompiledHTMLTemplate("cmp_".concat(this.type),t)}},{key:"reset",value:function(){this.complete=!1,this.initialised=!1,this.container&&this.container.attr("class",this.initClasses)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getLayoutProperties",value:function(t){var e=[];t.overflow&&e.push("overflow: "+t.overflow+";"),t.position&&e.push("position: "+t.position+";"),t.width&&e.push("width: "+t.width+";"),t.height&&e.push("height: "+t.height+";"),t.minwidth&&e.push("min-width: "+t.minwidth+";"),t.minheight&&e.push("min-height: "+t.minheight+";"),t.maxwidth&&e.push("max-width: "+t.maxwidth+";"),t.maxheight&&e.push("max-height: "+t.maxheight+";"),t.margin&&e.push("margin: "+t.margin+";"),t.padding&&e.push("padding: "+t.padding+";");var n=[];if(t.x?"center"===t.x?(e.push("left:50%;"),n.push("translateX(-50%)")):e.push(" "+t.x+";"):(t.left&&e.push("left: "+t.left+";"),t.right&&e.push("right: "+t.right+";")),t.y?"center"===t.y?(e.push("top:50%;"),n.push("translateY(-50%)")):e.push(" "+t.y+";"):(t.top&&e.push("top: "+t.left+";"),t.bottom&&e.push("bottom: "+t.right+";")),t.perspective&&(e.push("-webkit-perspective: "+t.perspective+";"),e.push("perspective: "+t.perspective+";")),t.transformstyle&&(e.push("-webkit-transform-style: "+t.transformstyle+";"),e.push("transform-style: "+t.transformstyle+";")),t.z&&n.push("translateZ("+t.z+")"),t.rotate&&n.push("rotate("+t.rotate+")"),t.scale&&n.push("scale("+t.scale+")"),n.length&&(e.push("-webkit-transform: "+n.join(" ")+";"),e.push("transform: "+n.join(" ")+";")),t.vheight){var r=window.innerHeight;e.push("height: "+Math.floor(r*(parseFloat(t.vheight)/100))+"px;")}if(t.vwidth){var i=window.innerWidth;e.push("width: "+Math.floor(i*(parseFloat(t.vwidth)/100))+"px;")}return e}},{key:"getStyle",value:function(t){var e={main:this.getStyleProperties(t),breakpoints:{}};if(t._breakpoints)for(var n in t._breakpoints)t._breakpoints.hasOwnProperty(n)&&(e.breakpoints[n]=this.getStyleProperties(t._breakpoints[n]));return e}},{key:"getThemeValues",value:function(){var t=$("<div style='display:none;' class='primary_background primary_foreground'></div>").appendTo("body"),e=$("<div style='display:none;' class='secondary_background secondary_foreground'></div>").appendTo("body"),n=$("<div style='display:none;' class='tertiary_background tertiary_foreground'></div>").appendTo("body");this.theme={primary:{background:t.css("background-color"),foreground:t.css("color")},secondary:{background:e.css("background-color"),foreground:e.css("color")},tertiary:{background:n.css("background-color"),foreground:n.css("color")}},t.remove(),e.remove(),n.remove()}},{key:"getStyleProperties",value:function(t){var e,n,r=[];if(t.background)if(0===(n=t.background).indexOf("@"))this.theme||this.getThemeValues(),e=n.substr(1),r.push("background-color: "+this.theme[e].background+";");else if(0===n.indexOf("swatch:")){var i=this.getSwatchValue(n.substring(7))||"";i.indexOf("-gradient(")>-1?r.push("background-image: "+i+";"):r.push("background-color: "+i+";")}else 0===n.indexOf("url:")?(n=this.getBackgroundImage(n),r.push("background-image: "+n+";")):n.indexOf("gradient:")>-1?(n=this.getBackgroundGradient(n),r.push("background-image: -webkit-"+n+";"),r.push("background-image: "+n+";")):0!==n.indexOf("rgb(")&&0!==n.indexOf("rgba(")&&0!==n.indexOf("#")&&0!==n.indexOf("hsl(")&&0!==n.indexOf("hsla(")||r.push("background-color: "+n+";");if(t.backgroundimage){if(0===(n=t.backgroundimage).indexOf("url:"))n=this.getBackgroundImage(n);else if(n.indexOf("swatch:")>-1){var o=this.getSwatchValue(n.substring(7))||"";o.indexOf("-gradient(")>-1?r.push("background-image: "+o+";"):r.push("background-color: "+o+";")}else n.indexOf("gradient:")>-1&&(n=this.getBackgroundGradient(n),r.push("background-image: -webkit-"+n+";"));r.push("background-image: "+n+";")}if(t.backgroundcolour&&(t.backgroundcolor=t.backgroundcolour),t.backgroundcolor)if(n.indexOf("@")>-1)this.theme||this.getThemeValues(),e=n.substr(1),r.push("background-color: "+this.theme[e].background+";");else if(0===t.backgroundcolor.indexOf("swatch:")){var s=this.getSwatchValue(t.backgroundcolor.substring(7))||"";s.indexOf("-gradient(")>-1?r.push("background-image: "+s+";"):r.push("background-color: "+s+";")}else r.push("background-color: "+n+";");return t.backgroundattachment&&r.push("background-attachment: "+t.backgroundattachment+";"),t.backgroundrepeat&&r.push("background-repeat: "+t.backgroundrepeat+";"),t.backgroundsize&&r.push("background-size: "+t.backgroundsize+";"),t.backgroundposition&&r.push("background-position: "+t.backgroundposition+";"),t.align&&r.push("text-align: "+t.align+";"),t.textshadow&&r.push("text-shadow: "+t.textshadow+";"),t.boxshadow&&r.push("box-shadow: "+t.boxshadow+";"),t.blendmode&&r.push("mix-blend-mode: "+t.blendmode+";"),t.border&&r.push("border: "+t.border+";"),t.bordertop&&r.push("border-top: "+t.bordertop+";"),t.borderright&&r.push("border-right: "+t.borderright+";"),t.borderbottom&&r.push("border-bottom: "+t.borderbottom+";"),t.borderleft&&r.push("border-left: "+t.borderleft+";"),t.borderradius&&r.push("border-radius: "+t.borderradius+";"),t.colour&&(t.color=t.colour),t.color&&(t.color.indexOf("@")>-1?(this.theme||this.getThemeValues(),e=t.color.substring(1),r.push("color: ".concat(this.theme[e].foreground,";"))):0===t.color.indexOf("swatch:")&&this.config.swatches[t.color.substring(7)]?r.push("color: ".concat(this.getSwatchValue(t.color.substring(7))," !important;")):r.push("color: ".concat(t.color," !important;"))),r}},{key:"getCSSProperties",value:function(t){var e={main:this.getLayoutProperties(t).concat(this.getStyleProperties(t)),breakpoints:{}};if(t._breakpoints)for(var n in t._breakpoints)t._breakpoints.hasOwnProperty(n)&&(e.breakpoints[n]=this.getLayoutProperties(t._breakpoints[n]).concat(this.getStyleProperties(t._breakpoints[n])));return e}},{key:"getSwatchValue",value:function(t){return this.config.swatches[t]?this.config.swatches[t].value:""}},{key:"getBackgroundImage",value:function(t){return'url("'.concat(this.core.getAssetPath(t.substring(4),"images"),'")')}},{key:"getBackgroundGradient",value:function(t){var e=t.split(":");return[e[0],"(",e[1],")"].join("")}},{key:"applyCSS",value:function(t,e){var n,r=!1;if(e.constructor===Array)n="".concat(t," { ").concat(e.join("\n\t")," }"),r=e.length>0;else for(var i in n="".concat(t," { ").concat(e.main.join("\n\t")," }"),r=e.main.length>0,e.breakpoints)e.breakpoints.hasOwnProperty(i)&&(n+="@media ".concat(i," { ").concat(t," { ").concat(e.breakpoints[i].join("")," } }"),r||(r=e.breakpoints[i].length>0));r&&$("#content > .styles").append("<style>".concat(n,"</style>"))}},{key:"applyOptions",value:function(t,e){var n=this.data,r=[];r.push("cmp_".concat(this.type)),n.classlist&&r.push(n.classlist),e.addClass(r.join(" "));var i={};i["data-uid"]=n.uid,i.id="CMP-"+n.uid,n.span&&(i["data-span"]=n.span),n.pull&&(i["data-pull"]=n.pull),n.size&&(i["data-size"]=n.size),e.attr(i)}},{key:"setupProperties",value:function(t){var e=this,n=this.data,r=this.getCSSProperties(n);if("function"==typeof t&&t(r),this.applyCSS("[data-uid='".concat(n.uid,"']"),r),this.applyOptions(this.type,this.container),n.actions){var i=n.uid+"_ax";this.observer.removeByID(this.events.COMPONENTS_ADDED_TO_DOM,i),this.observer.add(this.events.COMPONENTS_ADDED_TO_DOM,(function(t){t.components.indexOf(n.uid)>-1&&(e.observer.removeByID(e.events.COMPONENTS_ADDED_TO_DOM,i),e.core.actions.bindActions({id:e.data.uid,actions:n.actions,parent:e.container[0]}))}),{id:i})}}},{key:"setupViewController",value:function(t){var e=null,n=this.options.defaultController,r=t||this.data.controller;return(n||r)&&(this.config.components[this.type].controllers[r]?e=this.config.components[this.type].controllers[r].controller(this.container,this.data,this):this.config.components[this.type].controllers[n]&&(e=this.config.components[this.type].controllers[n].controller(this.container,this.data,this))),e}},{key:"executeHooks",value:function(t,e,n){if(this.hooks[t]&&e){for(var r=!1,i=0;i<this.hooks[t].length;i++){var o=this.hooks[t][i];if("*"===e||e.includes(o.name)){var s=o.exec.apply(this,n);s&&(r=s)}}return r}return!1}},{key:"setResumeData",value:function(t){}},{key:"getResumeData",value:function(){return null}},{key:"name",get:function(){return this.type.toUpperCase()}}]),t}(),lm=function(t){Pv(n,t);var e=jv(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cv(this,n),(r=e.call(this,t,i)).children=[],r.childrenMap={},r.interactiveComponents=[],r.restrictChildTypes=[],r}return Tv(n,[{key:"getInteractiveComponents",value:function(){return this.interactiveComponents}},{key:"getChildren",value:function(){return this.children}},{key:"unload",value:function(){zv(Mv(n.prototype),"unload",this).call(this);for(var t=0;t<this.children.length;t++){var e=this.children[t].component?this.children[t].component:this.children[t];"function"==typeof e.unload&&e.unload()}}},{key:"deactivate",value:function(){this.active=!1;for(var t=0;t<this.children.length;t++){var e=this.children[t].component?this.children[t].component:this.children[t];"function"==typeof e.deactivate&&e.deactivate()}}},{key:"initChildren",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.childoptions,r=void 0===n?[]:n,i=this.data;this.restrictChildTypes=this.restrictChildTypes||[],this.children=this.children||[],this.resumedata=this.resumedata||{};var o=$(this.container).find(".cmp_"+this.type+"-child");if(this.children.length)return console.log("[".concat(this.type,"] initChildren() - children already exist - ignoring initialisation.")),null;for(var s=[],a={},c=!1,u=0;u<i.children.length;u++)if(this.core.hasComponent(i.children[u].type)&&(!this.restrictChildTypes.length||this.restrictChildTypes.length&&this.restrictChildTypes.indexOf(this.type)>-1)){var l=void 0;if(l=this.config.componentRegistry[i.children[u].uid]?this.config.componentRegistry[i.children[u].uid]:this.core.createComponent(i.children[u].type)){var f=$(o[u]);a[i.children[u].uid]=l,l.parent=function(){return t},this.resumedata._&&this.resumedata._[i.children[u].uid]?l.setResumeData(this.resumedata._[i.children[u].uid]):this.resumedata[i.children[u].uid]&&l.setResumeData(this.resumedata[i.children[u].uid]),i.children[u].pageid=this.getData().pageid,this.config.componentRegistry[i.children[u].uid]=l;var p=this.getChildParentData(r[u]);(l.isInitialised()?l.element():l.initialise(f,i.children[u],p))?s.push({component:l,container:f}):s.push(null),l.isInteractive()&&(c=!0)}}for(var d=s.length-1;d>=0;d--)s[d]||(i.children.splice(d,1),s.splice(d,1));return{interactiveChildren:c,children:s,childrenMap:a}}},{key:"loadChildren",value:function(){var t=this;this.restrictChildTypes=this.restrictChildTypes||[],this.children=this.children||[],this.resumedata=this.resumedata||{};var e=this.data,n=$(this.container).find(".cmp_"+this.type+"-child");if(this.children.length){for(var r=0;r<this.children.length;r++){var i=$(n[r]),o=this.children[r].component?this.children[r].component:this.children[r];o.setContainer(i),this.renderChild(o)}return null}for(var s=[],a={},c=!1,u=0;u<e.children.length;u++)if(this.core.hasComponent(e.children[u].type)&&(!this.restrictChildTypes.length||this.restrictChildTypes.length&&this.restrictChildTypes.indexOf(this.type)>-1)){var l=this.core.createComponent(e.children[u].type);if(l){var f=$(n[u]);s.push({component:l,container:f}),a[e.children[u].uid]=l,l.parent=function(){return t},this.resumedata._&&this.resumedata._[e.children[u].uid]?l.setResumeData(this.resumedata._[e.children[u].uid]):this.resumedata[e.children[u].uid]&&l.setResumeData(this.resumedata[e.children[u].uid]),e.children[u].pageid=this.getData().pageid,this.config.componentRegistry[e.children[u].uid]=l,l.setContainer(f),this.renderChild(l),l.isInteractive()&&(c=!0)}}return{interactiveChildren:c,children:s,childrenMap:a}}},{key:"getChildParentData",value:function(t){var e=[];return this.parentdata&&e.push(this.parentdata),t&&e.push(t),e=e.length?e.reduce((function(t,e){return Dv(Dv({},t),e)}),{}):void 0}},{key:"updateActiveChild",value:function(t){var e=t.getData();if(!0===this.core.checkDisplayConditions(e.conditions).active){var n=this.children.findIndex((function(e){return e.component===t})),r=this.children.slice(0,n).map((function(t){return t.component.element()[0]})).filter((function(t){return!!t})).reverse().find((function(t){return document.body.contains(t)})),i=t.element();r?$(r).after(i):this.container.prepend(i),t.load()}else"function"==typeof t.deactivate&&t.deactivate(),t.element().detach();this.complete=!1}},{key:"renderChild",value:function(t){var e=t.getData();!0===this.core.checkDisplayConditions(e.conditions).active?t.load():"function"==typeof t.deactivate&&t.deactivate()}},{key:"getPercentComplete",value:function(){if(this.complete)return 100;for(var t=100*this.children.length,e=0,n=0;n<this.children.length;n++){var r=this.children[n].component?this.children[n].component:this.children[n];r&&r.isInteractive()?"function"==typeof r.getPercentComplete?e+=r.getPercentComplete():r.isComplete()&&(e+=100):t--}return e/t*100}}]),n}(um),fm=function(t){Pv(n,t);var e=jv(n);function n(t){var r,i,o;return Cv(this,n),Iv(Lv(o=e.call(this,t)),"type","section"),Iv(Lv(o),"initialise",(function(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=zv((r=Lv(o),Mv(n.prototype)),"initialise",r)).call.apply(t,[r].concat(i)),o.children=[],o.childrenMap={},o.container})),Iv(Lv(o),"load",(function(){if(!o.loaded){o.activate(),o.setupProperties(),o.renderChildren();var t=o.data;return o.observer.add(o.events.BLOCK_COMPLETE,(function(t){void 0!==o.childrenMap[t.block]&&o.checkComplete(!0)}),{id:t.uid}),o.container.attr("data-uid",t.uid),t.label&&o.container.attr("data-label",t.label),t.classlist&&o.container.addClass(t.classlist),t.size&&o.container.addClass(t.size),o.checkComplete(!1),o.loaded=!0,!0}o.redisplay()})),Iv(Lv(o),"unload",(function(){zv((i=Lv(o),Mv(n.prototype)),"unload",i).call(i),o.observer.removeByID(o.events.BLOCK_COMPLETE,o.data.uid)})),Iv(Lv(o),"redisplay",(function(){o.loaded=!1,o.container.empty(),o.unload(),o.load()})),Iv(Lv(o),"renderChildren",(function(){for(var t=0;t<o.children.length;t++)o.renderChild(o.children[t]);o.checkComplete(!1)})),Iv(Lv(o),"addBlock",(function(t,e,n){o.children.push(e),o.childrenMap[n.uid]=o.children.length,e.parent=function(){return Lv(o)},e.initialise(t,n)})),Iv(Lv(o),"renderChild",(function(t){var e=t.getData();!0===o.core.checkDisplayConditions(e.conditions).active?(t.element().appendTo(o.container),t.load()):(t.deactivate(),t.element().detach())})),Iv(Lv(o),"updateActiveChild",(function(t){var e=t.getData();if(!0===o.core.checkDisplayConditions(e.conditions).active){var n=o.children.slice(0,o.children.indexOf(t)).map((function(t){return t.element()[0]})).filter((function(t){return!!t})).reverse().find((function(t){return document.body.contains(t)}));n?$(n).after(t.element()):o.container.prepend(t.element()),t.load()}else t.deactivate(),t.element().detach();o.complete=!1})),Iv(Lv(o),"getPercentComplete",(function(){if(!o.children.length)return 100;for(var t=100*o.children.length,e=0,n=0;n<o.children.length;n++){var r=o.children[n];"function"==typeof r.getPercentComplete?e+=r.getPercentComplete():r.isComplete()&&(e+=100)}return e/t*100})),Iv(Lv(o),"checkComplete",(function(t){if(o.complete)return!0;for(var e=!0,n=0;n<o.children.length;n++)if(!o.children[n].isComplete()){e=!1;break}return e&&!o.complete&&(o.complete=!0,t&&o.observer.notify(o.events.SECTION_COMPLETE,o.getEventData())),e||(o.complete=!1),o.complete&&o.container.addClass("completed"),o.complete})),Iv(Lv(o),"reset",(function(){o.complete=!1,o.loaded=!1,o.children.forEach((function(t){"function"==typeof t.reset&&t.reset()})),o.container&&o.container.attr("class",o.initClasses)})),Iv(Lv(o),"getEventData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.events.SECTION_COMPLETE;return t===o.events.SECTION_COMPLETE?{scope:o.getScope(),uid:o.data.uid,section:o.data.uid,step:o.data.pageid,pageid:o.data.pageid,sectiondata:o.data}:{scope:o.getScope(),uid:o.data.uid}})),Iv(Lv(o),"getBlocks",(function(){return o.children})),o.data={},o.container=null,o.complete=!1,o.loaded=!1,o.active=!0,o.containertemplate="<div class='cmp_section'></div>",o}return n}(lm),pm=function(t){Pv(n,t);var e=jv(n);function n(t){var r,i,o;return Cv(this,n),Iv(Lv(o=e.call(this,t)),"type","grid"),Iv(Lv(o),"isBlock",!0),Iv(Lv(o),"version",1),Iv(Lv(o),"initialise",(function(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return(t=zv((r=Lv(o),Mv(n.prototype)),"initialise",r)).call.apply(t,[r].concat(i)),o.childrenMap={},o.children=[],o.interactiveComponents=[],o.container})),Iv(Lv(o),"load",(function(){if(o.loaded)o.redisplay();else{o.activate(),o.setupProperties(),o.renderChildren();var t=o.data;t.size&&o.container.addClass(t.size),t.padding&&o.container.css("padding",t.padding),t.columns?o.container.attr("data-columns",t.columns):o.container.attr("data-columns",1),t.split&&parseInt(t.columns,10)>1&&o.container.addClass("split-"+t.split),o.observer.add(o.events.COMPONENT_COMPLETE,o.onComponentComplete,{id:t.uid}),o.checkComplete(!1),o.loaded=!0}})),Iv(Lv(o),"onComponentComplete",(function(t){void 0!==o.childrenMap[t.component]&&o.checkComplete(!0)})),Iv(Lv(o),"unload",(function(){zv((i=Lv(o),Mv(n.prototype)),"unload",i).call(i),o.observer.removeByID(o.events.COMPONENT_COMPLETE,o.data.uid)})),Iv(Lv(o),"redisplay",(function(){o.loaded=!1,o.container.empty(),o.unload(),o.load()})),Iv(Lv(o),"addComponent",(function(t,e,n){o.children.push(e),o.childrenMap[n.uid]=o.children.length-1,e.parent=function(){return Lv(o)},e.initialise(t,n),e.isInteractive()&&o.interactiveComponents.push(e)})),Iv(Lv(o),"renderChild",(function(t){var e=t.element(),n=t.getData();if(!0===o.core.checkDisplayConditions(n.conditions).active){if(!t.wrapper){var r=$(o.cmpcontainer);n.span&&r.attr("data-span",n.span),t.wrapper=r}t.wrapper.append(e).appendTo(o.container),t.load()}else t.deactivate(),t.wrapper&&t.wrapper.detach()})),Iv(Lv(o),"updateActiveChild",(function(t){var e=t.getData();if(!0===o.core.checkDisplayConditions(e.conditions).active){var n=o.children.slice(0,o.children.indexOf(t)).map((function(t){return t.element()[0]})).filter((function(t){return!!t})).reverse().find((function(t){return document.body.contains(t)}));n?$(n).after(t.element()):o.container.prepend(t.element()),t.load()}else"function"==typeof t.deactivate&&t.deactivate(),t.element().detach();o.complete=!1})),Iv(Lv(o),"getPercentComplete",(function(){if(!o.interactiveComponents.length)return 100;for(var t=100*o.interactiveComponents.length,e=0,n=0;n<o.interactiveComponents.length;n++)o.interactiveComponents[n].isActive()?"function"==typeof o.interactiveComponents[n].getPercentComplete?e+=o.interactiveComponents[n].getPercentComplete():o.interactiveComponents[n].isComplete()&&(e+=100):t-=100;return e/t*100})),Iv(Lv(o),"checkComplete",(function(t){for(var e=!0,n=0;n<o.interactiveComponents.length;n++)if(o.interactiveComponents[n].isActive()&&!o.interactiveComponents[n].isComplete()){e=!1;break}return e&&!o.complete&&(o.complete=!0,t&&o.observer.notify(o.events.BLOCK_COMPLETE,o.getEventData())),e||(o.complete=!1),o.complete&&o.container.addClass("completed"),o.complete})),Iv(Lv(o),"reset",(function(){o.complete=!1,o.children.forEach((function(t){"function"==typeof t.reset&&t.reset()})),o.container&&o.container.attr("class",o.initClasses)})),Iv(Lv(o),"getEventData",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.events.BLOCK_COMPLETE;return t===o.events.BLOCK_COMPLETE?{scope:o.getScope(),uid:o.data.uid,block:o.data.uid,step:o.data.pageid,pageid:o.data.pageid,blockdata:o.data}:{scope:o.getScope(),uid:o.data.uid}})),Iv(Lv(o),"getComponents",(function(){return o.children})),o.data={},o.container=null,o.interactiveComponents=[],o.active=!0,o.complete=!1,o.cmpcontainer="<div class='cmp_componentwrapper'></div>",o.containertemplate="<div class='cmp_block'></div>",o.loaded=!1,o}return Tv(n,[{key:"renderChildren",value:function(){for(var t=0;t<this.children.length;t++)this.renderChild(this.children[t]);this.checkComplete(!1)}}]),n}(lm),dm=Object.freeze({__proto__:null,name:"dataset_fb_ci",module:function(t){var e=t.core;function n(t){var e={};t=$(t),e.id=t.attr("uid"),e.feedbacks={component:{},question:{},answer:{}};var n,r,i=t.find("component > feedback");for(n=0;n<i.length;n++)i[n]=$(i[n]),r={questionindex:["*"],state:i[n].attr("state"),text:i[n].find("text").text()},e.feedbacks.component[r.state]||(e.feedbacks.component[r.state]=[]),e.feedbacks.component[r.state].push(r);for(i=t.find("question > feedback"),n=0;n<i.length;n++)i[n]=$(i[n]),r={questionindex:(i[n].attr("question")||"*").split(","),state:i[n].attr("state"),text:i[n].find("text").text()},e.feedbacks.question[r.state]||(e.feedbacks.question[r.state]=[]),e.feedbacks.question[r.state].push(r);for(i=t.find("answer > feedback"),n=0;n<i.length;n++)i[n]=$(i[n]),r={questionindex:(i[n].attr("question")||"*").split(","),state:i[n].attr("state"),text:i[n].find("text").text()},e.feedbacks.answer[r.state]||(e.feedbacks.answer[r.state]=[]),e.feedbacks.answer[r.state].push(r);return e}function r(t){function e(e,r){if(!t.feedbacks[r]||!t.feedbacks[r][e.state])return SparkAPI.warn("FBCI_Controller :: Feedback ["+r+":"+e.state+"] in "+t.id+" not found."),"";var i=n(t.feedbacks[r][e.state],e.questionindex||"0");if(i)return i.text;var o=n(t.feedbacks[r].default,e.questionindex||"0");return o?o.text:""}function n(t,e){if(!t||!t.length)return null;for(var n=0;n<t.length;n++)if(t[n].questionindex.includes(""+e)||t[n].questionindex.includes("*"))return t[n];return null}return{type:function(){return"fb_ci"},getID:function(){return t.id},canSaveState:function(){return!1},getComponentFeedback:function(t){return e(t,"component")},getQuestionFeedback:function(t){return e(t,"question")},getAnswerFeedback:function(t){return e(t,"answer")}}}return{name:"dataset_fb_ci",version:1,immediate:!0,init:function(){e.registerDatasetParser("fb_ci",n,r)}}}}),hm=Object.freeze({__proto__:null,name:"dataset_fb_ctx",module:function(t){var e=t.core,n=t.utils;function r(t){var e={};t=$(t),e.id=t.attr("uid"),e.feedbacks={component:[],question:[],answer:[]};for(var r=t.find("component > feedback"),i=0;i<r.length;i++){r[i]=$(r[i]);var o={questionindex:["*"],rule:n.getNodeAttributesAsObject(r[i].find("rule")[0]),text:r[i].find("text").text()};void 0!==o.rule.pattern&&(o.rule.pattern=(""+o.rule.pattern).split(",").map((function(t){return parseInt(t,10)}))),e.feedbacks.component.push(o)}r=t.find("question > feedback");for(var s=0;s<r.length;s++){r[s]=$(r[s]);var a={questionindex:(r[s].attr("question")||"*").split(","),rule:n.getNodeAttributesAsObject(r[s].find("rule")[0]),text:r[s].find("text").text()};void 0!==a.rule.pattern&&(a.rule.pattern=(""+a.rule.pattern).split(",").map((function(t){return parseInt(t,10)}))),e.feedbacks.question.push(a)}r=t.find("answer > feedback");for(var c=0;c<r.length;c++){r[c]=$(r[c]);var u={questionindex:(r[c].attr("question")||"*").split(","),rule:n.getNodeAttributesAsObject(r[c].find("rule")[0]),text:r[c].find("text").text()};void 0!==u.rule.pattern&&(u.rule.pattern=(""+u.rule.pattern).split(",").map((function(t){return parseInt(t,10)}))),e.feedbacks.answer.push(u)}return e}function i(t){function e(e){for(var n=0;n<t.feedbacks[e].length;n++)if("default"===t.feedbacks[e][n].rule.condition&&t.feedbacks[e][n].questionindex.includes("*"))return t.feedbacks[e][n];return{text:""}}function n(n,r){switch(r){case"component":var o=function(t,e,n){if(!t.length)return null;for(var r=0;r<t.length;r++)if((t[r].questionindex.includes(""+n)||t[r].questionindex.includes("*"))&&t[r].rule.condition===e)return t[r];return null}(t.feedbacks[r],n.state,n.questionindex||"*");if(o)return o.text;break;case"question":for(var s,a=[],c=0;c<t.feedbacks[r].length;c++){if(t.feedbacks[r][c].questionindex.includes(""+n.questionindex)||t.feedbacks[r][c].questionindex.includes("*"))if(s=i(n.selection,t.feedbacks[r][c].rule.pattern,t.feedbacks[r][c].rule.condition),a.push({index:c,accuracy:s}),1===s)return t.feedbacks[r][c].text||e(r).text}break;case"answer":for(var u=0;u<t.feedbacks[r].length;u++)if("default"===t.feedbacks[r][u].rule.condition||t.feedbacks[r][u].rule.pattern.includes(n.answerindex))return t.feedbacks[r][u].text||e(r).text}return e(r).text}var r={all:function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return e===t.length?1:0},none:function(t){for(var e=0,n=0;n<t.length;n++)t[n]&&e++;return 0===e?1:0},onlyAllOf:function(t,e){for(var n=0,r=0;r<e.length;r++)t[e[r]]&&n++;for(var i=0,o=0;o<t.length;o++)t[o]&&i++;return(n/e.length+i/e.length)/2},onlyAnyOf:function(t,e){for(var n=0,r=0,i=0;i<t.length;i++)t[i]&&(r++,e.includes(i)||n++);return r>0&&!n?1:0},includesAnyOf:function(t,e){for(var n=0;n<e.length;n++)if(t[e[n]])return 1;return 0},includesAllOf:function(t,e){for(var n=0,r=0;r<e.length;r++)t[e[r]]&&n++;return n===e.length?1:0},excludesAnyOf:function(t,e){for(var n=0,r=0;r<e.length;r++)t[e[r]]&&n++;return 0===n?1:0},excludesAllOf:function(t,e){for(var n=0,r=0;r<e.length;r++)t[e[r]]&&n++;for(var i=0,o=0;o<t.length;o++)t[o]&&i++;return i>0&&0===n?1:0}};function i(t,e,n){return"default"===n?1:"function"==typeof r[n]?r[n](t,e):(console.warn("Condition [".concat(n,"] is not found.")),0)}return{type:function(){return"fb_ctx"},getID:function(){return t.id},canSaveState:function(){return!1},getComponentFeedback:function(t){return n(t,"component")},getQuestionFeedback:function(t){return n(t,"question")},getAnswerFeedback:function(t){return n(t,"answer")}}}return{name:"dataset_fb_ctx",version:1,immediate:!0,init:function(){e.registerDatasetParser("fb_ctx",r,i)}}}}),gm=Object.freeze({__proto__:null,name:"dataset_fb_smp",module:function(t){var e=t.core;function n(t){var e={};t=$(t),e.id=t.attr("uid"),e.feedbacks=[];for(var n=t.find("feedback"),r=0;r<n.length;r++){n[r]=$(n[r]);var i={questionindex:(n[r].attr("question")||"*").split(","),text:n[r].find("text").text()};e.feedbacks.push(i)}return e}function r(t){function e(e){var r=n(t.feedbacks,e.questionindex||"0");if(r)return r.text;var i=n(t.feedbacks,"*");return i?i.text:""}function n(t,e){if(!t||!t.length)return null;for(var n=0;n<t.length;n++)if(t[n].questionindex.includes(""+e))return t[n];return null}return{type:function(){return"fb_smp"},getID:function(){return t.id},canSaveState:function(){return!1},getComponentFeedback:function(t){return e(t)},getQuestionFeedback:function(t){return e(t)},getAnswerFeedback:function(t){return e(t)}}}return{name:"dataset_fb_smp",version:1,immediate:!0,init:function(){e.registerDatasetParser("fb_smp",n,r)}}}}),vm=Object.freeze({__proto__:null,name:"dataset_mcq",module:function(t){var e=t.core,n=t.observer,r=t.events,i=t.utils;function o(t){var e={};t=$(t),e.id=t.attr("uid"),e.mode=t.attr("mode")||"default",e.state="initial",e.questions=[],e.multiSelect=!1;for(var n=t.find("> question"),r=0;r<n.length;r++){n[r]=$(n[r]);for(var o=n[r].find("answers > answer"),s=n[r].attr("shuffleanswers"),a={index:r,text:n[r].find("> text").text(),type:n[r].attr("type")||"auto",mandatory:"true"===n[r].attr("mandatory"),shuffleanswers:s||"inherit",state:"initial",answers:[],totalCorrect:0},c=0;c<o.length;c++)o[c]=$(o[c]),a.answers.push({index:c,text:o[c].find("> text").text(),correct:"true"===o[c].attr("correct"),state:"initial"}),a.answers[a.answers.length-1].correct&&(a.totalCorrect+=1);e.questions.push(a)}var u=t.find("> settings")[0];return e.modeSettings=i.getNodeAttributesAsObject(u,!0),e}function s(t){var e={D_INITIAL:"initial",D_INCOMPLETE:"incomplete",D_COMPLETED_PASSED:"completed:passed",D_COMPLETED_FAILED:"completed:failed",D_COMPLETED_NEUTRAL:"completed:neutral",Q_INITIAL:"initial",Q_INCOMPLETE:"incomplete",Q_COMPLETED_CORRECT:"completed:correct",Q_COMPLETED_INCORRECT:"completed:incorrect",Q_COMPLETED_NEUTRAL:"completed:neutral",A_INITIAL:"initial",A_SELECTED_CORRECT:"selected:correct",A_SELECTED_INCORRECT:"selected:incorrect",A_SELECTED_NEUTRAL:"selected:neutral"},o={suppressEvents:!1,allowIncorrectAnswers:!1},s=null,a=0,c=!0;function u(e){return t.questions[e]}function l(e,n){return t.questions[e].answers[n].state}function f(n,r){for(var i=0;i<t.questions[n].answers.length;i++)r?t.questions[n].answers[i].state=e.A_INITIAL:p(n,i,e.D_INITIAL)}function p(i,s,a){a!==e.A_INITIAL&&t.state===e.D_INITIAL&&(t.state=e.D_INCOMPLETE),t.multiSelect||1!==t.questions[i].totalCorrect||o.allowIncorrectAnswers||f(i,!0);var c=t.questions[i].answers[s].state;t.questions[i].answers[s].state=a,o.suppressEvents||c!==a&&n.notifyByID(r.DATASET_ITEM_STATE_CHANGE,t.id,{type:"mcq:answer",dataset:t.id,question:i,answer:s,oldstate:c,newstate:a}),function(i){for(var s=t.questions[i],a=0,c=0,u=0;u<s.answers.length;u++)s.answers[u].state===e.A_SELECTED_CORRECT?a++:s.answers[u].state===e.A_SELECTED_INCORRECT&&c++;var l=s.state,f=e.Q_INITIAL;(c>0||a>0)&&(f=e.Q_INCOMPLETE);if(o.allowIncorrectAnswers)a===s.totalCorrect&&(f=e.Q_COMPLETED_CORRECT);else{var p=c+a;a===s.totalCorrect&&0===c?f=e.Q_COMPLETED_CORRECT:(c>0&&s.totalCorrect<=1||p>=s.totalCorrect)&&(f=e.Q_INCOMPLETE)}s.state=f,o.suppressEvents||l===f||n.notifyByID(r.DATASET_STATE_CHANGE,t.id,{type:"mcq:question",dataset:t.id,question:s,oldstate:l,newstate:f,numcorrect:a,numincorrect:c})}(i),g()}function d(e){return t.questions[e].state}function h(i,o){var s=t.questions[i].state;t.questions[i].state=o,s!==o&&n.notify(r.DATASET_ITEM_STATE_CHANGE,{type:"mcq:question",dataset:t.id,item:i,oldstate:s,newstate:o}),o!==e.Q_INITIAL&&t.state===e.D_INITIAL&&(t.state=e.D_INCOMPLETE),g()}function g(){for(var i=t.state,s=0,a=0,c=0,u=0;u<t.questions.length;u++)switch(t.questions[u].state){case e.Q_INITIAL:case e.Q_INCOMPLETE:c++;break;case e.Q_COMPLETED_CORRECT:s++;break;case e.Q_COMPLETED_INCORRECT:s++,a++}s===t.questions.length&&(t.state=0===a?e.D_COMPLETED_PASSED:e.D_COMPLETED_FAILED),c>0&&(t.state=e.D_INCOMPLETE),i!==t.state&&(o.suppressEvents||n.notifyByID(r.DATASET_STATE_CHANGE,t.id,{type:"mcq",dataset:t.id,oldstate:i,newstate:t.state}))}function v(e,n){t.questions[e].response=n}function m(e){return t.questions[e].response||""}function y(t,e){void 0!==o[t]&&(o[t]=e)}return{type:function(){return"mcq"},getID:function(){return t.id},canSaveState:function(){return!0},states:function(){return e},getState:function(){return t.state},setState:function(i){var s=t.state;if(t.state=i,s!==t.state&&(o.suppressEvents||n.notifyByID(r.DATASET_STATE_CHANGE,t.id,{type:"mcq",dataset:t.id,oldstate:s,newstate:t.state}),i===e.D_COMPLETED_FAILED))for(var a=0;a<t.questions.length;a++){d(a)===e.Q_INCOMPLETE&&h(a,e.Q_COMPLETED_INCORRECT)}},getResumeData:function(){var n={s:"0",q:[]};switch(s&&(n.o=s.join(",")),t.state){case e.D_INITIAL:n.s="0";break;case e.D_INCOMPLETE:n.s="1";break;case e.D_COMPLETED_FAILED:n.s="2";break;case e.D_COMPLETED_PASSED:n.s="3";break;case e.D_COMPLETED_NEUTRAL:n.s="4";break;default:n.s="0"}for(var r=0;r<t.questions.length;r++){var i={s:"0",r:m(r),a:[]};switch(t.questions[r].state){case e.Q_INITIAL:i.s="0";break;case e.Q_INCOMPLETE:i.s="1";break;case e.Q_COMPLETED_INCORRECT:i.s="2";break;case e.Q_COMPLETED_CORRECT:i.s="3";break;case e.Q_COMPLETED_NEUTRAL:i.s="4";break;default:i.s="0"}for(var o=0;o<t.questions[r].answers.length;o++){var a={s:"0"};switch(t.questions[r].answers[o].state){case e.A_INITIAL:a.s="0";break;case e.A_SELECTED_INCORRECT:a.s="1";break;case e.A_SELECTED_CORRECT:a.s="2";break;case e.A_SELECTED_NEUTRAL:a.s="3";break;default:a.s="0"}i.a.push(a)}n.q.push(i)}return n=(n=(n=(n=(n=(n=JSON.stringify(n)).split('"').join("'")).split("'},{'s':'").join("[~]")).split("':[{'s':'").join("[|]")).split("{'q':[{'").join("[@]")).split("}]}]}").join("[^]")},setResumeData:function(n){y("suppressEvents",!0),n=(n=(n=(n=(n=n.split("[^]").join("}]}]}")).split("[@]").join("{'q':[{'")).split("[|]").join("':[{'s':'")).split("[~]").join("'},{'s':'")).split("'").join('"');var r=JSON.parse(n);switch(r.o&&(s=(r.o||"").split(",").filter((function(t){return!!t})).map((function(t){return parseInt(t,10)})),c=!0),r.s){case"0":t.state=e.D_INITIAL;break;case"1":t.state=e.D_INCOMPLETE;break;case"2":t.state=e.D_COMPLETED_FAILED;break;case"3":t.state=e.D_COMPLETED_PASSED;break;case"4":t.state=e.D_COMPLETED_NEUTRAL;break;default:t.state=e.D_INITIAL}for(var i=0;i<r.q.length;i++){switch(r.q[i].r&&v(r.q[i].r),r.q[i].s){case"0":t.questions[i].state=e.Q_INITIAL;break;case"1":t.questions[i].state=e.Q_INCOMPLETE;break;case"2":t.questions[i].state=e.Q_COMPLETED_INCORRECT;break;case"3":t.questions[i].state=e.Q_COMPLETED_CORRECT;break;case"4":t.questions[i].state=e.Q_COMPLETED_NEUTRAL;break;default:t.questions[i].state=e.Q_INITIAL}for(var o=0;o<r.q[i].a.length;o++)switch(r.q[i].a[o].s){case"0":t.questions[i].answers[o].state=e.A_INITIAL;break;case"1":t.questions[i].answers[o].state=e.A_SELECTED_INCORRECT;break;case"2":t.questions[i].answers[o].state=e.A_SELECTED_CORRECT;break;case"3":t.questions[i].answers[o].state=e.A_SELECTED_NEUTRAL;break;default:t.questions[i].answers[o].state=e.A_INITIAL}}y("suppressEvents",!1)},getReport:function(e,n){n=n||{};for(var r=u(e=e||0),i={uid:n.uid||t.uid,type:n.type||"choice",percent:void 0!==n.percent?n.percent:100,weight:n.weight||1,result:n.result||"neutral",response:[],time:n.time||"00:00:00.00",latency:n.latency||"00:00:00.00",name:r.text,description:r.text,correctResponsesPattern:[],choices:[]},o=0;o<r.answers.length;o++){var s="abcdefghijklmnopqrstuvwxyz".charAt(o).toLowerCase(),a=r.answers[o].text;r.answers[o].correct&&i.correctResponsesPattern.push(s),l(e,o).indexOf("selected")>-1&&i.response.push(s),i.choices.push({id:s,description:{"en-US":a}})}return i.response=i.response.join("[,]"),i.correctResponsesPattern=[i.correctResponsesPattern.join("[,]")],i},getNumQuestions:function(){return t.questions.length},getQuestionData:u,getQuestionState:d,setQuestionState:h,clearSelection:function(t){return f(t,!1)},getAnswerState:l,setAnswerState:p,getSelection:function(e){for(var n=[],r=0;r<t.questions[e].answers.length;r++)t.questions[e].answers[r].state.indexOf("selected:")>-1&&n.push(r);return n},getAnswerCorrect:function(e,n){return t.questions[e].answers[n].correct},getQuestionResponse:m,setQuestionResponse:v,getMode:function(){return t.mode},getNextPoolQuestion:function(){return s?c||a++:(c=!0,a=0,s=function(){var e=Array.from({length:t.questions.length}).map((function(t,e){return e}));t.modeSettings.shuffle&&(e=i.array.shuffle(e));var n=qv(e.reduce((function(e,n){return t.questions[n].mandatory?e[0].push(n):e[1].push(n),e}),[[],[]]),2),r=n[0],o=n[1];return r.concat(o)}()),void 0===s[a]?(console.error(new Error("Attempted to get next pool question but no more questions are available.")),null):(c=!1,s[a])},reset:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",s=t.state,a=[];t.questions.forEach((function(t,n){"all"!==i&&"scored"!==i&&("failedscored"!==i||t.state.includes(":correct")||t.state.includes(":neutral"))||(t.state=e.Q_INITIAL,t.response="",a.push(n),t.answers.forEach((function(t){t.state=e.A_INITIAL})))})),t.state=e.D_INITIAL,o.suppressEvents||n.notifyByID(r.DATASET_RESET,t.id,{type:"mcq",dataset:t.id,oldstate:s,newstate:t.state,resetitems:a})},getFlag:function(t){return o[t]},setFlag:y}}return{name:"dataset_mcq",version:1,immediate:!0,init:function(){e.registerDatasetParser("mcq",o,s)}}}}),mm=Object.freeze({__proto__:null,name:"dataset_likert",module:function(t){var e=t.core,n=t.config;function r(t){var e={};t=$(t),e.id=t.attr("uid"),e.scale=[],e.state="initial",e.questions=[];for(var n=t.find("> scale > item"),r=0;r<n.length;r++)e.scale.push({index:r,number:r+1,text:$(n[r]).text()});for(var i=t.find("> question"),o=0;o<i.length;o++){i[o]=$(i[o]);for(var s={index:o,text:i[o].find("> text").text(),type:"radio",state:"initial",answers:[]},a=0;a<e.scale.length;a++)s.answers.push({index:a,text:e.scale[a].text,state:"initial"});e.questions.push(s)}return e}function i(t){n.datasetParsers.mcq||alert("Likert data controller - unable to find MCQ data controller.");var e=new n.datasetParsers.mcq.control(t);return e.getScale=function(){return t.scale},e.getReport=function(n,r){n=n||0,r=r||{};for(var i=e.getQuestionData(n),o={uid:r.uid||t.uid,type:r.type||"likert",percent:void 0!==r.percent?r.percent:100,weight:r.weight||1,result:r.result||"neutral",response:[],time:r.time||"00:00:00.00",latency:r.latency||"00:00:00.00",name:i.text,description:i.text,scale:[]},s=0;s<i.answers.length;s++){var a="abcdefghijklmnopqrstuvwxyz".charAt(s).toLowerCase(),c=i.answers[s].text;e.getAnswerState(n,s).indexOf("selected")>-1&&o.response.push(a),o.scale.push({id:a,description:{"en-US":c}})}return o.response=o.response.join("[,]"),o},e}return{name:"dataset_likert",version:1,immediate:!0,init:function(){e.registerDatasetParser("likert",r,i)}}}}),ym=Object.freeze({__proto__:null,name:"dataset_matrix",module:function(t){var e=t.core,n=t.utils,r=t.config;function i(t){var e={};t=$(t),e.id=t.attr("uid"),e.options=[],e.state="initial",e.multiSelect="multi"===t.find("> options").attr("type"),e.questions=[];for(var r=t.find("> options > item"),i=0;i<r.length;i++)e.options.push({index:i,number:i+1,text:$(r[i]).text()});for(var o=t.find("> question"),s=0;s<o.length;s++){o[s]=$(o[s]);var a=n.array.map((""+o[s].attr("correct")).split(","),(function(t){return parseInt(t,10)})),c={index:s,text:o[s].find("> text").text(),type:"auto",state:"initial",totalCorrect:a.length,answers:[]};a.length>1&&!e.multiSelect&&(e.multiSelect=!0);for(var u=0;u<e.options.length;u++)c.answers.push({index:u,text:e.options[u].text,state:"initial",correct:a.indexOf(u)>-1});e.questions.push(c)}return e}function o(t){r.datasetParsers.mcq||alert("Matrix data controller - unable to find MCQ data controller.");var e=new r.datasetParsers.mcq.control(t);return e.getMultiSelect=function(){return t.multiSelect},e.getOptions=function(){return t.options},e.getReport=function(n,r){n=n||0,r=r||{};for(var i=e.getQuestionData(n),o={uid:r.uid||t.uid,type:r.type||"choice",percent:void 0!==r.percent?r.percent:100,weight:r.weight||1,result:r.result||"neutral",response:[],time:r.time||"00:00:00.00",latency:r.latency||"00:00:00.00",name:i.text,description:i.text,correctResponsesPattern:[],options:[]},s=0;s<i.answers.length;s++){var a="abcdefghijklmnopqrstuvwxyz".charAt(s).toLowerCase(),c=i.answers[s].text;i.answers[s].correct&&o.correctResponsesPattern.push(a),e.getAnswerState(n,s).indexOf("selected")>-1&&o.response.push(a),o.options.push({id:a,description:{"en-US":c}})}return o.response=o.response.join("[,]"),o.correctResponsesPattern=[o.correctResponsesPattern.join("[,]")],o},e}return{name:"dataset_matrix",version:1,immediate:!0,init:function(){e.registerDatasetParser("matrix",i,o)}}}}),bm=[dm,hm,gm,vm,Object.freeze({__proto__:null,name:"dataset_match",module:function(t){var e=t.core,n=t.observer,r=t.events,i=t.utils;function o(t){var e={};t=$(t),e.id=t.attr("uid"),e.state="initial",e.questions=[];for(var n=t.find("> question"),r=0;r<n.length;r++){n[r]=$(n[r]);var o={index:r,uid:n[r].attr("uid"),text:n[r].find("> text").text(),mandatory:"true"===n[r].attr("mandatory"),shufflegroup_a:"false"!==n[r].attr("shufflea"),shufflegroup_b:"false"!==n[r].attr("shuffleb"),state:"initial",pairs:[],group_a:{title:"",items:[]},group_b:{title:"",items:[]},itemmap:{}},s=n[r].find("groups");o.group_a.title=s.attr("labelA"),o.group_b.title=s.attr("labelB");for(var a=n[r].find("pair"),c=0;c<a.length;c++){a[c]=$(a[c]);var u=a[c].attr("uid");o.pairs.push({index:c,id:u,state:"initial"});for(var l=a[c].find("item"),f=Math.min(2,l.length),p=0;p<f;p++){l[p]=$(l[p]);var d={index:p,uid:l[p].attr("uid"),text:l[p].find("> text").text(),pairid:u,state:"initial",response:null};0===p?o.group_a.items.push(d):o.group_b.items.push(d),o.itemmap[d.uid]=d}}e.questions.push(o)}var h=t.find("> settings")[0];return e.modeSettings=i.getNodeAttributesAsObject(h,!0),e}function s(t){var e={D_INITIAL:"initial",D_INCOMPLETE:"incomplete",D_COMPLETED_PASSED:"completed:passed",D_COMPLETED_FAILED:"completed:failed",D_COMPLETED_NEUTRAL:"completed:neutral",Q_INITIAL:"initial",Q_INCOMPLETE:"incomplete",Q_COMPLETED_CORRECT:"completed:correct",Q_COMPLETED_INCORRECT:"completed:incorrect",Q_COMPLETED_NEUTRAL:"completed:neutral",P_INITIAL:"initial",P_CORRECT:"correct",P_INCORRECT:"incorrect",I_INITIAL:"initial",I_SELECTED_INDETERMINATE:"selected:indeterminate",I_SELECTED_CORRECT:"selected:correct",I_SELECTED_INCORRECT:"selected:incorrect"},o={suppressEvents:!1},s=null,a=0,c=!0;function u(e){return t.questions[e]}function l(i,s,a){a!==e.I_INITIAL&&t.state===e.D_INITIAL&&(t.state=e.D_INCOMPLETE);var c=t.questions[i].itemmap[s].state;t.questions[i].itemmap[s].state=a,o.suppressEvents||c!==a&&n.notifyByID(r.DATASET_ITEM_STATE_CHANGE,t.id,{type:"match:item",dataset:t.id,question:i,item:s,oldstate:c,newstate:a})}function f(e,n,r){t.questions[e].pairs.find((function(t){return t.id===n})).state=r}function p(e){return t.questions[e].state}function d(i,s){var a=t.questions[i].state;t.questions[i].state=s,a!==s&&n.notify(r.DATASET_ITEM_STATE_CHANGE,{type:"match:question",dataset:t.id,item:i,oldstate:a,newstate:s}),s!==e.Q_INITIAL&&t.state===e.D_INITIAL&&(t.state=e.D_INCOMPLETE),function(){for(var i=t.state,s=0,a=0,c=0,u=0;u<t.questions.length;u++)switch(t.questions[u].state){case e.Q_INITIAL:case e.Q_INCOMPLETE:c++;break;case e.Q_COMPLETED_CORRECT:s++;break;case e.Q_COMPLETED_INCORRECT:s++,a++}s===t.questions.length&&(t.state=0===a?e.D_COMPLETED_PASSED:e.D_COMPLETED_FAILED);c>0&&(t.state=e.D_INCOMPLETE);i!==t.state&&(o.suppressEvents||n.notifyByID(r.DATASET_STATE_CHANGE,t.id,{type:"match",dataset:t.id,oldstate:i,newstate:t.state}))}()}function h(t,e){void 0!==o[t]&&(o[t]=e)}return{type:function(){return"match"},getID:function(){return t.id},canSaveState:function(){return!0},states:function(){return e},getState:function(){return t.state},setState:function(i){var s=t.state;if(t.state=i,s!==t.state&&(o.suppressEvents||n.notifyByID(r.DATASET_STATE_CHANGE,t.id,{type:"match",dataset:t.id,oldstate:s,newstate:t.state}),i===e.D_COMPLETED_FAILED))for(var a=0;a<t.questions.length;a++){p(a)===e.Q_INCOMPLETE&&d(a,e.Q_COMPLETED_INCORRECT)}},getResumeData:function(){var n={s:"0",q:[]};switch(s&&(n.o=s.join(",")),t.state){case e.D_INITIAL:n.s="0";break;case e.D_INCOMPLETE:n.s="1";break;case e.D_COMPLETED_FAILED:n.s="2";break;case e.D_COMPLETED_PASSED:n.s="3";break;case e.D_COMPLETED_NEUTRAL:n.s="4";break;default:n.s="0"}for(var r=0;r<t.questions.length;r++){var i={s:"0",i:{},p:{}};switch(t.questions[r].state){case e.Q_INITIAL:i.s="0";break;case e.Q_INCOMPLETE:i.s="1";break;case e.Q_COMPLETED_INCORRECT:i.s="2";break;case e.Q_COMPLETED_CORRECT:i.s="3";break;case e.Q_COMPLETED_NEUTRAL:i.s="4";break;default:i.s="0"}for(var o=0;o<t.questions[r].pairs.length;o++){var a={s:"0"};switch(t.questions[r].pairs[o].state){case e.P_INITIAL:a.s="0";break;case e.P_CORRECT:a.s="1";break;case e.P_INCORRECT:a.s="2";break;default:a.s="0"}i.p[t.questions[r].pairs[o].id]=a}for(var c=Object.values(t.questions[r].itemmap),u=0;u<c.length;u++){var l={s:"0"};switch(c[u].response&&(l.r=c[u].response),c[u].state){case e.I_INITIAL:l.s="0";break;case e.I_SELECTED_INDETERMINATE:l.s="1";break;case e.I_SELECTED_CORRECT:l.s="2";break;case e.I_SELECTED_INCORRECT:l.s="3";break;default:l.s="0"}i.i[c[u].uid]=l}n.q.push(i)}return n=JSON.stringify(n)},setResumeData:function(n){h("suppressEvents",!0);var r=JSON.parse(n);switch(r.o&&(s=(r.o||"").split(",").filter((function(t){return!!t})).map((function(t){return parseInt(t,10)})),c=!0),r.s){case"0":t.state=e.D_INITIAL;break;case"1":t.state=e.D_INCOMPLETE;break;case"2":t.state=e.D_COMPLETED_FAILED;break;case"3":t.state=e.D_COMPLETED_PASSED;break;case"4":t.state=e.D_COMPLETED_NEUTRAL;break;default:t.state=e.D_INITIAL}for(var i=0;i<r.q.length;i++){switch(r.q[i].s){case"0":t.questions[i].state=e.Q_INITIAL;break;case"1":t.questions[i].state=e.Q_INCOMPLETE;break;case"2":t.questions[i].state=e.Q_COMPLETED_INCORRECT;break;case"3":t.questions[i].state=e.Q_COMPLETED_CORRECT;break;case"4":t.questions[i].state=e.Q_COMPLETED_NEUTRAL;break;default:t.questions[i].state=e.Q_INITIAL}Object.entries(r.q[i].p).forEach((function(n){var r=qv(n,2),o=r[0],s=r[1],a=t.questions[i].pairs.find((function(t){return t.id===o}));if(a)switch(s.s){case"0":a.state=e.P_INITIAL;break;case"1":a.state=e.P_CORRECT;break;case"2":a.state=e.P_INCORRECT;break;default:a.state=e.P_INITIAL}})),Object.entries(r.q[i].i).forEach((function(n){var r=qv(n,2),o=r[0],s=r[1],a=t.questions[i].itemmap[o];if(a)switch(s.r&&(a.response=s.r),s.s){case"0":a.state=e.I_INITIAL;break;case"1":a.state=e.I_SELECTED_INDETERMINATE;break;case"2":a.state=e.I_SELECTED_CORRECT;break;case"3":a.state=e.I_SELECTED_INCORRECT;break;default:a.state=e.I_INITIAL}}))}h("suppressEvents",!1)},getReport:function(e,n){n=n||{};for(var r=u(e=e||0),i={uid:n.uid||t.uid,type:n.type||"match",percent:void 0!==n.percent?n.percent:100,weight:n.weight||1,result:n.result||"neutral",response:[],time:n.time||"00:00:00.00",latency:n.latency||"00:00:00.00",name:r.text,description:r.text,correctResponsesPattern:[],source:[],target:[]},o=function(t){var e=r.group_a.items[t],n=r.group_b.items.find((function(t){return t.pairid===e.pairid}));e&&n&&i.correctResponsesPattern.push([e.uid,n.uid].join("[.]"));var o=r.group_b.items.find((function(t){return t.uid===e.response}));o&&i.response.push([e.uid,o.uid].join("[.]")),i.source.push({id:e.uid,description:{"en-US":e.text}})},s=0;s<r.group_a.items.length;s++)o(s);for(var a=0;a<r.group_b.items.length;a++){var c=r.group_b.items[a];i.target.push({id:c.uid,description:{"en-US":c.text}})}return i.response=i.response.join("[,]"),i.correctResponsesPattern=[i.correctResponsesPattern.join("[,]")],i},reset:function(){},getMode:function(){return t.mode},getNextPoolQuestion:function(){return s?c||a++:(c=!0,a=0,s=function(){var e=Array.from({length:t.questions.length}).map((function(t,e){return e}));t.modeSettings.shuffle&&(e=i.array.shuffle(e));var n=qv(e.reduce((function(e,n){return t.questions[n].mandatory?e[0].push(n):e[1].push(n),e}),[[],[]]),2),r=n[0],o=n[1];return r.concat(o)}()),void 0===s[a]?(console.error(new Error("Attempted to get next pool question but no more questions are available.")),null):(c=!1,s[a])},getFlag:function(t){return o[t]},setFlag:h,getNumQuestions:function(){return t.questions.length},getQuestionData:u,getNumPairs:function(e){return t.questions[e].pairs.length},getItems:function(e){return Object.values(t.questions[e].itemmap)},getItemData:function(e,n){return t.questions[e].itemmap[n]},setItemState:l,getPairState:function(e,n){return t.questions[e].pairs.find((function(t){return t.id===n})).state},setPairState:f,clearItemMatch:function(n,r,i){t.questions[n].itemmap[r].response=null,t.questions[n].itemmap[i].response=null,f(n,t.questions[n].itemmap[r].pairid,e.P_INITIAL)},getItemMatch:function(e,n){var r=t.questions[e].itemmap[n];if(r.response){var i=t.questions[e].itemmap[r.response],o=0===r.index?r:i,s=1===r.index?r:i;return{match:[o.uid,s.uid],pairid:o.pairid,correct:o.pairid===s.pairid}}return null},setItemMatch:function(n,r,i){t.questions[n].itemmap[r].response=i,t.questions[n].itemmap[i].response=r,t.questions[n].itemmap[r].pairid===t.questions[n].itemmap[i].pairid?f(n,t.questions[n].itemmap[r].pairid,e.P_CORRECT):f(n,t.questions[n].itemmap[r].pairid,e.P_INCORRECT)},clearResponses:function(n){t.questions[n].pairs.forEach((function(t){f(n,t.id,e.P_INITIAL)})),Object.values(t.questions[n].itemmap).map((function(t){t.response=null,l(n,t.uid,e.I_INITIAL)}))},getQuestionState:p,setQuestionState:d}}return{name:"dataset_match",version:1,immediate:!0,init:function(){e.registerDatasetParser("match",o,s)}}}}),mm,ym,Object.freeze({__proto__:null,name:"dataset_sr",module:function(t){var e=t.core,n=t.utils,r=t.observer,i=t.events;function o(t){var n={};t=$(t),n.id=t.attr("uid"),n.state="initial",n.items=[];for(var r=t.find("item"),i=0;i<r.length;i++){r[i]=$(r[i]);var o=a(r[i].find("options")[0]),s={index:i,popup:a(r[i].find("popup")[0]),options:a(r[i].find("options")[0]),title:r[i].find("title").text(),content:r[i].find("content").text(),uid:n.id+"-"+(r[i].attr("uid")||"P"+i),thumbnail:{},mandatory:"false"!==o.mandatory,enabled:"false"!==o.enabled,visible:"false"!==o.visible,state:"initial"},c=r[i].find("> thumbnail");if(c.length)switch(s.thumbnail.type=c.attr("type"),s.thumbnail.type){case"none":break;case"markup":s.thumbnail.content=c.find("> source:first-of-type").text();break;case"img":default:var u=c.find("> source:first-of-type").attr("src");s.thumbnail.content="<img alt='' src='"+e.getAssetPath(u,"images")+"'>"}n.items.push(s)}return n}function s(t){var e={D_INITIAL:"initial",D_INCOMPLETE:"incomplete",D_COMPLETED:"completed",I_INITIAL:"initial",I_INCOMPLETE:"incomplete",I_COMPLETED:"completed"},n={suppressEvents:!1};function o(o,s){if(t.items[o]){t.state!==e.D_COMPLETED&&(t.state=e.D_INCOMPLETE);var a=t.items[o].state;t.items[o].state=s,n.suppressEvents||a===s||r.notifyByID(i.DATASET_ITEM_STATE_CHANGE,t.id,{type:"sr",dataset:t.id,item:o,oldstate:a,newstate:s}),function(){var o=0;if(t.state!==e.D_COMPLETED)for(var s=0;s<t.items.length;s++)t.items[s].state===e.I_COMPLETED&&o++;else o=t.items.length;if(o===t.items.length){var a=t.state;a!==e.D_COMPLETED&&(t.state=e.D_COMPLETED,n.suppressEvents||r.notifyByID(i.DATASET_STATE_CHANGE,t.id,{type:"sr",dataset:t.id,oldstate:a,newstate:t.state}))}}()}}function s(t,e){void 0!==n[t]&&(n[t]=e)}return{type:function(){return"sr"},getID:function(){return t.id},canSaveState:function(){return!0},states:function(){return e},getResumeData:function(){for(var n=[],r=0;r<t.items.length;r++)switch(t.items[r].state){case e.I_INITIAL:n.push("0");break;case e.I_INCOMPLETE:n.push("1");break;case e.I_COMPLETED:n.push("2");break;default:n.push("0")}return n.join("|")},setResumeData:function(t){s("suppressEvents",!0);for(var n=t.split("|"),r=0;r<n.length;r++)switch(n[r]){case"0":o(r,e.I_INITIAL);break;case"1":o(r,e.I_INCOMPLETE);break;case"2":o(r,e.I_COMPLETED);break;default:o(r,e.I_INITIAL)}s("suppressEvents",!1)},getState:function(){return t.state},reset:function(){var o=t.state,s=[];t.items.forEach((function(t,n){t.state=e.I_INITIAL,s.push(n)})),t.state=e.D_INITIAL,n.suppressEvents||r.notifyByID(i.DATASET_RESET,t.id,{type:"sr",dataset:t.id,oldstate:o,newstate:t.state,resetitems:s})},getNumItems:function(){return t.items.length},getItemData:function(e){return t.items[e]},getItemThumbnail:function(e){return t.items[e]&&t.items[e].thumbnail.type?t.items[e].thumbnail.content:""},getItemState:function(e){return t.items[e].state},setItemState:o,getFlag:function(t){return n[t]},setFlag:s}}function a(t){var e={};return t&&$.each(t.attributes,(function(t,r){e[function(t){switch(t){case"width":return"w";case"height":return"h";case"wmax":return"wMax";case"wmaxunit":return"wMaxUnit";case"wmin":return"wMin";case"wminunit":return"wMinUnit";case"hmax":return"hMax";case"hmaxunit":return"hMaxUnit";case"hmin":return"hMin";case"hminunit":return"hMinUnit";case"xproperty":return"xProperty";case"yproperty":return"yProperty";case"sxunit":return"sxUnit";case"syunit":return"syUnit";case"pxunit":return"pxUnit";case"pyunit":return"pyUnit";case"twunit":return"twUnit";case"textwidth":return"textWidth";case"centretext":return"centreText";case"transitionin":return"transitionIn";case"transitionout":return"transitionOut";case"morphanimate":return"morphAnimate";case"stopaudio":return"stopAudio";case"customclass":return"customClass";case"delaymedia":return"delayMedia";case"closeonlastpage":return"closeOnLastPage";case"overlappageanimation":return"overlapPageAnimation";case"endpageaction":return"endPageAction"}return t}(r.name)]=n.guessType(r.value)})),e}return{name:"dataset_sr",version:1,immediate:!0,init:function(){e.registerDatasetParser("sr",o,s)}}}}),Object.freeze({__proto__:null,name:"dataset_srm",module:function(t){var e=t.core,n=t.utils,r=t.observer,i=t.events;function o(t){var n={};t=$(t),n.id=t.attr("uid"),n.state="initial",n.items=[];for(var r=t.find("item"),i=0;i<r.length;i++){r[i]=$(r[i]);var o=f(r[i].find("options")[0]),a={index:i,popup:f(r[i].find("popup")[0]),options:f(r[i].find("options")[0]),title:r[i].find("title").text(),content:s(r[i].find("content > page")),uid:n.id+"-"+(r[i].attr("uid")||"P"+i),thumbnail:{},mandatory:"false"!==o.mandatory,enabled:"false"!==o.enabled,visible:"false"!==o.visible,state:"initial"},c=r[i].find("> thumbnail");if(c.length)switch(a.thumbnail.type=c.attr("type"),a.thumbnail.type){case"markup":a.thumbnail.content=c.find("> source:first-of-type").text();break;case"img":default:var u=c.find("> source:first-of-type").attr("src");a.thumbnail.content="<img alt='' src='"+e.getAssetPath(u,"images")+"'>"}n.items.push(a)}return n}function s(t){for(var n=[],r=t.find("section"),i=0;i<r.length;i++){var o=e.parseSectionData("section",r[i]);o.blocks=[],r[i]=$(r[i]);for(var s=r[i].find("> *").filter((function(){return/^block\./i.test(this.nodeName)})),l=0;l<s.length;l++){var f=s[l].nodeName.split(".")[1],p=e.parseBlockData(f,s[l]);p.type=f||"grid",p.components=[],s[l]=$(s[l]);for(var d=s[l].find("> *").filter((function(){return/^cmp\./i.test(this.nodeName)})),h=0;h<d.length;h++){var g=d[h].nodeName.split(".")[1],v=e.parseComponentData(g,d[h]);v&&(v.type=g,p.components.push(v),u(v),c(v),a(v))}o.blocks.push(p)}n.push(o)}return n}function a(t){if(t.hasDeclaration&&e.addDeclaration(t.uid),t.children&&t.children.length)for(var n=0;n<t.children.length;n++)a(t.children[n])}function c(t){if(t.objectives&&t.objectives.length){for(var n=t.objectives.length-1;n>=0;n--){var r=(""+t.objectives[n].objective).split(",");if(r.length>1){for(var i=0;i<r.length;i++)t.objectives.push({objective:r[i]});t.objectives.splice(n,1)}}for(var o=0;o<t.objectives.length;o++)for(var s=(""+t.objectives[o].objective).split(","),a=0;a<s.length;a++)e.objectiveManager.addObjectiveContributor(s[a],t)}if(t.children&&t.children.length)for(var u=0;u<t.children.length;u++)c(t.children[u])}function u(t){if(t.savesquizresults){var n=t.settings&&(t.settings.scored||!1),r=t.settings&&t.settings.weight&&parseFloat(t.settings.weight)||1;if(void 0!==t.numscorableobjects)for(var i=0;i<t.numscorableobjects;i++)e.resultManager.createResultSlot(t.dataset+"-"+i,n,t.settings.quizid,r,t.dataset);else e.resultManager.createResultSlot(t.dataset,n,t.settings.quizid,r,t.dataset)}t.children&&t.children.length&&t.children.forEach((function(t){return u(t)}))}function l(t){var e={D_INITIAL:"initial",D_INCOMPLETE:"incomplete",D_COMPLETED:"completed",I_INITIAL:"initial",I_INCOMPLETE:"incomplete",I_COMPLETED:"completed"},n={suppressEvents:!1};function o(o,s){if(t.items[o]){s!==e.I_INITIAL&&(t.state=e.D_INCOMPLETE);var a=t.items[o].state;t.items[o].state=s,n.suppressEvents||r.notifyByID(i.DATASET_ITEM_STATE_CHANGE,t.id,{type:"srm",dataset:t.id,item:o,oldstate:a,newstate:s}),t.state!==e.D_COMPLETED&&(t.state=e.D_INCOMPLETE),function(){var o=0;if(t.state!==e.D_COMPLETED)for(var s=0;s<t.items.length;s++)t.items[s].state===e.I_COMPLETED&&o++;else o=t.items.length;if(o===t.items.length){var a=t.state;a!==e.D_COMPLETED&&(t.state=e.D_COMPLETED,n.suppressEvents||r.notifyByID(i.DATASET_STATE_CHANGE,t.id,{type:"sr",dataset:t.id,oldstate:a,newstate:t.state}))}}()}}function s(t,e){void 0!==n[t]&&(n[t]=e)}return{type:function(){return"srm"},getID:function(){return t.id},canSaveState:function(){return!0},states:function(){return e},getResumeData:function(){for(var n=[],r=0;r<t.items.length;r++)switch(t.items[r].state){case e.I_INITIAL:n.push("0");break;case e.I_INCOMPLETE:n.push("1");break;case e.I_COMPLETED:n.push("2");break;default:n.push("0")}return n.join("|")},setResumeData:function(t){s("suppressEvents",!0);for(var n=t.split("|"),r=0;r<n.length;r++)switch(n[r]){case"0":o(r,e.I_INITIAL);break;case"1":o(r,e.I_INCOMPLETE);break;case"2":o(r,e.I_COMPLETED);break;default:o(r,e.I_INITIAL)}s("suppressEvents",!1)},getState:function(){return t.state},reset:function(){var o=t.state,s=[];t.items.forEach((function(t,n){t.state=e.I_INITIAL,s.push(n)})),t.state=e.D_INITIAL,n.suppressEvents||r.notifyByID(i.DATASET_RESET,t.id,{type:"sr",dataset:t.id,oldstate:o,newstate:t.state,resetitems:s})},getNumItems:function(){return t.items.length},getItemData:function(e){return t.items[e]},getItemThumbnail:function(e){return t.items[e]&&t.items[e].thumbnail.type?t.items[e].thumbnail.content:""},getItemState:function(e){return t.items[e].state},setItemState:o,getFlag:function(t){return n[t]},setFlag:s}}function f(t){var e={};return t&&$.each(t.attributes,(function(t,r){e[function(t){switch(t){case"width":return"w";case"height":return"h";case"wmax":return"wMax";case"wmaxunit":return"wMaxUnit";case"wmin":return"wMin";case"wminunit":return"wMinUnit";case"hmax":return"hMax";case"hmaxunit":return"hMaxUnit";case"hmin":return"hMin";case"hminunit":return"hMinUnit";case"xproperty":return"xProperty";case"yproperty":return"yProperty";case"sxunit":return"sxUnit";case"syunit":return"syUnit";case"pxunit":return"pxUnit";case"pyunit":return"pyUnit";case"twunit":return"twUnit";case"textwidth":return"textWidth";case"centretext":return"centreText";case"transitionin":return"transitionIn";case"transitionout":return"transitionOut";case"morphanimate":return"morphAnimate";case"stopaudio":return"stopAudio";case"customclass":return"customClass";case"delaymedia":return"delayMedia";case"closeonlastpage":return"closeOnLastPage";case"overlappageanimation":return"overlapPageAnimation";case"endpageaction":return"endPageAction";case"speedin":return"speedin";case"speedout":return"speedout"}return t}(r.name)]=n.guessType(r.value)})),e}return{name:"dataset_srm",version:1,immediate:!0,init:function(){e.registerDatasetParser("srm",o,l)}}}})],_m=function(){function t(e){Cv(this,t),this.shell=e.shell,this.uid=e.id,this.$$=this.getComponentElement,this.getData(e.data)}return Tv(t,[{key:"getData",value:function(t){var e=$(t.xml);this._html=t.html,this._group=0,this._title=e.find("heading").text(),this._content=e.find("content").text(),this._resources=e.find("media > resources > resource")}},{key:"load",value:function(t,e){setImmediate((function(){return e()}))}},{key:"unload",value:function(t){setImmediate((function(){return t()}))}},{key:"getTemplateProperty",value:function(t){return this[t]}},{key:"applySuspendData",value:function(){}},{key:"getComponentElement",value:function(t){return $("#cmp".concat(this.uid," ").concat(t))}},{key:"setComponentText",value:function(t,e){this.shell.core.setText(this.$$(t),e)}},{key:"loadComponentMedia",value:function(t,e){e()}},{key:"setTabIndeces",value:function(){this.$$(".title").attr("tabindex","-1")}}]),t}(),wm=function(t){Pv(n,t);var e=jv(n);function n(t){var r;return Cv(this,n),Iv(Lv(r=e.call(this,t)),"template",null),r}return Tv(n,[{key:"load",value:function(t,e){var n=this;if(!this.template){var r=Handlebars.compile(this._html.trim());this.template=r({uid:this.uid})}$(t).append(this.template),this.$$(".title").append(this.shell.core.replaceVariableKeywords(this._title,this.uid)),this.setComponentText(".body",this._content);var i=this.$$(".begin");this.shell.core.translateElement(i[0]),this.shell.config.themeconfig.logo?this.$$(".logo").attr("src",this.shell.core.getAssetPath(this.shell.config.themeconfig.logo,"images")):this.$$(".logo").remove(),this.shell.config.themeconfig.banner&&this.$$(".introbanner").css("background-image","url("+this.shell.core.getAssetPath(this.shell.config.themeconfig.banner,"images")+")"),i.on("click",(function(t){t.preventDefault(),n.shell.core.setStepComplete(0,!0),n.shell.core.gotoStep(1,!0)})),this.$$(".intro_close").on("click",(function(t){t.preventDefault(),n.shell.core.close()})),this.setTabIndeces(),setTimeout((function(){return e()}),1)}},{key:"focus",value:function(){return!0}}]),n}(_m),Em="hero",Sm=function(t){Pv(n,t);var e=jv(n);function n(t,r){var i,o,s;return Cv(this,n),Iv(Lv(s=e.call(this,t,r)),"type",Em),Iv(Lv(s),"version",1),Iv(Lv(s),"interactive",!0),Iv(Lv(s),"initialise",(function(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];(t=zv((i=Lv(s),Mv(n.prototype)),"initialise",i)).call.apply(t,[i].concat(r));var a=s.initChildren();return a&&(s.children=a.children,s.childrenMap=a.childrenMap,s.complete=!a.interactiveChildren),s.container})),Iv(Lv(s),"load",(function(){if(s.loaded)s.redisplay();else{s.activate(),s.setupProperties();var t=s.data;s.renderTemplate({children:t.children}),s.loadChildren(),!1===t.mandatory&&(s.complete=!0),s.loaded=!0,s.checkComplete(!1),s.observer.add(s.events.COMPONENT_COMPLETE,s.onComponentComplete,{id:t.uid});var e=t.backgroundimage||t.background;e?"string"==typeof e&&e.startsWith("url:")&&s.container.addClass("image-background"):s.container.addClass("no-background"),s.container.find(".hero-begin").on("click",(function(){s.utils.scrollToElement("[data-uid='"+t.target+"']",{speed:1,offset:0})})),s.setupViewController()}})),Iv(Lv(s),"onComponentComplete",(function(t){void 0!==s.childrenMap[t.component]&&s.checkComplete(!0)})),Iv(Lv(s),"unload",(function(){zv((o=Lv(s),Mv(n.prototype)),"unload",o).call(o),s.observer.removeByID(s.events.COMPONENT_COMPLETE,s.data.uid)})),Iv(Lv(s),"redisplay",(function(){s.loaded=!1,s.unload(),s.container.empty(),s.load()})),Iv(Lv(s),"checkComplete",(function(t){for(var e=!0,n=0;n<s.children.length;n++)if(s.children[n].component.isInteractive()&&!s.children[n].component.isComplete()){e=!1;break}return e?(s.complete!==e||t)&&(s.complete=e,s.observer.notify(s.events.COMPONENT_COMPLETE,s.getEventData())):s.complete=!1,s.complete&&s.core.objectiveManager.updateObjectiveContributors(s.data.uid,s.data.objectives,"passed"),s.complete})),s.complete=!1,s.cmpcontainer="<div class='cmp_componentwrapper'></div>",s.loaded=!1,s}return n}(lm);var xm=Object.freeze({__proto__:null,type:Em,component:Sm,parser:function(t){var e=this.parseXML(t);return this.parseChildren(e,t),e}}),Om="heading",Cm=function(t){Pv(n,t);var e=jv(n);function n(){var t;Cv(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Iv(Lv(t=e.call.apply(e,[this].concat(i))),"type",Om),Iv(Lv(t),"load",(function(){t.loaded&&(t.loaded=!1,t.container.empty()),t.activate(),t.setupProperties();var e=t.data,n="h1";e.level&&(n="h".concat(Math.min(parseInt(e.level,10),6))),t.core.setText(t.container,"<".concat(n,">").concat(e.textcontent,"</").concat(n,">"),{dynamicvariables:t.parentdata.variables}),t.container.attr("tabindex",-1),t.setupViewController(),t.loaded=!0})),t}return n}(um),km=Object.freeze({__proto__:null,type:Om,component:Cm}),Tm="stack",Im=function(t){Pv(n,t);var e=jv(n);function n(){var t,r,i;Cv(this,n);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Iv(Lv(i=e.call.apply(e,[this].concat(s))),"type",Tm),Iv(Lv(i),"complete",!1),Iv(Lv(i),"interactive",!0),Iv(Lv(i),"childrenContainer",null),Iv(Lv(i),"lastSpaceClass",null),Iv(Lv(i),"initialise",(function(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];(e=zv((t=Lv(i),Mv(n.prototype)),"initialise",t)).call.apply(e,[t].concat(o));var a=i.initChildren();return a&&(i.children=a.children,i.childrenMap=a.childrenMap,i.complete=!a.interactiveChildren,i.interactive=a.interactiveChildren),i.container})),Iv(Lv(i),"load",(function(){if(i.loaded)i.redisplay();else{i.activate(),i.setupProperties();var t=i.data,e=[];t.wrap&&e.push("wrap"),t.reversed&&e.push("reversed"),t.fill&&e.push("fill"),t.stretch&&e.push("stretch"),t.justifyitems&&e.push("justify-".concat(t.justifyitems)),t.alignitems&&e.push("align-".concat(t.alignitems)),"h"===t.direction?e.push("direction-h"):e.push("direction-v"),i.renderTemplate({children:t.children,dividers:!0===t.dividers}),i.loadChildren(),!1===t.mandatory&&(i.complete=!0),i.childrenContainer=i.container.find("> .cmp_stack-children"),i.childrenContainer.addClass(e.join(" ")),i.appleSpaceStyles(t.space),i.loaded=!0,i.checkComplete(!1),i.observer.add(i.events.COMPONENT_COMPLETE,(function(t){return i.onComponentComplete(t)}),{id:t.uid}),t._breakpoints&&Object.entries(t._breakpoints).forEach((function(e){var n=qv(e,2),r=n[0],o=n[1];o.space&&window.matchMedia(r).addListener((function(e){e.matches?i.appleSpaceStyles(o.space):i.appleSpaceStyles(t.space)}))})),i.setupViewController()}})),Iv(Lv(i),"appleSpaceStyles",(function(t){var e=i.data;if(isNaN(parseFloat(t))){var n="space-".concat(t);if(i.lastSpaceClass===n)return;i.lastSpaceClass&&i.lastSpaceClass!==n&&i.childrenContainer.removeClass(i.lastSpaceClass),i.childrenContainer.addClass(n),i.lastSpaceClass=n}else{var r={"margin-left":"calc(-1 * ".concat(t,")"),"margin-top":"calc(-1 * ".concat(t,")")};"h"===e.direction&&(e.fill||e.stretch)&&(r.width="calc(100% + ".concat(t,")")),i.childrenContainer.css(r),i.childrenContainer.find("> *:not(.cmp_stack-spacer)").css({"padding-top":t,"padding-left":t})}})),Iv(Lv(i),"onComponentComplete",(function(t){void 0!==i.childrenMap[t.component]&&i.checkComplete(!0)})),Iv(Lv(i),"unload",(function(){zv((r=Lv(i),Mv(n.prototype)),"unload",r).call(r),i.observer.removeByID(i.events.COMPONENT_COMPLETE,i.data.uid)})),Iv(Lv(i),"redisplay",(function(){i.loaded=!1,i.unload(),i.container.empty(),i.load()})),Iv(Lv(i),"checkComplete",(function(t){for(var e=!0,n=0;n<i.children.length;n++)if(i.children[n].component.isInteractive()&&!i.children[n].component.isComplete()){e=!1;break}return e?(i.complete!==e||t)&&(i.complete=e,i.observer.notify(i.events.COMPONENT_COMPLETE,i.getEventData())):i.complete=!1,i.complete&&i.core.objectiveManager.updateObjectiveContributors(i.data.uid,i.data.objectives,"passed"),i.complete})),Iv(Lv(i),"reset",(function(){i.complete=!1;for(var t=0;t<i.children.length;t++)"function"==typeof i.children[t].component.reset&&i.children[t].component.reset();i.container.removeClass("completed")})),Iv(Lv(i),"getResumeData",(function(){if(!i.loaded&&i.resumedata)return i.resumedata;for(var t={c:i.complete?1:0},e=0;e<i.children.length;e++){var n=i.children[e].component.getResumeData();n&&(t._||(t._={}),t._[i.children[e].component.getUID()]=n)}return t})),Iv(Lv(i),"setResumeData",(function(t){i.resumedata=t,i.resumedata.c&&(i.complete=1===i.resumedata.c)})),i}return n}(lm);var Am=Object.freeze({__proto__:null,type:Tm,component:Im,parser:function(t){var e=this.parseXML(t);return this.parseChildren(e,t),void 0===e.space&&(e.space="none"),"h"!==e.direction&&void 0===e.alignitems&&(e.alignitems="stretch"),e}}),Dm="text",Pm=function(t){Pv(n,t);var e=jv(n);function n(){var t;Cv(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Iv(Lv(t=e.call.apply(e,[this].concat(i))),"type",Dm),Iv(Lv(t),"load",(function(){t.loaded&&(t.loaded=!1,t.container.empty()),t.activate(),t.setupProperties(),t.core.setText(t.container,t.data.textcontent,{dynamicvariables:t.parentdata.variables}),t.setupViewController(),t.loaded=!0})),t}return n}(um),Mm=Object.freeze({__proto__:null,type:Dm,component:Pm}),Rm="picture",Lm=function(t){Pv(n,t);var e=jv(n);function n(){var t;Cv(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Iv(Lv(t=e.call.apply(e,[this].concat(i))),"type",Rm),Iv(Lv(t),"content",null),Iv(Lv(t),"objectfit",null),Iv(Lv(t),"load",(function(){if(t.loaded)t.redisplay();else{t.activate(),t.setupProperties();var e=t.data;e.sources||(e.sources=[]);for(var n={multisource:e.sources.length>1,sources:[],src:e.sources.length?t.core.getAssetPath(e.sources[0].src,"images"):"",alt:e.alt||"",hasCaption:!!e.caption,caption:e.caption},r=0;r<e.sources.length;r++)e.sources[r].media&&""!==e.sources[r].media&&n.sources.push({src:t.core.getAssetPath(e.sources[r].src,"images"),media:e.sources[r].media,hasMediaAttribute:!0,hasMediaAttribure:!0});t.renderTemplate(n);var i=!0;switch(n.multisource?t.content=$(t.container).find("> picture"):t.content=$(t.container).find("> img"),n.hasCaption&&($(t.container).find(".cmp_picture-caption").attr("id",e.uid+"-caption"),t.content.attr("aria-describedby",e.uid+"-caption")),e.fit){case"contain":case"cover":i=!1,t.container.css({position:"absolute",width:"100%",height:"100%",overflow:"hidden"}),void 0!==t.objectfit&&t.objectfit||$("html").hasClass("mdzrobjectfit")?(t.content.attr({width:"100%",height:"100%"}),t.objectfit=!0,t.content.css({"object-fit":e.fit})):(t.content.removeAttr("height"),t.calculateImageFit(),t.observer.add(t.events.SHELL_RESIZED,(function(){return t.calculateImageFit()}),{id:t.data.uid}));break;case"height":t.container.css("height","100%"),t.content.css("height","100%");break;case"width":default:t.content.css("width","100%")}if(i&&(e.height&&t.content.css({height:e.height}),e.maxwidth&&t.content.css({"max-width":e.maxwidth}),e.maxheight&&n.src.endsWith(".svg")&&t.content.css({"max-height":e.maxheight})),n.multisource&&"picturefill"in window)t.content[0]&&picturefill({elements:[$(t.container).find("img")[0]]});t.setupViewController(),t.loaded=!0}})),Iv(Lv(t),"calculateImageFit",(function(){setTimeout((function(){var e,n,r=window.getComputedStyle(t.container[0]),i=window.getComputedStyle(t.content[0]),o=parseInt(r.width,10)/parseInt(r.height,10),s=parseInt(i.width,10)/parseInt(i.height,10);t.getWidthFirst(t.data.fit,s,o)?(n=r.width,e=parseInt(r.width,10)*s+"px"):(e=r.height,n=parseInt(r.height,10)*s+"px"),t.content.css({width:n,height:e,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})}),5)})),Iv(Lv(t),"getWidthFirst",(function(t,e,n){return"contain"===t?e>n:e<n})),Iv(Lv(t),"unload",(function(){"cover"!==t.data.fit&&"contain"!==t.data.fit||t.objectfit||t.observer.removeByID(t.events.SHELL_RESIZED,t.data.uid)})),Iv(Lv(t),"redisplay",(function(){t.loaded=!1,t.unload(),t.container.empty(),t.load()})),t}return n}(um);var Nm=Object.freeze({__proto__:null,type:Rm,component:Lm,parser:function(t,e){var n=this.parseXML(t);if(t=$(t),n.sources=[],n._breakpoints)for(var r in n._breakpoints)n._breakpoints.hasOwnProperty(r)&&n._breakpoints[r].src&&n.sources.unshift(n._breakpoints[r]);if(n.src&&n.sources.unshift({src:n.src}),!n.sources.length)for(var i=t.find("> source"),o=0;o<i.length;o++)n.sources.push(e.utils.getNodeAttributesAsObject(i[o]));return n.caption||(n.caption=t.find("> caption").text()),n}});var jm="buttonset",zm=function(t){Pv(n,t);var e=jv(n);function n(){var t;Cv(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Iv(Lv(t=e.call.apply(e,[this].concat(i))),"type",jm),Iv(Lv(t),"interactive",!0),Iv(Lv(t),"disabledItems",[]),Iv(Lv(t),"load",(function(){if(t.loaded)t.redisplay();else{t.activate(),t.setupProperties();var e,n=t.data,r=t.getDataContext();if(t.complete=r.state===t.states.D_COMPLETED,t.disabledItems=[],t.renderTemplate(r),e=$(t.container).find(".cmp_buttonset"),t.attachListeners(),n.progressive&&!t.complete)for(var i=e.find(".buttonset-item"),o=0;o<i.length;o++){var s=t.dataset.getItemState(o),a=$(i[o]),c=a.find("button");if(o>0)t.dataset.getItemState(o-1)!==t.states.I_COMPLETED&&s!==t.states.I_COMPLETED?(t.disabledItems.push(o),a.addClass("progressive-disabled"),c.prop("disabled",!0).attr("aria-label",n.disabledmessage||t.core.getTranslation("cmp.buttonset.itemdisabled"))):(a.removeClass("progressive-disabled"),c.prop("disabled",!1).removeAttr("aria-label"));else a.removeClass("progressive-disabled"),c.prop("disabled",!1).removeAttr("aria-label")}var u="click keydown",l=".buttonset-item";e.find("button").length&&(u="click",l="button"),e.on(u,l,(function(e){if("keydown"!==e.type||13===e.keyCode){var r="button"===l?$(e.currentTarget).parents(".buttonset-item"):$(e.currentTarget),i=parseInt(r.data("index"),10);if(!(t.disabledItems.indexOf(i)>-1)){var o=t.dataset.getItemData(i),s="string"==typeof o.content?"module:popup":"module:modpopup",a=r.parents(".cmp_buttonset").data("display")||s,c=t.utils.determineStepNumber(t.data.pageid),u=r.find(".item-progress");if(t.config.stepData[c].currentContent=o,!t.executeHooks("selectitem",n.enablehooks,[{target:n.uid,item:o,done:function(){u.css("width","100%"),t.dataset.setItemState(i,t.states.I_COMPLETED)}}]))switch((a=a.split(":"))[0]){case"module":var f={triggerElement:e.currentTarget,onProgress:function(t,e){u.css("width",t/e*100+"%")},onComplete:function(){e.currentTarget.focus()}};"popup"===a[1]&&u.length&&u.css("width","100%"),t.core.runModuleFunction("srDatasetToPopup","show",[a[1],n.dataset,i,f]);break;default:t.config.stepData[n.pageid].dataDisplays[a[0]]?t.config.stepData[n.pageid].dataDisplays[a[0]].show(t.dataset,i):SparkAPI.warn("CMP_Buttonset::Datadisplay ["+a[0]+"] not found."),t.dataset.setItemState(i,t.states.I_COMPLETED)}}}})),t.setupViewController(),t.loaded=!0}})),Iv(Lv(t),"onDatasetStateChange",(function(e){t.complete=!0,t.core.objectiveManager.updateObjectiveContributors(t.data.uid,t.data.objectives,"passed")})),Iv(Lv(t),"onDatasetItemStateChange",(function(e){var n=$(t.container).find(".cmp_buttonset");if(n.find("li:nth-of-type("+(e.item+1)+")").addClass("visited"),t.data.progressive){var r=t.disabledItems.indexOf(e.item+1);r>-1&&t.disabledItems.splice(r,1);var i=n.find("li:nth-of-type("+(e.item+2)+")");i.removeClass("progressive-disabled"),i.find("button").prop("disabled",!1).removeAttr("aria-label")}})),Iv(Lv(t),"unload",(function(){t.detachListeners(),t.container&&t.container.off("click keydown")})),Iv(Lv(t),"redisplay",(function(){t.loaded=!1,t.unload(),t.container.empty(),t.load()})),Iv(Lv(t),"isComplete",(function(){return!t.data.mandatory||t.complete})),t}return n}(function(t){Pv(n,t);var e=jv(n);function n(){var t;Cv(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Iv(Lv(t=e.call.apply(e,[this].concat(i))),"dataset",null),Iv(Lv(t),"states",null),Iv(Lv(t),"hasListeners",!1),Iv(Lv(t),"interactive",!0),Iv(Lv(t),"notifiedComplete",!1),Iv(Lv(t),"isRichContent",!1),Iv(Lv(t),"componentResumedata",{}),Iv(Lv(t),"componentCache",{}),Iv(Lv(t),"cacheIndex",[]),t}return Tv(n,[{key:"initialise",value:function(t,e){return zv(Mv(n.prototype),"initialise",this).call(this,t,e),this.dataset=this.core.getDataset(e.dataset),this.dataset&&(this.states=this.dataset.states(),this.isRichContent="srm"===this.dataset.type()),this.container}},{key:"getDataContext",value:function(){var t={};this.dataset&&(t=this.getItemsContext());var e=this.data;return{uid:e.uid,isrichcontent:this.isRichContent,dynamicvariables:this.parentdata.variables,datadisplay:e.datadisplay,template:e.template,mandatory:e.mandatory,progressive:e.progressive,state:t.state||this.states.D_INITIAL,items:t.context||[]}}},{key:"getItemsContext",value:function(){for(var t=0,e=!1,n=[],r=0;r<this.dataset.getNumItems();r++){var i=this.dataset.getItemData(r);i.state===this.states.I_COMPLETED&&t++,n.push({index:r,uid:i.uid,state:i.state===this.states.I_COMPLETED?"visited":"",completed:i.state===this.states.I_COMPLETED,title:i.title,content:i.content,options:i.options,thumbnail:this.dataset.getItemThumbnail(r),mandatory:"false"!==i.mandatory,enabled:"false"!==i.enabled,visible:"false"!==i.visible})}return t!==this.dataset.getNumItems()&&!1!==this.data.mandatory||(e=!0),{context:n,state:e?this.states.D_COMPLETED:this.dataset.getState()}}},{key:"renderContentToDOM",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onItemRendered,n=t.onAllRendered,r=this,i=this.data,o=this.dataset.getNumItems(),s=0,a=function(t){!function(){var n=r.dataset.getItemData(t),o=t;r.core.componentRenderer.render({scope:i.uid,pageid:r.config.stepData[r.config.currentStep].stepOptions.id,renderid:n.uid,domtarget:r.container.find("[data-render='"+n.uid+"']"),sectionsdata:n.content,resumedata:r.componentResumedata,done:function(t){s++,r.componentCache[n.uid]=t.loadedSections,r.cacheIndex[o]=n.uid,"function"==typeof e&&e({item:n,index:o}),u()}})}()},c=0;c<o;c++)a(c);function u(){s===o&&"function"==typeof n&&n()}}},{key:"checkItemComplete",value:function(t,e){var n=this.componentCache[this.cacheIndex[t]];n&&e(function(t){for(var e=100*t.length,n=0,r=0;r<t.length;r++)n+=t[r].getPercentComplete();return{numComplete:n,total:e,isComplete:n>=e}}(n).isComplete);e(!1)}},{key:"unload",value:function(){var t=this;this.isRichContent&&this.cacheIndex.forEach((function(e){t.componentCache[e]&&t.componentCache[e].forEach((function(t){t.unload()}))}))}},{key:"attachListeners",value:function(){var t=this,e=this.events,n=this.observer;this.detachListeners(),this.observer.add(e.DATASET_STATE_CHANGE,(function(e){e.newstate!==t.states.D_COMPLETED||t.notifiedComplete||(t.onDatasetStateChange&&t.onDatasetStateChange({component:t.data.uid}),t.observer.notify(t.events.COMPONENT_COMPLETE,t.getEventData()),t.notifiedComplete=!0)}),{id:this.data.dataset,ref:this.data.uid}),n.add(e.DATASET_ITEM_STATE_CHANGE,(function(e){e.newstate===t.states.I_COMPLETED&&"function"==typeof t.onDatasetItemStateChange&&t.onDatasetItemStateChange(e)}),{id:this.data.dataset,ref:this.data.uid})}},{key:"detachListeners",value:function(){this.observer.removeByRef(this.events.DATASET_ITEM_STATE_CHANGE,this.data.uid),this.observer.removeByRef(this.events.DATASET_STATE_CHANGE,this.data.uid)}},{key:"getComponentResumedata",value:function(){var t={};for(var e in this.componentCache)for(var n=0;n<this.componentCache[e].length;n++)for(var r=this.componentCache[e][n].getChildren(),i=0;i<r.length;i++)for(var o=r[i].getChildren(),s=0;s<o.length;s++){var a=o[s];if("getResumeData"in a){var c=a.getResumeData();c&&(t[a.getUID()]=c)}}return"{}"===(t=JSON.stringify(t))?"":t}},{key:"setComponentResumedata",value:function(t){try{this.componentResumedata=JSON.parse(t)}catch(t){this.componentResumedata=null}}}]),n}(lm));var qm,Bm=Object.freeze({__proto__:null,type:jm,component:zm,parser:function(t){var e=this.parseXML(t);return void 0===e.mandatory&&(e.mandatory=!0),e}}),Um=Object.freeze({__proto__:null,name:"srDatasetToPopup",module:function(t){var e=t.core,n=t.modules;return{name:"SR Dataset To Popup",version:1,immediate:!1,init:function(){},show:function(t,r,i,o){var s=e.getDataset(r),a=s.getItemData(i),c=s.states(),u=a.popup;u.text=a.content,u.useID=-1,u.contentID=a.uid||r+"-P"+i,u.triggerElement=o.triggerElement||null,u.onComplete=function(t){s.setItemState(i,c.I_COMPLETED),"function"==typeof o.onComplete&&o.onComplete(t)},u.onProgress=function(t,e){"function"==typeof o.onProgress&&o.onProgress(t,e)},"popup"===t&&s.setItemState(i,c.I_COMPLETED),n[t]&&"function"==typeof n[t].show?n[t].show(u):console.warn("srDatasetToPopup::module ["+t+"] not found, or doesn't have a 'show' method.")}}}}),Fm=Object.freeze({__proto__:null,name:"reporting",module:function(t){var e="hidden",n=t.core,r=t.utils,i=t.config,o=t.observer,s=t.events,a=t.consts,c=null,u="API not found.",l=!1,f=!1,p="",d=!1,h={initialised:!1,found:!1,handle:null},g={n:"0",id:"0",interactionID:"0",time:"00:00:00",type:"choice",weighting:"1",student_response:"",result:"",latency:"00:00:00"},v={completed:"completed",incomplete:"incomplete"},m={0:"No error",101:"General Exception",201:"Invalid argument error",202:"Element cannot have children",203:"Element not an array, cannot have count",301:"Not initialized",401:"Not implemented",402:"Invalid set value, element is a keyword",403:"Element is read only",404:"Element is write only",405:"Incorrect Data Type"};function y(){d||h.initialised&&document.visibilityState===e&&b()}function b(){C(n.getCourseState())}function _(){return null==h.handle&&!1===h.found&&(h.handle=function(){var t=null;null!=window.parent&&window.parent!=window&&(t=w(window.parent));null==t&&null!=window.top.opener&&(t=w(window.top.opener));null!=t&&(h.found=!0);return t}()),h.handle}function w(t){for(var e=0;null==t.API&&null!=t.parent&&t.parent!=t&&e<=10;)e++,t=t.parent;return t.API}function E(t){if("commit"!==p){if(p="commit",!h.initialised||!h.found)return"function"==typeof t&&t(new Error(u),!1),!1;var e=""+_().LMSCommit("");return"function"==typeof t&&t(null,"true"===e.toLowerCase()),"true"===e.toLowerCase()}}function S(t){return k("cmi.core.lesson_status",t)}function x(t,e){return T("cmi.core.lesson_status",""+t,(function(t,n){!1!==i.scormCommit&&E(),"function"==typeof e&&e(t,n)}))}function O(t,e){return T("cmi.core.session_time",""+r.msToTime(t),e)}function C(t,e){if(void 0===t&&(t=n.getCourseState()),t!==c)return c=t,T("cmi.suspend_data",t,(function(t,n){!1!==i.scormCommit&&E(),"function"==typeof e&&e(t,n)}))}function k(t,e){if(p="get:"+t,!h.initialised||!h.found)return"function"==typeof e&&e(new Error(u),!1),!1;var n=_().LMSGetValue(t);return"function"==typeof e&&e(null,n),n}function T(t,e,n){if(p="set:"+t,!h.initialised||!h.found)return"function"==typeof n&&n(new Error(u),!1),!1;var r=_().LMSSetValue(t,e);return"true"===(""+r).toLowerCase()?("function"==typeof n&&n(null,!0),!0):(r=function(t){p="get:error";var e=null;e=h.initialised&&h.found?_().LMSGetLastError():301;"function"==typeof t&&t(null,e);return e}(),SparkAPI.log("SCORM API Error ("+r+"): "+m[r]),"function"==typeof n&&n(new Error("SCORM API Error ("+r+"): "+m[r]),r),r)}return{name:"SCORM 1.2 reporting",version:3,immediate:!0,reportingType:"SCORM1.2",init:function(){_(),document.addEventListener("visibilitychange",y),o.add(s.EVERYTHING_READY,(function(){switch(i.statusMode){case a.STATUS_MODE_P_F:v.completed="passed",v.incomplete="failed";break;case a.STATUS_MODE_P_I:v.completed="passed",v.incomplete="incomplete";break;case a.STATUS_MODE_C_I:default:v.completed="completed",v.incomplete="incomplete"}})),o.add(s.STEP_COMPLETED,(function(){i.currentStep>0&&b()})),o.add(s.STEP_CHANGED,b),o.add(s.BLOCK_COMPLETE,b),o.add(s.COURSE_COMPLETED,b),o.add(s.STEP_CHANGING,(function(){if(!1===i.scormCommit||"commit"===p)return!1;E()}))},beginSession:function(t){p="initialise";var e=_(),n=!1;if(null!=e){e.LMSInitialize(""),n=!0,h.initialised=!0;var r=S();r!==v.completed&&r!==v.incomplete&&x(v.incomplete)}else n=!1,h.initialised=!1;return"function"==typeof t&&t(null,n),n},save:E,endSession:function(t){return p="finish",d=!0,h.initialised&&h.found?(O(new Date-i.timer.activityStart),C(n.getCourseState()),"function"!=typeof t?(E(),h.initialised=!1,"true"===(""+_().LMSFinish("")).toLowerCase()):void E((function(){var e=""+_().LMSFinish("");h.initialised=!1,t(null,"true"===e.toLowerCase())}))):("function"==typeof t&&t(new Error(u),!1),!1)},getLanguage:function(t){return k("cmi.student_preference.language",t)},setLanguage:function(t,e){return T("cmi.student_preference.language",t,e)},getBookmark:function(t){return k("cmi.core.lesson_location",t)},setBookmark:function(t,e){return T("cmi.core.lesson_location",""+t,e)},getScore:function(t){return k("cmi.core.score.raw",t)},setScore:function(t,e){return l||(l=!0,T("cmi.core.score.min",0)),f||(f=!0,T("cmi.core.score.max",100)),T("cmi.core.score.raw",t,e)},getMinScore:function(t){return k("cmi.core.score.min",t)},setMinScore:function(t,e){return l=!0,T("cmi.core.score.min",t,e)},getMaxScore:function(t){return k("cmi.core.score.max",t)},setMaxScore:function(t,e){return f=!0,T("cmi.core.score.max",t,e)},getStatus:S,setStatus:x,getInteraction:function(t,e){return p="get:interaction","function"==typeof e&&e(null,""),""},setInteraction:function(t,e){if(p="set:interaction",!h.initialised||!h.found)return"function"==typeof e&&e(new Error(u),!1),!1;var n={},i=k("cmi.interactions._count");n=$.extend(!0,n,g,t),void 0===t.n&&(n.n=n.id,n.id=n.interactionID),"incorrect"===(""+n.result).toLowerCase()?n.result="wrong":""+n.result=="0"||n.result||(n.result="neutral"),"number"==typeof n.time&&(n.time=r.formatTime(n.time)),"number"==typeof n.latency&&(n.latency=r.msToTime(n.latency)),T("cmi.interactions."+i+".id",n.id),T("cmi.interactions."+i+".type",n.type),T("cmi.interactions."+i+".student_response",n.response),T("cmi.interactions."+i+".result",n.result.toLowerCase()),T("cmi.interactions."+i+".weighting",n.weighting),T("cmi.interactions."+i+".time",n.time),T("cmi.interactions."+i+".latency",n.latency),"function"==typeof e&&e(null,!0)},getStateData:function(t){return k("cmi.suspend_data",t)},setStateData:C,getStudentName:function(t){return k("cmi.core.student_name",t)},getStudentID:function(t){return k("cmi.core.student_id",t)},setSessionTime:O,get:k,set:T,statuses:v}}}),$m=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.observers={},t.length>0)for(var n=t.length-1;n>=0;n--)this.observers[t[n]]=[]}return t.prototype.register=function(t){void 0===this.observers[t]&&(this.observers[t]=[])},t.prototype.add=function(t,e,n){t?(void 0===this.observers[t]&&(this.observers[t]=[],console.log("Observer.add :: The event ["+t+"] does not exsist. Event has been created dynamically.")),this.observers[t].push({observable:e,data:n})):console.log(new Error("Observer.add :: no event name was specified."))},t.prototype.once=function(t,e,n){t?(void 0===this.observers[t]&&(this.observers[t]=[],console.log("Observer.add :: The event ["+t+"] does not exsist. Event has been created dynamically.")),this.observers[t].push({observable:e,data:n,once:!0})):console.log(new Error("Observer.add :: no event name was specified."))},t.prototype.clear=function(t){this.observers[t]=[]},t.prototype.remove=function(t,e){if(void 0!==this.observers[t])for(var n=this.observers[t],r=n.length-1;r>=0;r--)n[r].observable===e&&n.splice(r,1)},t.prototype.removeByID=function(t,e){if(void 0!==this.observers[t])for(var n=this.observers[t],r=n.length-1;r>=0;r--)void 0!==n[r].data&&n[r].data.id===e&&n.splice(r,1)},t.prototype.removeByRef=function(t,e){if(void 0!==this.observers[t])for(var n=this.observers[t],r=n.length-1;r>=0;r--)void 0!==n[r].data&&n[r].data.ref===e&&n.splice(r,1)},t.prototype.has=function(t){return void 0!==this.observers[t]},t.prototype.notify=function(t,e){if(void 0!==this.observers[t])for(var n=r(this.observers[t]),i=n.length-1;i>=0;i--)n[i]&&(void 0!==n[i].data?n[i].observable(e,n[i].data):n[i].observable(e),n[i].once&&n.splice(i,1));else console.warn("Observer.notify :: The event ["+t+"] does not exsist.")},t.prototype.notifyByID=function(t,e,n){if(void 0!==this.observers[t])for(var r=this.observers[t],i=r.length-1;i>=0;i--)r[i].data&&r[i].data.id===e&&(void 0!==r[i].data?r[i].observable(n,r[i].data):r[i].observable(n),r[i].once&&r.splice(i,1));else console.warn("Observer.notify :: The event ["+t+"] does not exsist.")},t}();!function(t){t.COMPRESS="compress",t.INFLATE="inflate"}(qm||(qm={}));var Vm,Hm="Your LMS has modified the data required to resume the course correctly so we are unable to restore your progress.",Gm=function(){function t(){this.compression=new Qm}return t.prototype.compress=function(t,e){return this.exec(parseInt(e,10),qm.COMPRESS,t)},t.prototype.inflate=function(t){var e=t.charAt(1);return e="+"===e?t.substr(2,2):e,this.exec(parseInt(e,10),qm.INFLATE,t)},t.prototype.exec=function(t,e,n){switch(t){case 2:return this.compression.V2(e,n);case 3:return this.compression.V3(e,n);case 4:return this.compression.V4(e,n);case 5:default:return this.compression.V5(e,n)}},t}(),Qm=function(){function t(){this.wanringAlerted=!1}return t.prototype.V5=function(t,e){if("btoa"in window&&"atob"in window&&"pako"in window){if(t===qm.COMPRESS){var n=pako.deflate(e,{to:"string",level:9});return"@5"+(r=btoa(n)).replace(/\+/g,"_")}var r=e.substring(2).replace(/_/g,"+"),i="";try{i=atob(r)}catch(t){if(console.warn("Your LMS has modified the course suspend_data. Attempting to restore."),!r.includes(" "))return console.error(new Error(Hm)),alert(Hm),"";try{i=atob(r.replace(/ /g,"+"))}catch(t){return console.error(new Error(Hm)),alert(Hm),""}}return pako.inflate(i,{to:"string"})}return t===qm.COMPRESS?this.V4(t,e):(this.wanringAlerted||(this.wanringAlerted=!0,alert("Unable to restore your progress. You may be using a different browser that lacks the required capabilities.")),"")},t.prototype.V4=function(t,e){return e=t===qm.COMPRESS?"@4"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.split('\\":{\\"').join("º")).split('\\":\\"c:').join("ð")).split('c\\":').join("¶")).split(',"ln":0,"lb":0').join("œ")).split('\\"').join("¯")).split("º¶1,¯_º").join("Œ")).split("¯}},¯").join("¡")).split('œ,"td":"{').join("¬")).split('},{"v":').join("Ð")).split(",¯").join("µ")).split("ð1¯µ").join("ø")).split("\":\"{'s':'").join("Ø")).split("','r':'','a[|]").join("þ")).split('Ð1,"c":1¬¯').join("Æ")).split("}}").join("æ")).split("[~]").join("¿")).split("','q[|]").join("§")).split(',"').join("»")).split("¯:¯1¡").join("«")).split('":').join("±")).split("'[^]\"»").join("ª")):(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.substring(2)).split("ª").join("'[^]\"»")).split("±").join('":')).split("«").join("¯:¯1¡")).split("»").join(',"')).split("§").join("','q[|]")).split("¿").join("[~]")).split("æ").join("}}")).split("Æ").join('Ð1,"c":1¬¯')).split("þ").join("','r':'','a[|]")).split("Ø").join("\":\"{'s':'")).split("ø").join("ð1¯µ")).split("µ").join(",¯")).split("Ð").join('},{"v":')).split("¬").join('œ,"td":"{')).split("¡").join("¯}},¯")).split("Œ").join("º¶1,¯_º")).split("¯").join('\\"')).split("œ").join(',"ln":0,"lb":0')).split("¶").join('c\\":')).split("ð").join('\\":\\"c:')).split("º").join('\\":{\\"')},t.prototype.V3=function(t,e){return t===qm.INFLATE&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.substring(2)).split("¿").join("[|]")).split("º").join('"¡"tpÆ"md"')).split("ð").join("}Ø")).split("¶").join("','")).split("œ").join("'[^]\"}")).split("Œ").join("Æ\"{'s':'")).split("¯").join('{"')).split("Ð").join("\\Æþc:1þ")).split("ø").join("}},")).split("¡").join("},{")).split("¬").join("}}}")).split("«").join("[~]")).split("µ").join('},{"sÆ')).split("Ø").join(',"')).split("þ").join('\\"')).split("Æ").join('":')).split("æ").join('\\":{\\"c\\":1,\\"_\\":{')).split("»").join(',"vs":0,"cm":0,"scn":{},"nst":null,"lkn":0,"lkb":0,"dt":{')).split("§").join(',"vs":1,"cm":1,"scn":{},"nst":null,"lkn":0,"lkb":0,"dt":{')),e},t.prototype.V2=function(t,e){return t===qm.INFLATE&&(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.substring(2)).split("º").join("}}")).split("ð").join("þitmæ")).split("¶").join('{"')).split("œ").join("]},Øroø}¡þitmæ[")).split("Œ").join("{Æ")).split("¯").join('"þvsæ1þcmæ0þscnæ')).split("Ð").join('"þvsæ1þcmæ1þscnæ')).split("ø").join('"þvsæ0þcmæ0þscnæ')).split("¡").join("þnstænullþlknæ0þlkbæ0þdtæ{}")).split("¬").join('Øast"þvsæ0þcmæ0þscnæ{}þnstænullþlknæ0þlkbæ0þdtæ{}}')).split("«").join(",{Æ]þivsæ[")).split("µ").join('þaæ2},{"cæ1þræ')).split("Ø").join('{"tpæ"')).split("þ").join(',"')).split("Æ").join('"eæ1}')).split("æ").join('":')).split("»").join(',"vs":0,"cm":0,"scn":¿}},"nst":null,"lkn":0,"lkb":0,"dt":{')).split("§").join(',"vs":1,"cm":1,"scn":¿}},"nst":null,"lkn":0,"lkb":0,"dt":{')).split("¿").join('{"m_btn_vstd":{')),e},t}(),Wm=function(){function t(t){this.cachedScrollbarWidth=null,this.array={shuffle:function(t){for(var e=[];t.length;)e.push(t.splice(Math.random()*t.length,1)[0]);for(;e.length;)t.push(e.pop());return t},sortOn:function(t,e){return t.sort((function(t,n){return t[e]-n[e]}))},indexOf:function(t,e,n){var r,i,o,s;if(null==t)throw new TypeError('"this" is null or not defined');if(0===(o=(i=Object(t)).length>>>0))return-1;if(s=+n||0,Math.abs(s)===1/0&&(s=0),s>=o)return-1;for(r=Math.max(s>=0?s:o-Math.abs(s),0);r<o;){if(r in i&&i[r]===e)return r;r++}return-1},map:function(t,e,n){var r,i,o,s,a;if(void 0===t)throw new TypeError(" this is null or not defined");if(a=(s=Object(t)).length>>>0,"function"!=typeof e)throw new TypeError(e+" is not a function");for(n&&(r=n),i=new Array(a),o=0;o<a;){var c,u;o in s&&(c=s[o],u=e.call(r,c,o,s),i[o]=u),o++}return i}},this.string={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},this.object={keysToArray:function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},this.number={max:function(t,e){return e>t?e:t},min:function(t,e){return e<t?e:t}},this.config=t.config,this.modules=t.modules,this.core=t.core,this.suspendData=new Gm}return t.prototype.hasModule=function(t){return void 0!==this.modules[t]},t.prototype.getNewStepData=function(){return{actions:[],background:"",complete:!1,progress:{raw:0,total:0,scaled:0},currentContent:null,currentTextElement:null,classList:"",data:{},moduleSettings:{},sections:null,dataDisplays:{},indexed:!0,group:"0",html:null,guid:"",id:0,gui:{},isCompletionPoint:!1,lockNext:!1,lockBack:!1,forceLockNext:!1,forceLockBack:!1,nextStepTarget:null,nextStepTargets:null,resources:[],references:[],retainScrollPos:!1,scrollX:0,scrollY:0,labels:[],lastFocus:null,score:{isScored:!1,percent:0,points:0},step:{},stepOptions:{},studentConfig:{},template:"",time:{duration:0,max:0,current:0},title:"",transform:{x:0,y:0,z:0,rx:0,ry:0,rz:0,sx:0,sy:0,sz:0},type:null,uniqueDiv:"",visited:!1,isEntry:!1,xml:null,timeline:null,timelineexit:null,component:null}},t.prototype.getURLVars=function(){for(var t={},e=window.location.search.substring(1).split("&"),n=0;n<e.length;n++){var r=e[n].split("=");t[r[0]]=r[1]}return t},t.prototype.getParentWindow=function(t){return t.parent},t.prototype.isBadIE=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",!(1!=t.getElementsByTagName("i").length)},t.prototype.parseLangString=function(t){if(!t)return this.config.language;if("_"===t.charAt(2)||-1===t.indexOf("_")||-1===t.indexOf("-")){if(!0===this.urlExists(this.core.getAssetPath("components.xml","data/"+t)))return t}else if("-"===t.charAt(2)){if(t=t.split("-").join("_"),!0===this.urlExists(this.core.getAssetPath("components.xml","data/"+t)))return t}else if("english"===t.toLowerCase())return"en_AU";return this.config.language},t.prototype.urlExists=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),404!=e.status},t.prototype.compareVersion=function(t,e){var n,r=t.split("."),i=e.split("."),o=r.length;for(n=0;n<o;n++){if(i.length==n)return!1;if(r[n]!=i[n])return!(r[n]>i[n])}return r.length!=i.length},t.prototype.msToTime=function(t,e){t=+t;var n=Math.trunc(t%1e3/100),r=Math.trunc(t/1e3%60),i=Math.trunc(t/6e4%60),o=Math.trunc(t/36e5%24),s=o<10?"0"+o:""+o,a=i<10?"0"+i:""+i,c=r<10?"0"+r:""+r,u="";return u=n<10?"0"+n:n>100?""+Math.floor(n/10):""+n,s+":"+a+":"+c+(!0===e?"."+u:"")},t.prototype.formatTime=function(t,e){var n=new Date(t),r=n.getMilliseconds(),i=n.getSeconds(),o=n.getMinutes(),s=n.getHours(),a=s<10?"0"+s:""+s,c=o<10?"0"+o:""+o,u=i<10?"0"+i:""+i,l="";return l=r<10?"0"+r:r>100?""+Math.floor(r/10):""+r,a+":"+c+":"+u+(!0===e?"."+l:"")},t.prototype.parsePropertyUnit=function(t,e,n){return((t=""+t).indexOf("px")>-1||t.indexOf("%")>-1)&&(t.indexOf("left:")>-1||t.indexOf("right:")>-1||t.indexOf("top:")>-1||t.indexOf("bottom:")>-1)?t:e+":"+t+n},t.prototype.parseUnit=function(t,e){return(t=""+t).indexOf("px")>-1||t.indexOf("%")>-1?t:t+e},t.prototype.stopPropagation=function(t){t.stopPropagation&&t.stopPropagation()},t.prototype.guessType=function(t){if("string"!=typeof t)return t;var e=t;return""===(t=(""+t).toLowerCase())?e:"\\"===t.charAt(0)?e.substring(1):"true"===t||"false"===t?"true"===t:"null"===t||"undefined"===t?null:!1===isNaN(+t)?+t:e},t.prototype.determineStepNumber=function(t){return"number"==typeof t?t:"string"==typeof t&&(t=this.config.stepIDMap[t]||t,t=parseInt(t,10),isNaN(t))?void 0:t},t.prototype.getCurrentDate=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return(e<10?"0"+e:e)+"-"+(n<10?"0"+n:n)+"-"+(r<10?"0"+r:r)},t.prototype.getCurrentTime=function(){var t=new Date,e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)},t.prototype.simpleUid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()},t.prototype.debounce=function(t,e,n){var r,i=this;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i,c=function(){r=null,n||t.apply(a,o)},u=n&&!r;clearTimeout(r),r=window.setTimeout(c,e),u&&t.apply(a,o)}},t.prototype.throttle=function(t,e,n){var i,o;return function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var c=Date.now();void 0!==o&&window.clearTimeout(o),!i||c-i>=e?(t.apply(null,s),i=c):o=window.setTimeout(n.bind.apply(n,r([null],s)),e-(c-i))}},t.prototype.getNodeAttributesAsObject=function(t,e){var n=this,r={};return t&&$.each(t.attributes,(function(t,i){r[i.name]=e?n.guessType(i.value):i.value})),r},t.prototype.getScrollContainer=function(){var t=document.querySelector(".scroll-container");return t||(document.scrollingElement||document.documentElement)},t.prototype.focusFirstElement=function(t){void 0===t&&(t="#content");var e=document.getElementById("stepTitle");(e||(e=$(t).find("[tabindex]")[0]))&&e.focus()},t.prototype.scrollToElement=function(t,e,n){var r=this;(t=$(t)).length&&(e=$.extend(!0,{speed:.6,offset:0,delay:0,ease:"Power2.easeInOut",autoDetectScrollParent:!0},e||{}),setTimeout((function(){var i=document.scrollingElement||document.body;if(e.autoDetectScrollParent?i=r.findScrollParent(t[0]):e.scrollParent&&(i=$(e.scrollParent)[0]),i){var o=i===document.body||i===document.getElementsByTagName("html")[0],s=t.offset(),a=0;if(!o){var c=i.getBoundingClientRect();s.top=i.scrollTop+s.top-c.top}a=e.centre||e.center?i.clientHeight/2-e.offset:parseInt($("#shellcontainer").css("padding-top"))+e.offset;var u=i.scrollHeight-i.clientHeight,l=s.top-a;l>u&&(l=u),l<0&&(l=0);var f=!1;if(o){i=$("html, body");for(var p=0;p<i.length;p++)if(l!==i[p].scrollTop){f=!0;break}}else l!==i.scrollTop&&(f=!0);f&&i?TweenLite.to(i,e.speed,{scrollTo:{x:Math.round(0),y:Math.round(l)},ease:e.ease,onComplete:function(){"function"==typeof n&&n(null)}}):"function"==typeof n&&n(null)}else"function"==typeof n&&n(new Error("Element is either not in the document, or it has no scroll parent."))}),1e3*e.delay))},t.prototype.scrollElementParentBy=function(t,e,n){if((t=$(t)).length){e=$.extend(!0,{speed:.6,offset:0,delay:0,ease:"Power2.easeInOut",x:0,y:0,autoDetectScrollParent:!0},e||{});var r=document.scrollingElement||document.body;if(e.autoDetectScrollParent?r=this.findScrollParent(t[0]):e.scrollParent&&(r=$(e.scrollParent)[0]),r)if(r){var i={};e.x&&(i.x=r.scrollLeft+e.x),e.y&&(i.y=r.scrollTop+e.y),TweenLite.to(r,e.speed,{scrollTo:i,ease:e.ease,onComplete:function(){"function"==typeof n&&n(null)}})}else"function"==typeof n&&n(null);else"function"==typeof n&&n(new Error("Element is either not in the document, or it has no scroll parent."))}},t.prototype.findScrollParent=function(t){if(!t||!t.parentNode)return null;var e=/(auto|scroll)/,n=function(t,e){return getComputedStyle(t,null).getPropertyValue(e)},r=function(t){return e.test(function(t){return n(t,"overflow")+n(t,"overflow-y")+n(t,"overflow-x")}(t))};if(!(t instanceof HTMLElement))return document.scrollingElement||document.body;for(var i=function t(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))}(t.parentNode,[]),o=0;o<i.length;o+=1)if(r(i[o]))return i[o];return document.scrollingElement||document.body},t.prototype.getScrollbarWidth=function(t){if(t)return t.offsetWidth-t.clientWidth;if(null===this.cachedScrollbarWidth){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),n=$("<div>").css({width:"100%"}).appendTo(e).outerWidth()||100;e.remove(),this.cachedScrollbarWidth=100-n}return this.cachedScrollbarWidth},t.prototype.getElementInView=function(t){var e=void 0===t?{}:t,n=e.classname,r=void 0===n?"cmp_section":n,i=e.locationY,o=void 0===i?.25:i,s=e.locationX,a=void 0===s?.5:s,c=document.elementFromPoint(window.innerWidth*a,window.innerHeight*o);if(c)return c.classList.contains(r)?c.dataset.uid:$(c).parents("."+r).data("uid")},t.prototype.isFullScreen=function(){return!!(document.webkitFullscreenElement||document.msFullscreenElement||document.fullscreenElement||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen)},t.prototype.getModuleConfigText=function(t,e){return this.config.extraData[t]&&this.config.extraData[t].text||e},t.prototype.getModuleConfigAttribute=function(t,e,n,r){void 0===r&&(r=!1);var i=n;if(this.config.extraData[t]){var o=this.config.extraData[t].attributes;o&&void 0!==o[e]&&(i=o[e])}if(this.config.stepData[this.config.currentStep]){var s=this.config.stepData[this.config.currentStep].moduleSettings;s&&s[t]&&s[t].attributes&&void 0!==s[t].attributes[e]&&(i=s[t].attributes[e])}return r?this.guessType(i):i},t}();!function(t){t.ON="on",t.OFF="off"}(Vm||(Vm={}));var Ym,Km,Zm,Xm,Jm,ty,ey,ny,ry,iy,oy=function(){function t(t){this.ANIM_MS_THRESHOLD=20,this.defaults={element:$(),ease:"Cubic.easeOut",speed:.3,killTweens:!0,cssBefore:{},cssAfter:{}}}return t.prototype.none=function(t,e,n,r){var i={element:t,onComplete:r||function(){},speed:0,cssBefore:{},cssAfter:{}};e===Vm.ON?(i.cssBefore={display:"none"},i.cssAfter={display:"block"}):"off"===e&&(i.cssBefore={display:"block"},i.cssAfter={display:"none"}),this.transit(i)},t.prototype.fade=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={},i.cssAfter={autoAlpha:1}):"off"===e&&(i.cssBefore={},i.cssAfter={autoAlpha:0}),this.transit(i)},t.prototype.fadeOpacity=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={},i.cssAfter={opacity:1}):"off"===e&&(i.cssBefore={},i.cssAfter={opacity:0}),this.transit(i)},t.prototype.slideTop=function(t,e,n,r){var i=$.extend(!0,this.defaults,n),o=n.yProperty||"top";i.element=t,i.onComplete=r||function(){};var s=$(t).outerHeight()||0;"on"===e?(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"top"===o?(i.cssBefore.top=-1*s+"px",i.cssAfter.top=n.y):(i.cssBefore.bottom=window.innerHeight+"px",i.cssAfter.bottom=n.y)):"off"===e&&(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"top"===o?i.cssAfter.top=-1*s+"px":i.cssAfter.bottom=window.innerHeight+"px"),this.transit(i)},t.prototype.slideLeft=function(t,e,n,r){var i=$.extend(!0,this.defaults,n),o=n.xProperty||"left";i.element=t,i.onComplete=r||function(){};var s=$(t).outerWidth()||0;"on"===e?(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"left"===o?(i.cssBefore.left=-1*s+"px",i.cssAfter.left=n.x):(i.cssBefore.right=window.innerWidth+"px",i.cssAfter.right=n.x)):"off"===e&&(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"left"===o?i.cssAfter.left=-1*s+"px":i.cssAfter.right=window.innerWidth+"px"),this.transit(i)},t.prototype.slideBottom=function(t,e,n,r){var i=$.extend(!0,this.defaults,n),o=n.yProperty||"top";i.element=t,i.onComplete=r||function(){};var s=$(t).outerHeight()||0;"on"===e?(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"top"===o?(i.cssBefore.top=window.innerHeight+"px",i.cssAfter.top=n.y):(i.cssBefore.bottom=-1*s+"px",i.cssAfter.bottom=n.y)):"off"===e&&(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"top"===o?i.cssAfter.top=window.innerHeight:i.cssAfter.bottom=-1*s),this.transit(i)},t.prototype.slideRight=function(t,e,n,r){var i=$.extend(!0,this.defaults,n),o=n.xProperty||"left";i.element=t,i.onComplete=r||function(){};var s=$(t).outerWidth()||0;"on"===e?(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"left"===o?(i.cssBefore.left=window.innerWidth+"px",i.cssAfter.left=n.x):(i.cssBefore.right=-1*s+"px",i.cssAfter.right=n.x)):"off"===e&&(i.cssBefore={display:"block",opacity:1},i.cssAfter={},"left"===o?i.cssAfter.left=window.innerWidth:i.cssAfter.right=-1*s),this.transit(i)},t.prototype.growTop=function(t,e,n,r){var i=$(t).outerHeight(),o=$.extend(!0,this.defaults,n);o.element=t,o.onComplete=r||function(){},"on"===e?(o.cssBefore={height:0,display:"block",opacity:1},o.cssAfter={height:i}):"off"===e&&(o.cssBefore={display:"block",opacity:1},o.cssAfter={height:0}),this.transit(o)},t.prototype.growBottom=function(t,e,n,r){var i=$(t).outerHeight(),o=$.extend(!0,this.defaults,n);o.element=t,o.onComplete=r||function(){},"on"===e?(o.cssBefore={top:"+="+i,height:0,display:"block",opacity:1},o.cssAfter={height:i,top:"-="+i}):"off"===e&&(o.cssBefore={display:"block",opacity:1},o.cssAfter={height:0,top:"+="+i}),this.transit(o)},t.prototype.growCentre=function(t,e,n,r){var i=$(t).outerWidth()||0,o=$(t).outerHeight()||0,s=n.xProperty||"left",a=n.yProperty||"top",c=$.extend(!0,this.defaults,n);c.element=t,c.onComplete=r||function(){},"on"===e?(c.cssBefore={width:0,height:0,display:"block",opacity:1},c.cssAfter={width:i,height:o},"left"===s&&(c.cssBefore.left="+="+i/2,c.cssAfter.left="-="+i/2),"top"===a&&(c.cssBefore.top="+="+o/2,c.cssAfter.top="-="+o/2)):"off"===e&&(c.cssBefore={display:"block",opacity:1},c.cssAfter={width:0,height:0},"left"===s&&(c.cssAfter.left="+="+i/2),"top"===a&&(c.cssAfter.top="+="+o/2)),this.transit(c)},t.prototype.growBR=function(t,e,n,r){var i=$(t).outerWidth(),o=$(t).outerHeight(),s=n.xProperty||"left",a=n.yProperty||"top",c=$.extend(!0,this.defaults,n);c.element=t,c.onComplete=r||function(){},"on"===e?(c.cssBefore={width:0,height:0,display:"block",opacity:1},c.cssAfter={width:i,height:o},"left"===s&&(c.cssBefore.left="+="+i,c.cssAfter.left="-="+i),"top"===a&&(c.cssBefore.top="+="+o,c.cssAfter.top="-="+o)):"off"===e&&(c.cssBefore={display:"block",opacity:1},c.cssAfter={width:0,height:0},"left"===s&&(c.cssAfter.left="+="+i),"top"===a&&(c.cssAfter.top="+="+o)),this.transit(c)},t.prototype.scaleUp=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={"transform-origin":"50% 50%",transform:"translate(0,20px) scale(0.95)",display:"block",opacity:0},i.cssAfter={transform:"translate(0,0) scale(1)",opacity:1}):"off"===e&&(i.cssBefore={},i.cssAfter={transform:"translate(0,-20px) scale(0.95)",opacity:0}),this.transit(i)},t.prototype.scaleDown=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={"transform-origin":"50% 50%",transform:"translate(0,-20px) scale(0.95)",display:"block",opacity:0},i.cssAfter={transform:"translate(0,0) scale(1)",opacity:1}):"off"===e&&(i.cssBefore={},i.cssAfter={transform:"translate(0,20px) scale(0.95)",opacity:0}),this.transit(i)},t.prototype.scaleRight=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={"transform-origin":"50% 50%",transform:"translate(-20px,0) scale(0.95)",display:"block",opacity:0},i.cssAfter={transform:"translate(0,0) scale(1)",opacity:1}):"off"===e&&(i.cssBefore={},i.cssAfter={transform:"translate(20px, 0) scale(0.95)",opacity:0}),this.transit(i)},t.prototype.scaleLeft=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={"transform-origin":"50% 50%",transform:"translate(20px,0) scale(0.95)",display:"block",opacity:0},i.cssAfter={transform:"translate(0,0) scale(1)",opacity:1}):"off"===e&&(i.cssBefore={},i.cssAfter={transform:"translate(-20px, 0) scale(0.95)",opacity:0}),this.transit(i)},t.prototype.twist=function(t,e,n,r){var i=$.extend(!0,this.defaults,n);i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={transform:"rotate(-75deg)",display:"block",opacity:0},i.cssAfter={transform:"rotate(0)",opacity:1}):"off"===e&&(i.cssBefore={},i.cssAfter={transform:"rotate(-75deg)",opacity:0}),this.transit(i)},t.prototype.floatUp=function(t,e,n,r){var i=$.extend(!0,this.defaults,n),o=n.yProperty||"top",s=$(t).position().top;n.y&&(s=(n.y+"").indexOf("%")>-1?Math.round(parseInt(n.y,10)/100*window.innerHeight):"string"==typeof n.y?parseInt(n.y,10):n.y),i.element=t,i.onComplete=r||function(){},"on"===e?(i.cssBefore={display:"block",opacity:0},i.cssAfter={opacity:1},"top"===o?(i.cssBefore.top=s+50+"px",i.cssAfter.top=s+"px"):(i.cssBefore.bottom=s-50+"px",i.cssAfter.bottom=s+"px")):"off"===e&&(i.cssBefore={display:"block",opacity:1},i.cssAfter={opacity:0},"top"===o?i.cssAfter.top=s-50+"px":i.cssAfter.bottom=s+50+"px"),this.transit(i)},t.prototype.transit=function(t){var e=$.extend(!0,{},this.defaults,t);e.speed=e.speed>this.ANIM_MS_THRESHOLD?e.speed/1e3:e.speed,!0===e.killTweens&&TweenLite.killTweensOf(e.element);var n=$(e.element).css(e.cssBefore);TweenLite.to(n,e.speed,{css:e.cssAfter,ease:e.ease,onComplete:e.onComplete,onUpdate:e.onUpdate})},t}(),sy=function(){function t(){this.shortcodes={}}return t.prototype.add=function(t){var e=t.tag,n=t.callback;return void 0===this.shortcodes[e]&&(this.shortcodes[e]=n,!0)},t.prototype.remove=function(t){return void 0!==this.shortcodes[t]&&(delete this.shortcodes[t],!0)},t.prototype.parseShortcodes=function(t){var e=this;return Object.keys(this.shortcodes).forEach((function(n){var r=e.shortcodes[n],i=[],o=[],s=null;["\\["+n+"(.*?)?\\](.*)?\\[\\/"+n+"\\]","\\["+n+"(.*?)?\\]"].forEach((function(e){for(s=new RegExp(e,"g");null!==(i=s.exec(t));)o.push(i)}));var a=0;o.forEach((function(e){var n={},i="";if(e[1]){if(void 0===$("<div "+e[1]+"></div>")[0])return;for(var o=$("<div "+e[1]+"></div>")[0].attributes,s=0;s<o.length;s++)n[o[s].name]=o[s].value}e[2]&&(i=(e[2]||"").trim());var c=e.index+a,u=r(n,i),l=e[0].length;t=t.substring(0,c)+u+t.substring(c+l),a+=u.length-l}))})),t},t}(),ay=function(t){return[{name:"activityTitle",replacement:function(){return t.config.moduleTitle}},{name:"courseTitle",replacement:function(){return t.config.moduleTitle}},{name:"moduleTitle",replacement:function(){return t.config.moduleTitle}},{name:"currentItemTitle",replacement:function(e){return void 0===e||null===t.config.stepData[e].currentContent?"":t.config.stepData[e].currentContent.title}},{name:"currentItemContent",replacement:function(e){return void 0===e||null===t.config.stepData[e].currentContent?"":t.config.stepData[e].currentContent.content}},{name:"currentStepGroupName",replacement:function(e){if(void 0===e)return"";var n=t.config.stepGroups[t.config.stepData[e].group];return n?n.name:""}},{name:"currentGroupName",replacement:function(e){if(void 0===e)return"";var n=t.config.stepGroups[t.config.stepData[e].group];return n?n.name:""}},{name:"currentStep",replacement:function(t){return void 0===t?"":t+""}},{name:"currentPage",replacement:function(t){return void 0===t?"":t+""}},{name:"stepTitle",replacement:function(e){return void 0===e?"":t.config.stepData[e].title}},{name:"pageTitle",replacement:function(e){return void 0===e?"":t.config.stepData[e].title}},{name:"totalSteps",replacement:function(){return t.config.totalSteps+""}},{name:"totalPages",replacement:function(){return t.config.totalSteps+""}},{name:"quizScorePercent",replacement:function(){return t.config.totalScore+""}},{name:"studentFullName",replacement:function(){return""===t.config.studentName&&(t.config.studentName=t.core.runModuleFunction("reporting","getStudentName"),t.config.studentName=t.config.studentName?t.config.studentName:"Lastname, Firstname"),t.config.studentName.split(",").map((function(t){return t.trim()})).reverse().join(" ")}},{name:"studentFirstName",replacement:function(){return""===t.config.studentName&&(t.config.studentName=t.core.runModuleFunction("reporting","getStudentName"),t.config.studentName=t.config.studentName?t.config.studentName:"Lastname, Firstname"),(""+t.config.studentName.split(",")[1]).trim()}},{name:"studentLastName",replacement:function(){return""===t.config.studentName&&(t.config.studentName=t.core.runModuleFunction("reporting","getStudentName"),t.config.studentName=t.config.studentName?t.config.studentName:"Lastname, Firstname"),(""+t.config.studentName.split(",")[0]).trim()}},{name:"studentID",replacement:function(){return""===t.config.studentID&&(t.config.studentID=t.core.runModuleFunction("reporting","getStudentID"),t.config.studentID=t.config.studentID?t.config.studentID:"Student123"),t.config.studentID.split(", ").reverse().join(" ")}}]},cy=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),uy=void 0===window.CredentailsContainer&&5===navigator.maxTouchPoints&&0===navigator.plugins.length&&"MacIntel"===navigator.platform;!function(t){t.SYSTEM="sys",t.USER="user"}(Ym||(Ym={})),function(t){t.COMPLETED="completed",t.INCOMPLETE="incomplete",t.PASSED="passed",t.FAILED="failed"}(Km||(Km={})),function(t){t[t.C_I=0]="C_I",t[t.P_F=1]="P_F",t[t.P_I=2]="P_I"}(Zm||(Zm={})),function(t){t.DEV="dev",t.PROD="prod"}(Xm||(Xm={})),function(t){t.V1="1",t.V2="2",t.V3="3",t.V4="4",t.V5="5"}(Jm||(Jm={})),function(t){t.NORMAL="navmodeNormal",t.LINHIST="navmodeLinhist",t.BRANCH="navmodeBranch"}(ty||(ty={})),function(t){t.SLIDE="slide",t.SLIDE_ONLY="slideonly",t.COMPLETION_POINT="completionpoint",t.SLIDES_COMPLETE="slidescomplete",t.QUIZ="quiz",t.DECLARATION="declaration"}(ey||(ey={})),function(t){t.STANDARD="std",t.HIGHCONTRAST="hc",t.BLACKWHITE="bw"}(ny||(ny={})),function(t){t.TEXT="text"}(ry||(ry={})),function(t){t.ALL="all",t.SCORED="scored",t.UNSCORED="unscored",t.FAILEDSCORED="failedscored"}(iy||(iy={}));var ly,fy={STATUS_MODE_C_I:Zm.C_I,STATUS_MODE_P_F:Zm.P_F,STATUS_MODE_P_I:Zm.P_I,STATUS_COMPLETED:Km.COMPLETED,STATUS_INCOMPLETE:Km.INCOMPLETE,STATUS_PASSED:Km.PASSED,STATUS_FAILED:Km.FAILED,COLOUR_MODE_STANDARD:ny.STANDARD,COLOUR_MODE_HIGHCONTRAST:ny.HIGHCONTRAST,COLOUR_MODE_BLACKWHITE:ny.BLACKWHITE,REGEXP_SRC:/(src|srcset)\s*=\s*['"]([^'"]+)['"]/gi,REGEXP_HREF:/href\s*=\s*['"]([^'"]+)['"]/gi},py=function(){function t(e){Cv(this,t),this.printHeader="",this.printables=[],this.config=e.config}return Tv(t,[{key:"hasPages",value:function(t,e){var n,r;if(t&&t.length){for(e=e||!1,n=(r=t.length)-1;n>=0;n--)if(void 0!==this.printables[t[n]]&&""!==this.printables[t[n]]){if(!e)return!0;t.pop()}return e&&!t.length}for(r=this.printables.length,n=0;n<r;n++)if(void 0!==this.printables[n]&&""!==this.printables[n])return!0;return!1}},{key:"addPage",value:function(t){this.printables.push(t)}},{key:"updatePage",value:function(t,e,n){this.printables[t]=!0===n?this.printables[t]+e:e}},{key:"removePage",value:function(t){this.printables[t]=""}},{key:"getPage",value:function(t){return this.printables[t]}},{key:"setPrintHeader",value:function(t){this.printHeader=t+"<br/>"}},{key:"printAll",value:function(){var t,e,n=this.printables.length,r=[];if(n<1)return!1;for(t=0;t<n;t++)void 0!==this.printables[t]&&""!==this.printables[t]&&r.push(this.printables[t]);return!(r.length<1)&&(e=this.replaceVariableKeywords(this.printHeader)+"<br/>"+r.join("<hr style='page-break-before:always' />"),this.printing.print(e))}},{key:"printPage",value:function(t){var e;return(void 0!==this.printables[t]||""!==this.printables[t])&&(e=this.replaceVariableKeywords(this.printHeader)+"<br/>"+this.printables[t],this.printing.print(e))}},{key:"printPages",value:function(t){for(var e=[],n=0;n<t.length;n++)void 0!==this.printables[t[n]]&&""!==this.printables[t[n]]&&e.push(this.printables[t[n]]);return!!e.length&&this.printing.print(this.replaceVariableKeywords(this.printHeader)+"<br/>"+e.join("<hr/>"))}},{key:"print",value:function(t){var e,n=this,r="",i=(""+window.location).split("shell.html")[0];return"string"==typeof t&&(e=window.open(),r="<link rel='stylesheet' href='"+i+"css/print.css' /><style> a[href]:after {content:' (' attr(href) ')';} * {font-family: 'Arial', Helvetica, sans-serif;}.noPrint {display:none;}</style>",r+="<div>"+t+"</div>",e.document.title=$("<div>"+this.config.moduleTitle+"</div>").text(),r=r.replace(fy.REGEXP_SRC,(function(t){if(-1===t.indexOf("http://")&&-1===t.indexOf("https://")){if(t.indexOf("global:")>-1)return'src="'+i+n.config.globalPath+encodeURI(t.substring(13,t.length-1))+'"';if(t.indexOf("project:")>-1)return'src="'+i+encodeURI(t.substring(13,t.length-1))+'"';var e=n.shell.core.extractFilePathInfo(t.substring(5,t.length-1)),r=n.shell.core.getAssetPath(e.filename,e.path);return 0!==r.indexOf("http")?'src="'+i+r+'"':'src="'+r+'"'}return t})),$("body",e.document).append(r),$(".noPrint",e.document).remove(),setTimeout((function(){e.print()}),100),!0)}}]),t}(),dy=function(){function t(t){this.modifiers=[],this.modifiers.push(function(t){return{name:"gotoStep",execute:function(e){Array.from(e.find("a[rel=goto],button[rel=goto]")).map((function(t){return $(t)})).forEach((function(e){switch(e.off("click").on("click",(function(e){e.preventDefault();var n=$(e.currentTarget).attr("href")||"",r="true"===$(e.currentTarget).data("force");switch((""+n).toLowerCase()){case"next":t.core.nextStep();break;case"previous":t.core.previousStep();break;default:t.core[r?"forceGotoStep":"gotoStep"](t.config.stepIDMap[n]||n)}})),e.data("style")){case"link":break;case"button":default:e.addClass("goto-link focus noTapSelection")}}))}}}(t)),this.modifiers.push({name:"scrollable",execute:function(t){Array.from(t.find("[class*='scrollable']")).forEach((function(t){t.addEventListener("touchmove",(function(t){return t.stopPropagation()}),!0)}))}})}return t.prototype.add=function(t,e){this.modifiers.push({name:t,execute:e})},t.prototype.executeOn=function(t){return this.modifiers.forEach((function(e){try{e.execute(t)}catch(t){alert("Error running execute() on text modifier: "+e.name+". See error in console."),console.log(t)}})),t},t}();!function(t){t.PASSED="passed",t.FAILED="failed",t.NEUTRAL="neutral"}(ly||(ly={}));var hy,gy=function(){function t(t){this.quizzes={},this.quizResults={},this.shell=t}return t.prototype.addQuiz=function(t,e){this.quizzes[t]=e},t.prototype.getNewResultObject=function(t,e,n,r,i){return{enabled:!0,quizid:n,scoreid:t,datasetid:i,scored:e||!1,n:-1,id:"SPARK-INT-"+t,type:"",percent:-1,weight:void 0!==r?r:1,result:"",response:"",time:0,latency:0,name:"",description:"",correctResponsesPattern:"",choices:[],finished:!1}},t.prototype.createResultSlot=function(t,e,n,r,i){n=n||"default",this.quizzes[n]||(this.quizzes[n]={id:n,name:n,weight:1,includeInTotal:!0,passRate:80,pre:!1,questions:0,attempts:0,currentAttempt:1}),this.quizResults[n]||(this.quizResults[n]={results:{},datasets:{}}),this.quizResults[n].datasets[i]=!0;var o=this.getNewResultObject(t,e,n,r,i);this.quizResults[n].results[t]=o,this.quizzes[n].questions+=1;var s=0;for(var a in this.quizResults)if(this.quizResults.hasOwnProperty(a))for(var c in this.quizResults[a].results)this.quizResults[a].results.hasOwnProperty(c)&&this.quizResults[a].results[c].scored&&(this.quizResults[a].results[c].n=s,s++)},t.prototype.enableSlot=function(t,e){this.quizResults[t]&&this.quizResults[t].results[e]&&!0!==this.quizResults[t].results[e].enabled&&(this.quizResults[t].results[e].enabled=!0,this.shell.config.totalScore=this.getScore())},t.prototype.disableSlot=function(t,e){this.quizResults[t]&&this.quizResults[t].results[e]&&!1!==this.quizResults[t].results[e].enabled&&(this.quizResults[t].results[e].enabled=!1,this.shell.config.totalScore=this.getScore())},t.prototype.saveResult=function(t,e,n){this._saveResult(t,e,n),this.shell.core.runModuleFunction("reporting","setStateData"),this.shell.core.runModuleFunction("reporting","save")},t.prototype.saveResults=function(t,e){var n=this;e.forEach((function(e){var r=e.scoreid,i=e.result;return n._saveResult(t,r,i)})),this.shell.core.runModuleFunction("reporting","setStateData"),this.shell.core.runModuleFunction("reporting","save")},t.prototype._saveResult=function(t,e,n){if(t=t||"default",this.quizResults[t]&&this.quizResults[t].results[e]){var r=this.quizResults[t].results[e].scored;this.quizResults[t].results[e].type=n.type||"",this.quizResults[t].results[e].percent=void 0!==n.percent?n.percent:100,this.quizResults[t].results[e].weight=n.weight||1,this.quizResults[t].results[e].result=n.result||"",this.quizResults[t].results[e].response=n.response||"",this.quizResults[t].results[e].time=n.time||0,this.quizResults[t].results[e].latency=n.latency||0,this.quizResults[t].results[e].name=n.name||"",this.quizResults[t].results[e].description=n.description||"",this.quizResults[t].results[e].correctResponsesPattern=n.correctResponsesPattern||"",this.quizResults[t].results[e].choices=n.choices,this.quizResults[t].results[e].finished=n.finished||!1,this.shell.core.runModuleFunction("reporting","setInteraction",this.quizResults[t].results[e]);var i=this.getScore(t);this.shell.observer.notify(this.shell.events.QUIZ_QUESTION_ANSWER,{quizid:t,scoreid:e,results:this.quizResults[t].results[e]});var o=this.getNumQuestions(t);if(r&&this.allQuizQuestionsAnswered(t)){var s=i>=this.quizzes[t].passRate,a="false"!==this.quizzes[t].pre&&!!this.quizzes[t].pre;if(o>0&&this.shell.observer.notify(this.shell.events.QUIZ_FINISH,{quizid:t,status:s?"passed":"failed",ispreassessment:a,preassessmentto:a?this.quizzes[t].pre:""}),this.quizzes[t].pre&&s){var c=this.quizzes[t].pre;this.quizzes[t].includeInTotal=!0,"string"==typeof c&&this.quizResults[c]&&(this.quizzes[c].includeInTotal=!1)}}var u=this.shell.config.totalScore=this.getScore();if(r&&this.shell.core.runModuleFunction("reporting","setScore",Math.round(u)),"quiz"===this.shell.config.scoreType&&u>=this.shell.config.globalPass){var l="completed";this.shell.utils.hasModule("reporting")&&(l=this.shell.modules.reporting.statuses.completed),this.shell.core.runModuleFunction("reporting","setStatus",l)}}else console.warn("shell.js resultManager.saveResult - unable to save, result slot has not been created for quizid: "+t+", scoreid: "+e)},t.prototype.allQuizQuestionsAnswered=function(t,e){if(void 0===t&&(t="default"),void 0===e&&(e=!1),!this.quizResults[t]||!this.quizResults[t].results)return!1;for(var n in this.quizResults[t].results)if(this.quizResults[t].results.hasOwnProperty(n)){var r=this.quizResults[t].results[n];if(r.enabled&&(e||r.scored)&&!r.finished)return!1}return!0},t.prototype.getScoreByID=function(t,e){if(void 0===e){if(void 0===(e=this.findQuizIdFromResultId(t)))return}else e=e||"default";if(this.quizResults[e]&&this.quizResults[e].results[t])for(var n in this.quizResults[e].results)if(this.quizResults[e].results.hasOwnProperty(n)&&n===t){var r=this.quizResults[e].results[n].percent;return-1===r?0:r}},t.prototype.getResponseByID=function(t,e){if(void 0===e){if(void 0===(e=this.findQuizIdFromResultId(t)))return}else e=e||"default";if(this.quizResults[e]&&this.quizResults[e].results[t])for(var n in this.quizResults[e].results)if(n===t){var r=this.quizResults[e].results[n].response;return r||"not answered"}},t.prototype.getStatus=function(t){return this.quizzes[t]?this.getScore(t)>=this.quizzes[t].passRate?ly.PASSED:ly.FAILED:null},t.prototype.getAttempts=function(t){return this.quizzes[t]?{maxAttempts:this.quizzes[t].attempts,currentAttempt:this.quizzes[t].currentAttempt}:null},t.prototype.getScore=function(t){var e=function(t,e){return t.indexOf(e)>-1},n="__all__";t=t||n,Array.isArray(t)||(t=[t]);var r={};for(var i in this.quizResults)if(this.quizResults[i])for(var o in this.quizResults[i].results)if(this.quizResults[i].results.hasOwnProperty(o)&&this.quizResults[i].results[o].scored&&this.quizResults[i].results[o].enabled&&(e(t,n)||e(t,i))){if(r[i]||(r[i]={result:0,total:0}),this.quizResults[i].results[o].percent>-1){var s=1;this.quizResults[i].results[o].weight&&(s=this.quizResults[i].results[o].weight),r[i].result+=this.quizResults[i].results[o].percent*s}r[i].total+=100}var a=0,c=0;for(var u in r)if(r.hasOwnProperty(u)){if(e(t,n)&&!this.quizzes[u].includeInTotal)continue;var l=this.quizzes[u].weight;a+=r[u].result*l,c+=r[u].total*l}if(c>0){var f=a/c*100;return f=Math.round(100*f)/100}return 0},t.prototype.getNumQuestions=function(t,e){var n=this;return void 0===e&&(e=!1),this.quizResults[t]?Object.keys(this.quizResults[t].results).reduce((function(r,i){return e?r+1:r+(n.quizResults[t].results[i].scored?1:0)}),0):0},t.prototype.reset=function(t,e){var n=this;void 0===t&&(t=iy.ALL),void 0===e&&(e=!0),Object.keys(this.quizzes).forEach((function(r){return n.resetQuiz(r,t,e)}))},t.prototype.resetQuiz=function(t,e,n){void 0===e&&(e=iy.SCORED),void 0===n&&(n=!1);var r=[];if(this.quizzes[t]&&(n?this.quizzes[t].currentAttempt=1:this.quizzes[t].currentAttempt+=1),this.quizResults[t]){for(var i in this.quizResults[t].results)if(this.quizResults[t].results.hasOwnProperty(i)){var o=this.quizResults[t].results[i].scoreid,s=this.quizResults[t].results[i].scored,a=this.quizResults[t].results[i].quizid,c=this.quizResults[t].results[i].weight,u=this.quizResults[t].results[i].datasetid,l=this.quizResults[t].results[i].result,f=!1;switch(e){case"all":f=!0;break;case"failedscored":f="wrong"===l;break;case"unscored":f=!s;break;case"scored":default:f=s}f&&(-1===r.indexOf(this.quizResults[t].results[i].datasetid)&&r.push(this.quizResults[t].results[i].datasetid),this.quizResults[t].results[i]=this.getNewResultObject(o,s,a,c,u))}for(var p=0;p<r.length;p++)this.shell.config.dataSets[r[p]]&&"function"==typeof this.shell.config.dataSets[r[p]].reset&&this.shell.config.dataSets[r[p]].reset(e);this.shell.observer.notify(this.shell.events.QUIZ_RESET,{quizid:t})}},t.prototype.getResumeData=function(){var t=null,e={wrong:0,correct:1,neutral:2};for(var n in this.quizResults)if(this.quizResults.hasOwnProperty(n)){var r=!1,i={};for(var o in this.quizzes.hasOwnProperty(n)&&void 0!==this.quizzes[n].currentAttempt&&(i.a=this.quizzes[n].currentAttempt,r=!0),this.quizResults[n].results){var s=this.quizResults[n].results[o];s.percent<=-1||(i[o]=[s.percent,s.response,e[s.result],s.finished?1:0],r=!0)}r&&(t||(t={}),t[n]=i)}return t||""},t.prototype.setResumeData=function(t){if(t){var e=["wrong","correct","neutral"];for(var n in t)if(t.hasOwnProperty(n)&&(this.quizzes[n]&&t[n].a&&(this.quizzes[n].currentAttempt=t[n].a),this.quizResults[n]))for(var r in t[n])if("a"!==r&&this.quizResults[n].results[r]){var i=t[n][r];void 0!==i[0]&&(this.quizResults[n].results[r].percent=i[0]),void 0!==i[1]&&(this.quizResults[n].results[r].response=i[1]),void 0!==i[2]&&(this.quizResults[n].results[r].result=e[i[2]]),void 0!==i[3]&&(this.quizResults[n].results[r].finished=1===i[3])}this.shell.config.totalScore=this.getScore()}},t.prototype.findQuizIdFromResultId=function(t){for(var e in this.quizResults)for(var n in this.quizResults[e].results)if(n===t)return e},t.prototype.findStepFromResultId=function(){console.warn("Result manager: findStepFromResultId has been removed. Scored no longer stored on step. Use findQuizIdFromResultId.")},t.prototype.getQuizById=function(t){return this.quizzes[t]},t.prototype.getPreQuizIds=function(){var t=this;return Object.keys(this.quizzes).filter((function(e){return!!t.quizzes[e].pre}))},t}();!function(t){t.INITIAL="initial",t.FAILED="failed",t.PASSED="passed"}(hy||(hy={}));var vy,my=function(){function t(t){this.observer=t.observer,this.events=t.events,this._locked=!0,this.objectives={}}return t.prototype.getObjectiveById=function(t){return this.objectives[t]},t.prototype.getObjectives=function(){return this.objectives},t.prototype.getNewContributorObject=function(t,e){return{objid:t,cmpid:e.uid,component:e,status:hy.INITIAL}},t.prototype.addObjective=function(t){var e=t.id,n=t.name,r=t.status,i=t.passrate;this.objectives[e]={id:e,name:n,status:r,passrate:i,progress:0,contributors:{}}},t.prototype.addObjectiveContributor=function(t,e){if(t){this.objectives[t]||this.addObjective({id:t,name:"Objective "+t,status:hy.FAILED,passrate:100});var n=this.getNewContributorObject(t,e);this.objectives[t].contributors[n.cmpid]=n}},t.prototype.getObjectiveStatus=function(t){return t?this.objectives[t]?this.objectives[t].status:(alert("Objective error: attempted to get the status of an objective that no longer exists in the course."),null):null},t.prototype.updateObjectiveContributors=function(t,e,n){if(t&&e&&n)for(var r=0;r<e.length;r++)this.updateObjectiveContributor(e[r].objective,t,{status:n})},t.prototype.updateObjectiveContributor=function(t,e,n){this.objectives[t].contributors[e].status=n.status||hy.INITIAL;var r=this.updateObjective(t);r.prevprogress!==r.progress&&this.observer.notify(this.events.OBJECTIVE_PROGRESS,{objective:t,prevprogress:r.prevprogress,progress:r.progress})},t.prototype.updateObjective=function(t){var e=this.objectives[t],n=0,r=0;for(var i in e.contributors){if(e.contributors.hasOwnProperty(i))n++,e.contributors[i].status===hy.PASSED&&r++}var o=r/n*100;o=Math.min(Math.max(0,o),100);var s=e.status,a=e.progress;return e.status=o>=e.passrate?hy.PASSED:hy.FAILED,e.progress=o,s!==e.status&&e.status===hy.PASSED&&this.observer.notify(this.events.OBJECTIVE_COMPLETE,{objective:t,prevstatus:s,status:e.status,prevprogress:a,progress:e.progress}),{prevstatus:s,status:e.status,prevprogress:a,progress:e.progress}},t.prototype.reset=function(){var t=this;this._locked=!0,Object.keys(this.objectives).forEach((function(e){return t.resetObjective(e)}))},t.prototype.resetObjective=function(t){this.objectives[t].status=hy.FAILED,this.objectives[t].progress=0,Object.values(this.objectives[t].contributors).forEach((function(t){t.status=hy.FAILED}))},t.prototype.getObjectivesLocked=function(){return this._locked},t.prototype.unlockObjectives=function(){this._locked=!1},t.prototype.lockObjectives=function(){this._locked=!0},t.prototype.getResumeData=function(){var t=null,e={failed:0,passed:1};for(var n in this.objectives)if(this.objectives.hasOwnProperty(n)){var r=!1,i=void 0;this.objectives[n].progress>0&&(r=!0,i={p:this.objectives[n].progress,s:e[this.objectives[n].status||hy.FAILED]}),r&&(t||(t={}),t[n]=i)}return t&&(t.l=this._locked?1:0),t||""},t.prototype.setResumeData=function(t){if(t&&"string"!=typeof t){var e=[hy.FAILED,hy.PASSED];for(var n in t)"l"!==n&&this.objectives[n]&&t.hasOwnProperty(n)&&(this.objectives[n].progress=t[n].p,this.objectives[n].status=e[t[n].s]||e[0]);this._locked=0!==t.l}},t}(),yy=function(){function t(t){this.shell=t,this.handlebarstext=[],"Handlebars"in window&&this.setupHandlebars()}return t.prototype.forceUpdate=function(){this.helpersHandler()},t.prototype.setupHandlebars=function(){var t=this;Handlebars.registerHelper("settext",(function(e,n){return t.hb_helper_settext(e,n)})),Handlebars.registerHelper("translate",(function(e){return t.hb_helper_translate(e)})),Handlebars.registerHelper("ifequal",(function(e,n,r){return t.hb_helper_ifequal(e,n,r)})),Handlebars.registerHelper("ifnotequal",(function(e,n,r){return t.hb_helper_ifnotequal(e,n,r)}));var e=this.shell.events,n=e.PAGE_STRUCTURE_CHANGED,r=e.COMPONENTS_ADDED_TO_DOM;this.shell.observer.add(r,(function(){return t.helpersHandler()})),this.shell.observer.add(n,(function(){return t.helpersHandler()}))},t.prototype.helpersHandler=function(){if(this.handlebarstext.length)for(var t=this.handlebarstext.length-1;t>=0;t--){var e=$("[data-textid='"+this.handlebarstext[t].id+"']");if(e.length){if(this.handlebarstext[t].text){var n=$("<span class='innerText'></span>");this.shell.core.setText(n,this.handlebarstext[t].text,{dynamicvariables:this.handlebarstext[t].dynamicvariables}),e.replaceWith(n)}else e.remove();this.handlebarstext.splice(t,1)}}},t.prototype.hb_helper_settext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if("string"!=typeof t)return"";var r=this.shell.utils.simpleUid();return this.handlebarstext.push({id:r,text:t,dynamicvariables:e[0].data.root.dynamicvariables}),"<div class='handlebars-text-replace' data-textid='"+r+"'></div>"},t.prototype.hb_helper_translate=function(t){return this.shell.core.getTranslation(t)},t.prototype.hb_helper_ifequal=function(t,e,n){return t==e?n.fn(this):n.inverse(this)},t.prototype.hb_helper_ifnotequal=function(t,e,n){return t!=e?n.fn(this):n.inverse(this)},t}(),by=function(t){var e=t.xml,n=t.onProgress,r=t.onFile;return new Promise((function(t){var i=[],o=Array.from(e.find("file")),s=o.length,a=[];function c(t,e){return t.findIndex((function(t){return t.src.substring(0,t.src.lastIndexOf("."))===e}))}if(!s)return n(s),t();o.forEach((function(t){var e=$(t);i.push({src:e.attr("src"),resolution:parseFloat(e.attr("resolution")||"1")})}));for(var u={},l=0;l<i.length;l++)if(i[l].resolution>1){var f=i[l].src.split("@")[0];if(!u[f]){u[f]={files:[]};var p=c(i,f);p>-1&&u[f].files.push({file:i[p],index:p,resolution:i[p].resolution})}u[f].files.push({file:i[l],index:l,resolution:i[l].resolution})}if("matchMedia"in window)for(var d in u){u[d].files=u[d].files.sort((function(t,e){return t.resolution-e.resolution}));for(var h=!1,g=u[d].files.length-1;g>=0;g--){var v=u[d].files[g].file.resolution,m=window.matchMedia("(-webkit-min-device-pixel-ratio: "+v+"),(min-device-pixel-ratio: "+v+"),(min-resolution: "+96*v+"dpi),(min-resolution: "+v+"dppx)");h||!m.matches?a.push(u[d].files[g].index):h=!0}}else for(var d in u)for(g=0;g<u[d].files.length;g++)a.push(u[d].files[g].index);for(l=a.length-1;l>=0;l--)i.splice(a[l],1);var y=new createjs.LoadQueue(!0);y.addEventListener("progress",(function(t){return n(t.loaded*s)})),y.addEventListener("fileload",(function(t){return r(t)})),y.addEventListener("complete",(function(e){return y.removeAllEventListeners(),n(s),void t()})),y.addEventListener("error",(function(e){return y.removeAllEventListeners(),console.error("A preload error occurred. Make sure file listed in preload.xml exist in the course of project."),n(s),void t()})),y.loadManifest(i)}))};!function(t){t.INTRO="intro",t.MD="md",t.IT="it",t.RO="ro",t.AST="ast"}(vy||(vy={}));var _y=function(){function t(t){this.isInit=!1,this.loadProgress=0,this.loadtasks=[],this.ignoreCMPAttrs=["cmp","group","x","y","duration","bg","completionpoint","uid","nextsteptarget","indexed","locknext","lockback","retainscroll"],this.shell=t,this.parserExtensions=[]}return t.prototype.addParser=function(t){this.parserExtensions.push(t)},t.prototype.reset=function(){this.isInit=!1,this.loadProgress=0,this.shell.config.totalSteps=0,this.shell.config.currentStep=-1,this.shell.config.lastViewedStep=-1,this.shell.config.stepIDMap={},this.shell.config.resources=[],this.shell.config.stepData=[],this.shell.config.stepGroups={length:0},this.shell.config.dataSets={},this.shell.config.declarationsChecked={},this.shell.config.moduleSettings={},this.shell.config.extraData={},this.shell.config.history={currentLocation:0,steps:[]}},t.prototype.load=function(){return e(this,void 0,void 0,(function(){var t,e,r,i,o,s,a=this;return n(this,(function(n){switch(n.label){case 0:if(t=this.shell,e=t.config,r=t.events,i=r.INIT_LOAD_START,!0===this.isInit)throw new Error("Course already initialised.");return this.isInit=!0,this.shell.observer.notify(i,{progress:0}),void 0!==e.urlVars.authid&&((o=e.urlVars.authid).indexOf("http")>-1?(e.dataPath=decodeURI(o)+"/",e.globalPath=e.globalAuthortimePath):(e.dataPath="activitydata/"+decodeURI(o)+"/",e.globalPath=e.globalAuthortimePath)),this.loadtasks=["lang",0,1,"preload",0,1,"data",0,1,"templates",0,1],[4,Promise.all([this.loadSuspendData(),this.loadPreload().then((function(t){return t?a.preloadAssets(t):Promise.resolve()})),this.loadLanguages()])];case 1:s=n.sent()[0];try{e.initialSuspendData=s}catch(t){e.initialSuspendData=null}return[4,Promise.all([this.loadHTMLTemplates(),this.loadCourseData()])];case 2:return n.sent(),this.getResources(),[2]}}))}))},t.prototype.loadSuspendData=function(){var t=this;return new Promise((function(e){!0===t.shell.utils.hasModule("reporting")?t.shell.core.runModuleFunction("reporting","getStateData",[function(t,n){e(n||"")}]):e("")}))},t.prototype.loadLanguages=function(){return e(this,void 0,void 0,(function(){var t,e,r,i,o;return n(this,(function(n){switch(n.label){case 0:t=this.shell.config.defaultLanguage,e=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetch("data/language.js")];case 2:return r=n.sent(),e=JSON.parse(r),[3,4];case 3:return i=n.sent(),console.log(i),console.log("Course loader: No language data found. Attempting to load "+t),[3,4];case 4:return null!==e?this.applyLanguages(e.defaultLanguage,e.supports,e.translations):this.applyLanguages(t),[4,this.getSavedLanguage()];case 5:return(o=n.sent())&&(o=this.shell.utils.parseLangString(o),this.shell.config.supportedLanguages.includes(o)&&(this.shell.config.language=o)),this.setDocumentWritingMode(this.shell.config.language),this.updateProgress("lang",1),[2]}}))}))},t.prototype.getSavedLanguage=function(){var t=this;return new Promise((function(e){t.shell.utils.hasModule("reporting")?t.shell.core.runModuleFunction("reporting","getLanguage",[function(t,n){return e(n||"")}]):e("")}))},t.prototype.setDocumentWritingMode=function(t){document.documentElement.lang=t.toLowerCase().split("_")[0]||"en",this.isRTLLang(t)?document.documentElement.classList.add("lang-rtl"):document.documentElement.classList.remove("lang-rtl")},t.prototype.applyLanguages=function(t,e,n){if(null===this.shell.config.language){this.shell.config.language=t;var r=this.shell.config.urlVars;void 0!==r.lang&&(this.shell.config.language=r.lang),n&&Object.keys(n).length&&(this.shell.config.translation=n),e&&e.length>0?this.shell.config.supportedLanguages=e:this.shell.config.supportedLanguages=[t]}},t.prototype.isRTLLang=function(t){void 0===t&&(t="en_AU");return["ar","ara","arc","ae","ave","egy","he","heb","nqo","pal","phn","sam","syc","syr","fa","per","fas","ku","kur"].includes(t.toLowerCase().split("_")[0])},t.prototype.loadHTMLTemplates=function(){return e(this,void 0,Promise,(function(){var t,e,r,i,o,s,a,c=this;return n(this,(function(n){switch(n.label){case 0:return t=this.shell.config,e=t.components,r=t.environment,(i=[]).push(this.fetchHTML("templates/templates.html")),r!==Xm.PROD&&(o=[],Object.keys(e).filter((function(t){return"_super"!==t})).forEach((function(t){c.loadtasks[c.loadtasks.indexOf("templates")+2]+=2,o.push(c.fetchHTML("../../../../global/components/cmp_"+t+"/cmp_"+t+".hbs")),o.push(c.fetchHTML("components/cmp_"+t+"/cmp_"+t+".html"))})),i=i.concat(o)),[4,Promise.all(i)];case 1:return s=n.sent(),(a=s.shift()||"")&&this.shell.core.addHTMLTemplates(a),s.forEach((function(t,e){e%2==0?c.shell.core.addHTMLTemplates(t,!0):c.shell.core.addHTMLTemplates(t)})),this.checkLoadProgress(),[2]}}))}))},t.prototype.loadPreload=function(){return e(this,void 0,Promise,(function(){var t,e,r;return n(this,(function(n){switch(n.label){case 0:t=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetch("data/preload.xml")];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[2,null];case 4:return e=$(t),(r=e.find("file")).length?(this.loadtasks[this.loadtasks.indexOf("preload")+2]=r.length,[2,e]):(this.updateProgress("preload",1),[2,null])}}))}))},t.prototype.preloadAssets=function(t){return e(this,void 0,void 0,(function(){var e=this;return n(this,(function(n){switch(n.label){case 0:return t?[4,by({xml:t,onProgress:function(t){e.updateProgress("preload",t)},onFile:function(t){e.shell.config.preloadAssetCache[t.item.src]=t.result}})]:[2];case 1:return n.sent(),[2]}}))}))},t.prototype.loadCourseData=function(){return e(this,void 0,void 0,(function(){var t,e;return n(this,(function(n){switch(n.label){case 0:t=this.shell.config.language,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetch(this.shell.core.getAssetPath("data.xml","data/"+t))];case 2:return e=n.sent(),[3,4];case 3:throw n.sent(),new Error("Data is not available for the requested language.");case 4:return this.parseComponentsXML(e),this.updateProgress("data",1),[2]}}))}))},t.prototype.getResources=function(){var t=this,e=this.shell.config,n=e.stepData,r=e.resources;n.reduce((function(t,e){return t.concat(e.resources)}),[]).forEach((function(e){if(e.src){var n=t.getResourceIndex(e);-1===n?r.push(e):r[n].step+=" "+e.step}}))},t.prototype.fetch=function(t,e){return void 0===e&&(e=!1),new Promise((function(n,r){$.ajax({url:t,dataType:"text",cache:e}).done((function(t){n(t)})).fail((function(t){if("parsererror"===t.responseText)return r(new Error("There is a JSON error in the language.js file."));r(t)}))}))},t.prototype.fetchHTML=function(t){return e(this,void 0,Promise,(function(){var e;return n(this,(function(n){switch(n.label){case 0:e="",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.fetch(t)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return this.updateProgress("templates",this.loadtasks[this.loadtasks.indexOf("templates")+1]+1),[2,e]}}))}))},t.prototype.parseComponentsXML=function(t){var e=this,n=$.parseXML(t),r=$(n).find("module"),i=this.shell.config,o=this.shell.utils.getNodeAttributesAsObject(r[0],!0);i.moduleTitle=o.moduleTitle,i.moduleID=o.moduleId||"0",i.lockout=!0===o.lockout,i.scormCommit=!1!==o.scormcommit&&i.scormCommit,i.globalPass=void 0===o.globalPass?i.globalPass:o.globalPass,i.scoreType=o.scoreType||i.scoreType,i.navigationMode=o.navMode||i.navigationMode,i.compressSuspendData=!1!==o.compressSuspendData,i.statusMode=o.statusMode||0,i.negativeMarking=!0===o.negativeMarking,i.theme=o.theme||"",i.disableskip=!0===o.disableSkip,i.rememberPageHistory=!1!==o.rememberPageHistory;var s=r.find("> themeconfig")[0];i.themeconfig=s?this.shell.utils.getNodeAttributesAsObject(s,!0):{},i.references=JSON.parse(r.find("> references").text()||"[]"),i.references.unshift({buffer:"",uid:"-",text:""}),i.glossary=JSON.parse(r.find("> glossary").text()||"[]"),i.glossary.forEach((function(t){var e="g"+(t.matchCase?"":"i"),n="text"===t.type&&t.matchWord?"\\b":"";t.find=new RegExp(""+n+t.find+n,e)})),this.shell.core.printing.updatePage(0,"",!1),Array.from(r[0].attributes).forEach((function(t){i.moduleSettings[t.name]=t.value})),Array.from(r.find("> extras").find("> *")).forEach((function(t){var e=$(t)[0],n=e.nodeName;i.extraData[n]={text:$(t).text(),attributes:{}},Array.from(e.attributes).forEach((function(t){i.extraData[n].attributes[t.name]=t.value}))})),window.document.title=$("<div>"+i.moduleTitle+"</div>").text(),i.theme&&$("html").addClass("theme-"+i.theme);var a=Array.from(r.find("groups > group"));a.length>0?a.map((function(t){return $(t)})).forEach((function(t,e){var n=t.attr("id")+"";i.stepGroups[n]={index:e,id:n,name:t.attr("name")||"",visited:!1,complete:!1,enabled:"true"===t.attr("enabled")},i.stepGroups.length+=1})):(i.stepGroups.default={index:0,id:"default",name:"Main",visited:!0,complete:!1,enabled:!0},i.stepGroups.length=1);var c=Array.from(r.find("quizzes > quiz"));c.length>0&&c.map((function(t){return $(t)})).forEach((function(t){var n=t.attr("id");n&&e.shell.core.resultManager.addQuiz(n,{id:t.attr("id")||"",name:t.attr("name")||"",weight:parseFloat(t.attr("weight")||"1"),pre:t.attr("pre")||!1,passRate:parseFloat(t.attr("passrate")||"80"),includeInTotal:"false"!==t.attr("includeintotal"),attempts:parseInt(t.attr("attempts")||"0",10),currentAttempt:1,questions:0})}));var u=Array.from(r.find("objectives > objective"));u.length>0&&u.map((function(t){return $(t)})).forEach((function(t){var n=t.attr("id");n&&e.shell.core.objectiveManager.addObjective({id:n,name:t.attr("name")||"",status:"failed",passrate:100})}));var l=Array.from(r.find("resources > resource"));l.length>0&&l.map((function(t){return $(t)})).forEach((function(t){var e=t.attr("src");e&&i.resources.push({src:e,name:t.attr("name")||e,category:t.attr("category")||"none",step:t.attr("page")||""})})),Array.from(r.find("> swatches").find("swatch")).map((function(t){return $(t)})).forEach((function(t){var e=t.attr("uid");if(e){var n=t.attr("value")||"",r=t.attr("name")||"";i.swatches[e]={value:n,name:r,uid:e}}})),Array.from(r.find("> expressions").find("expression")).map((function(t){return $(t)})).forEach((function(t){var e=t.text(),n=new Function("val","return ( "+e+" )");if("js"===t.attr("type")){var r=t.attr("name");r&&(i.expressions[r]=n)}})),Array.from(r.find("> variables").find("variable")).map((function(t){return $(t)})).forEach((function(t){var n=t.attr("name");if(n){var r=t.attr("initialValue")||"";if("sys"===t.attr("type"))i.sysVariableUserSet[n]=e.shell.utils.guessType(r);else if(i.userVariables[n]=r,e.shell.utils.hasModule("dataBinding")){var o=new(0,e.shell.core.modules.dataBinding.BindableElementData)(n),s=t.attr("getter"),a=t.attr("setter");void 0!==a&&""!==a&&o.defineSetter(i.expressions[a]),void 0!==s&&""!==s&&o.defineGetter(i.expressions[s]),o.set("value",i.userVariables[n]),o.initialValue=r,i.userVariables[n]=o}}}));var f=Array.from(r.find("> page"));i.totalSteps=f.length-1;var p=f.shift();this.parseIntroXML($(p)),f.forEach((function(t,n){var r=e.createStepFromNode({id:n+1,node:$(t)});i.stepData[n+1]=r,void 0!==r.stepOptions.id&&(i.stepIDMap[r.stepOptions.id]=n+1),e.parseCMPXML($(t),n+1)}));var d=r.find("> datasets");this.parseDatasetXML($(d)),this.parserExtensions.forEach((function(t){return t(r,i)}))},t.prototype.parseIntroXML=function(t){var e=this.shell.utils.getNewStepData();if(e.id=0,e.uniqueDiv="cmp0",e.type=vy.INTRO,e.title=t.attr("title")||this.shell.core.getTranslation("Introduction"),e.template=t.attr("cmp")||"introduction",e.indexed="true"===(t.attr("indexed")||"true"),e.group=t.attr("group")||"0",e.visited=!0,e.complete=!e.template.startsWith("modular_"),e.classList=t.attr("classlist")||"",e.xml=t,e.references=(t.attr("references")||"").split(",").filter((function(t){return""!==t})),t.attr("actions")){var n=t.attr("actions")||"{}";try{e.actions.push({element:"#cmp0",uid:"intropage",actions:JSON.parse(n)})}catch(t){console.log(t),console.log(n)}}this.shell.config.stepData[0]=e},t.prototype.parseCMPXML=function(t,e){var n=this;if(this.shell.config.stepData[e].id=e,this.shell.config.stepData[e].uniqueDiv="cmp"+e,this.shell.config.stepData[e].xml=t,this.shell.config.stepData[e].step=this.parseStepData(this.shell.config.stepData[e].type,t),this.shell.config.stepData[e].references=(t.attr("references")||"").split(",").filter((function(t){return""!==t})),this.shell.config.stepData[e].resources=[],this.shell.config.stepData[e].actions=[],this.shell.core.printing.updatePage(e,"",!1),t.find("modulesettings").find("> *").each((function(t,r){var i=$(r).get(0),o=i.nodeName;n.shell.config.stepData[e].moduleSettings[o]={text:$(r).text(),attributes:{}},$.each(i.attributes,(function(t,r){n.shell.config.stepData[e].moduleSettings[o].attributes[r.name]=r.value}))})),t.attr("actions")){var r=t.attr("actions")||"{}";try{this.shell.config.stepData[e].actions.push({element:"#cmp"+e,uid:this.shell.config.stepData[e].stepOptions.id||e,actions:JSON.parse(r)})}catch(t){console.log(t),console.log(r)}}},t.prototype.parseDatasetXML=function(t){for(var e,n,r,i=this.shell.config,o=t.find("dataset"),s=0;s<o.length;s++)if(r=(e=$(o[s])).attr("type"),n=e.attr("uid"),r&&n)if(r=r.toLowerCase(),i.datasetParsers[r]&&"function"==typeof i.datasetParsers[r].parse){var a=i.datasetParsers[r].parse(o[s]);i.dataSets[n]=new i.datasetParsers[r].control(a)}else console.log("Shell.js::parseDatasetXML - no dataset parser found for type: ["+r+"]");else console.log("Shell.js::parseDatasetXML - Dataset is missing 'type' or 'uid' props.")},t.prototype.createStepFromNode=function(t){var e=this,n=t.node,r=t.id,i=this.shell.utils.getNewStepData();(i.title=n.attr("title")||"",i.template=n.attr("cmp")||"standard_md",i.guid=n.attr("uid")||""+r,i.group=n.attr("group")||"0",i.isCompletionPoint="true"===n.attr("completionpoint"),i.background=n.attr("bg")||null,i.nextStepTarget=n.attr("nextsteptarget")||null,i.lockNext="true"===n.attr("locknext"),i.forceLockNext="true"===n.attr("forcelocknext"),i.lockBack="true"===n.attr("lockback"),i.forceLockBack="true"===n.attr("forcelockback"),i.indexed="false"!==n.attr("indexed"),i.retainScrollPos="true"===n.attr("retainscroll"),i.classList=n.attr("classlist")||"",i.transform.x=parseFloat(n.attr("x")||"0"),i.transform.y=parseFloat(n.attr("y")||"0"),i.time.duration=parseFloat(n.attr("duration")||"0"),i.labels=(n.attr("labels")||"").split(","),i.nextStepTarget)&&("["===i.nextStepTarget.charAt(0)?(i.nextStepTargets=JSON.parse(i.nextStepTarget),i.nextStepTargets&&i.nextStepTargets.length&&(i.nextStepTarget=i.nextStepTargets[0].page)):i.nextStepTargets=null);var o=i.template.split("_");i.type=o[o.length-1];var s=Array.from(n[0].attributes);return s.filter((function(t){return t.name.startsWith("gui-")})).forEach((function(t){i.gui[t.name.substring(4)]=e.shell.utils.guessType(t.value)})),s.filter((function(t){return!e.ignoreCMPAttrs.includes(t.name)})).forEach((function(t){return i.stepOptions[t.name]=t.value})),i},t.prototype.parseStepData=function(t,e){return this.shell.config.stepDataParsers[t]?this.shell.config.stepDataParsers[t](e):{}},t.prototype.getResourceIndex=function(t){return this.shell.config.resources.findIndex((function(e){return e.name===t.name&&e.src===t.src}))},t.prototype.getLoadProgress=function(){var t=this.loadtasks.filter((function(t){return"number"==typeof t}));return t.filter((function(t,e){return e%2==0})).reduce((function(t,e){return t+e}),0)/t.filter((function(t,e){return e%2==1})).reduce((function(t,e){return t+e}),0)},t.prototype.updateProgress=function(t,e){this.loadtasks[this.loadtasks.indexOf(t)+1]=e,this.checkLoadProgress()},t.prototype.checkLoadProgress=function(){var t=this.shell.events.INIT_LOAD_PROGRESS,e=this.getLoadProgress();e>this.loadProgress&&(this.loadProgress=e,this.shell.observer.notify(t,{progress:e}))},t}(),wy=function(){function t(t){this.shell=t}return t.prototype.getCourseState=function(){var t=this.shell.config,e=t.stepData,n=t.initialSuspendData,r=t.shellVersion,i=t.colourMode,o=t.audio,s=t.lockout,a=t.dataSets,c=t.stepGroups,u=t.navigationMode,l=t.rememberPageHistory,f=t.history,p=t.userVariables,d=t.compressSuspendData,h=t.compressionVersion,g=t.declarationsChecked,v={};if(n)try{v=JSON.parse(n)}catch(t){v={}}v.v=r,v.c={cm:i,a:o?1:0,lk:s?1:0},v.s=[];for(var m=0;m<e.length;m++){var y={};if(y.v=!0===e[m].visited?1:0,y.c=!0===e[m].complete?1:0,y.ln=!0===e[m].lockNext?1:0,y.lb=!0===e[m].lockBack?1:0,e[m].retainScrollPos&&(y.scx=e[m].scrollX,y.scy=e[m].scrollY),e[m].studentConfig&&Object.keys(e[m].studentConfig).length&&(y.sc=e[m].studentConfig),e[m].nextStepTarget&&(y.nt=e[m].nextStepTarget),e[m].component&&"function"==typeof e[m].component.getResumeData){var b=e[m].component.getResumeData();b&&(y.td=b)}v.s.push(y)}for(var _ in a)if(a[_].canSaveState()){var w=a[_].getResumeData();w&&(v.ds||(v.ds={}),v.ds[_]=w)}for(var E in this.shell.modules)if("function"==typeof this.shell.modules[E].getResumeData){var S=this.shell.modules[E].getResumeData();S&&(v.m||(v.m={}),v.m[E]=S)}for(var x in v.sg={},c)if("length"!==x&&c.hasOwnProperty(x)){var O=c[x];v.sg[x]=[!0===O.visited?1:0,!0===O.complete?1:0,!0===O.enabled?1:0]}if(u!==ty.NORMAL&&l){v.hst=[];for(var C=0;C<f.steps.length;C++)v.hst.push(f.steps[C].step)}for(var k in p)p.hasOwnProperty(k)&&(v.vrs||(v.vrs={u:{}}),!0===this.shell.utils.hasModule("dataBinding")?v.vrs.u[k]=p[k].get("value"):v.vrs.u[k]=p[k]);for(var T in g)g.hasOwnProperty(T)&&(v.dcl||(v.dcl={}),v.dcl[T]=g[T]?1:0);var I=this.shell.core.resultManager.getResumeData();I?v.rslt=I:void 0!==v.rslt&&delete v.rslt;var A=this.shell.core.objectiveManager.getResumeData();for(var D in A?v.obj=A:void 0!==v.obj&&delete v.obj,this.shell.config.state)this.shell.config.state.hasOwnProperty(D)&&this.shell.config.state[D].persistent&&(v.st||(v.st=[]),v.st.push([D,this.shell.config.state[D].value,this.shell.config.state[D].resettable]));var P=JSON.stringify(v);return this.shell.config.initialSuspendData=P,d&&(P=this.shell.utils.suspendData.compress(P,h)),P},t.prototype.setCourseState=function(t){var e=this,n=this.shell.config.initialSuspendData;if(n&&t){var r;if("string"==typeof n){if("@"===t.charAt(0)&&(t=this.shell.utils.suspendData.inflate(t)),!t)return void(this.shell.config.initialSuspendData=null);try{r=JSON.parse(t)}catch(e){console.error("setCourseState: Error parsing JSON",t),r="error"}if("error"===r)return void(this.shell.config.initialSuspendData=null);this.shell.config.initialSuspendData=r}switch(r.v){case"1.2.0":r.c&&(this.shell.config.audio=1===r.c.a,this.shell.config.colourMode=r.c.cm||fy.COLOUR_MODE_STANDARD,this.shell.config.lockout=r.c.lk||this.shell.config.lockout);for(var i=0;i<r.s.length;i++)if(void 0!==this.shell.config.stepData[i]&&(this.shell.config.stepData[i].visited=1===r.s[i].v,this.shell.config.stepData[i].lockNext=1===r.s[i].ln,this.shell.config.stepData[i].lockBack=1===r.s[i].lb,r.s[i].scx&&(this.shell.config.stepData[i].scrollX=r.s[i].scx),r.s[i].scy&&(this.shell.config.stepData[i].scrollY=r.s[i].scy),r.s[i].d&&(this.shell.config.stepData[i].data=r.s[i].d),r.s[i].sc&&(this.shell.config.stepData[i].studentConfig=r.s[i].sc),r.s[i].nt&&(this.shell.config.stepData[i].nextStepTarget=r.s[i].nt),1===r.s[i].c&&this.shell.core.setStepComplete(i),r.s[i].td)){var o=this.shell.config.stepData[i].component;o&&"function"==typeof o.setResumeData&&o.setResumeData(r.s[i].td)}if(r.ds)for(var s in r.ds)this.shell.config.dataSets[s]&&this.shell.config.dataSets[s].canSaveState()&&this.shell.config.dataSets[s].setResumeData(r.ds[s]);if(r.m)for(var a in r.m)this.shell.modules[a]&&"function"==typeof this.shell.modules[a].setResumeData&&this.shell.modules[a].setResumeData(r.m[a]);if(r.sg)for(var c in r.sg)if(this.shell.config.stepGroups[c]){var u=this.shell.config.stepGroups[c];u.visited=1===r.sg[c][0],u.complete=1===r.sg[c][1],u.enabled=1===r.sg[c][2]}if(r.hst)for(i=0;i<r.hst.length;i++)this.shell.config.history.steps.push({step:r.hst[i]});if(r.vrs&&r.vrs.u)for(var l in r.vrs.u)r.vrs.u.hasOwnProperty(l)&&this.shell.core.setUserVariable(l,r.vrs.u[l]);if(r.dcl)for(var f in r.dcl)r.dcl.hasOwnProperty(f)&&(this.shell.config.declarationsChecked[f]=1===r.dcl[f]);r.rslt&&this.shell.core.resultManager.setResumeData(r.rslt),r.obj&&this.shell.core.objectiveManager.setResumeData(r.obj),r.st&&r.st.forEach((function(t){var n=t[0],r=t[1],i=t[2];e.shell.config.state[n]={key:n,value:r,resettable:i,persistent:!0}}));break;case"1.1.0":r.c&&(this.shell.config.audio=1===r.c.a,this.shell.config.colourMode=r.c.cm||fy.COLOUR_MODE_STANDARD,this.shell.config.lockout=r.c.lk||this.shell.config.lockout);for(i=0;i<r.s.length;i++)if(void 0!==this.shell.config.stepData[i]){if(this.shell.config.stepData[i].visited=1===r.s[i].vs,this.shell.config.stepData[i].studentConfig=r.s[i].scn,this.shell.config.stepData[i].nextStepTarget=r.s[i].nst,this.shell.config.stepData[i].lockNext=1===r.s[i].lkn,this.shell.config.stepData[i].lockBack=1===r.s[i].lkb,this.shell.config.stepData[i].data=r.s[i].dt,1===r.s[i].cm&&this.shell.core.setStepComplete(i),r.s[i].itm)for(var p=0;p<r.s[i].itm.length;p++)this.shell.config.stepData[i].step.items[p].enabled=1===r.s[i].itm[p].e;r.s[i].td&&"function"==typeof this.shell.config.stepData[i].component.setResumeData&&this.shell.config.stepData[i].component.setResumeData(r.s[i].td)}for(var s in r.ds)this.shell.config.dataSets[s]&&this.shell.config.dataSets[s].canSaveState()&&this.shell.config.dataSets[s].setResumeData(r.ds[s].r);for(var a in r.m)this.shell.modules[a]&&"function"==typeof this.shell.modules[a].setResumeData&&this.shell.modules[a].setResumeData(r.m[a]);if(r.hst)for(i=0;i<r.hst.length;i++)this.shell.config.history.steps.push({step:r.hst[i].s});if(r.vrs&&r.vrs.u)for(var l in r.vrs.u)r.vrs.u.hasOwnProperty(l)&&this.shell.core.setUserVariable(l,r.vrs.u[l]);if(r.qz)for(var d in r.qz)r.qz.hasOwnProperty(d)&&(this.shell.core.resultManager.getQuizById(d).currentAttempt=r.qz[d].a);r.rslt&&this.shell.core.resultManager.setResumeData(r.rslt),r.obj&&this.shell.core.objectiveManager.setResumeData(r.obj)}}},t}(),Ey=function(){function t(t){this.shell=t}return t.prototype.nextPage=function(){var t=this.shell.config,e=t.stepData,n=t.currentStep,r=e[n].nextStepTarget;if(null!==r){if("string"==typeof r&&0===r.indexOf("group:")){var i=this.getFirstPageInGroup(r.substring(6));return void 0===i?n:i}var o=this.shell.utils.determineStepNumber(r);return void 0!==o?o:n}var s=this.getNextAvailablePage(n+1);return s!==n?s:n},t.prototype.previousPage=function(){var t=this.shell.config,e=t.navigationMode,n=t.currentStep,r=t.stepData,i=t.stepGroups,o=t.history,s=n;switch(e){case ty.NORMAL:for(s=n-1;s>0&&r[s]&&!1===i[r[s].group].enabled;)s--;return s;case ty.LINHIST:case ty.BRANCH:if(o.steps.length>0)return o.steps.pop().step}return n},t.prototype.gotoPage=function(t){var e=this.shell.utils.determineStepNumber(t);return void 0!==e?e:this.shell.config.currentStep},t.prototype.lastViewedPage=function(){var t=this.shell.config.lastViewedStep;if(t>-1)return t},t.prototype.getNextAvailablePage=function(t){void 0===t&&(t=0);for(var e=this.shell.config,n=e.totalSteps,r=e.stepGroups,i=e.stepData,o=Math.max(0,this.shell.config.currentStep),s=t,a=!1;s<n;){var c=r[i[s].group];if(!c||!1!==c.enabled)break;++s===n-1&&(a=!0)}return a?o:s},t.prototype.isNextPageAvailable=function(){var t=this.shell.config,e=t.stepData,n=t.currentStep,r=t.navigationMode,i=t.stepGroups,o=t.totalSteps,s=t.lockout,a=e[n];if(e[n].lockNext)return!1;var c,u=e[n].nextStepTarget;if(null!==u){var l=n;if(l="string"==typeof u&&u.startsWith("group:")?this.getFirstPageInGroup(u.substring(6)):this.shell.utils.determineStepNumber(u)){if(!e[l])return!1;if(i[e[l].group].enabled)return!0}}switch(r){case ty.LINHIST:case ty.NORMAL:for(c=n+1;c<=o;)if(i[e[c].group].enabled){if(!s)return!0;if(a.complete)return!0;c++}else c++;break;case ty.BRANCH:for(c=n+1;c<=o;)if(e[n].group!==e[c].group)c++;else{if(!s)return!0;if(a.complete)return!0;c++}}return!1},t.prototype.isPreviousPageAvailable=function(){var t=this.shell.config,e=t.navigationMode,n=t.currentStep,r=t.stepGroups,i=t.stepData,o=t.history;switch(e){case ty.NORMAL:return!!(n-1>=0&&r[i[n-1].group].enabled);case ty.LINHIST:case ty.BRANCH:return o.steps.length>0}return!1},t.prototype.nextGroup=function(){var t=this.shell.config,e=t.stepGroups,n=void 0,r=e[t.stepData[t.currentStep].group].index;for(var i in e)if("length"!==i&&e[i].index===r+1){n=i;break}return n},t.prototype.previousGroup=function(){var t=this.shell.config,e=t.stepGroups,n=void 0,r=e[t.stepData[t.currentStep].group].index;for(var i in e)if("length"!==i&&e[i].index===r-1){n=i;break}return n},t.prototype.gotoGroup=function(t){var e=this.shell.config.currentStep,n=this.getFirstPageInGroup(t);return void 0!==n?n:e},t.prototype.getFirstPageInGroup=function(t){var e=this.shell.config,n=e.stepData,r=e.stepGroups;if(r[t]&&r[t].enabled){var i=n.find((function(e){return e.group===t}));return i?i.id:void 0}},t}();var Sy=function(){function t(t){this.shell=t,this.cache={},this.queue=[]}return t.prototype.clearCache=function(){this.cache={}},t.prototype.queueMountedComponents=function(t){this.queue=this.queue.concat(t)},t.prototype.notifyMountedComponents=function(){var t=this.shell,e=t.observer,n=t.events;e.notify(n.COMPONENTS_ADDED_TO_DOM,{components:r(this.queue)}),this.queue.length=0},t.prototype.render=function(t){var e,n,i,o,s=this,a=t.scope,c=t.renderid,u=t.pageid,l=t.domtarget,f=t.sectionsdata,p=t.resumedata,d=t.done,h=!1;a&&l.attr("data-cmpscope",a),this.cache[c]?(n=this.cache[c]).forEach((function(t){var e=t.element();!0===s.shell.core.checkDisplayConditions(t.getData().conditions).active?(t.load(),l.append(e)):(t.deactivate(),e.detach())})):(h=!0,e=this.renderToDom({resumedata:p,pageid:u,domtarget:l,sections:f,scope:a}),n=e[0],i=e[1],o=e[2],this.cache[c]=n);var g=this;setTimeout((function(){"function"==typeof d?(g.queueMountedComponents(function t(e){return e.map((function(e){var n=e.component?e.component:e,r=[n.data.uid];return n.children&&(r=r.concat(t(n.children))),r})).reduce((function(t,e){return r(e,t)}),[])}(n)),d({initialRender:h,loadedSections:n,loadedBlocks:i,loadedComponents:o})):console.error("ComponentRenderer: No 'done' callback provided to render()")}),10)},t.prototype.renderToDom=function(t){var e=this,n=t.resumedata,r=t.pageid,i=t.domtarget,o=t.sections,s=t.scope,a=o.map((function(t){return e.renderSection({resumedata:n,pageid:r,domtarget:i,section:t})})),c=a.map((function(t){return t.pop()})).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return void 0!==t})),u=c.map((function(t){return t.pop()})).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return void 0!==t})),l=a.reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return void 0!==t})),f=c.reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return void 0!==t})),p=this;return l.forEach((function(t,e){t.parent=function(){return{scope:s,parent:function(){return r},updateActiveChild:function(t){p.updateActiveChild(t,i,e?l.slice(0,e):[])}}}})),[l,f,u]},t.prototype.renderSection=function(t){var e=this,n=t.resumedata,r=t.pageid,i=t.domtarget,o=t.section;o.pageid=r;var s=this.shell.core.createSection(o.type||"section");this.shell.config.componentRegistry[o.uid]=s;var a=s.initialise(null,o),c=o.blocks.map((function(t){return e.renderBlock({resumedata:n,pageid:r,parent:s,block:t})}));return!0===this.shell.core.checkDisplayConditions(o.conditions).active?(s.load(),s.isComplete(),i.append(a)):s.deactivate(),[s,c]},t.prototype.renderBlock=function(t){var e=t.resumedata,n=t.pageid,r=t.parent,i=t.block;i.pageid=n;var o=this.shell.core.createBlock(i.type);this.shell.config.componentRegistry[i.uid]=o,r.addBlock(null,o,i);for(var s=[],a=0;a<i.components.length;a++){var c=i.components[a];s.push(this.renderComponent({resumedata:e,pageid:n,parent:o,component:c}))}return[{block:o,uid:i.uid},s]},t.prototype.renderComponent=function(t){var e=t.resumedata,n=t.pageid,r=t.parent,i=t.component;if(this.shell.core.hasComponent(i.type)){i.pageid=n;var o=this.shell.core.createComponent(i.type);return this.shell.config.componentRegistry[i.uid]=o,o&&(e[i.uid]&&o.setResumeData(e[i.uid]),r.addComponent(null,o,i)),{component:o,uid:i.uid}}},t.prototype.updateActiveChild=function(t,e,n){var r=t.getData(),i=this.shell.core.checkDisplayConditions(r.conditions),o=t.element();if(!0===i.active){if(!t.wrapper){var s=$("<div class='cmp_section'></div>");r.span&&s.attr("data-span",r.span),t.wrapper=s}if(n&&n.length){var a=n.map((function(t){return t.element()[0]})).filter((function(t){return!!t})).reverse().find((function(t){return document.body.contains(t)}));a?$(a).after(o):e.prepend(o)}else e.prepend(o);t.load()}else t.deactivate(),t.element().detach()},t}(),xy=["input","label[for]","select","button","textarea","a[href]","object[usemap]","iframe","object","embed","keygen","[contenteditable]","audio[controls]","video[controls]","[tabindex]"].join(", "),Oy=function(){function t(t){var e=this;this.shell=t,this.inertElementStack=[],this.inertElementList=[],this.a11ybutton=this.getA11yButton(),this.focussableSelectors=xy,t.observer.add(t.events.STEP_READY,(function(){return e.filterDetachedElements()}))}return t.prototype.createAnnouncer=function(){var t=this;return new Promise((function(e){t.announcer=document.createElement("div"),t.announcer.setAttribute("aria-live","assertive"),t.announcer.style.cssText="height: 1px !important;\n        width: 1px !important;\n        padding: 0 !important;\n        border: 0 !important;\n        position: absolute !important;\n        clip: rect(1px, 1px, 1px, 1px);\n        clip-path: inset(1px 1px 1px 1px);\n        white-space: nowrap;\n        overflow: hidden;\n        opacity: 0;",document.body.appendChild(t.announcer),setTimeout(e,100)}))},t.prototype.announceMessage=function(t,r){return void 0===r&&(r={}),e(this,void 0,Promise,(function(){return n(this,(function(e){switch(e.label){case 0:return t?this.announcer?[3,2]:[4,this.createAnnouncer()]:[2];case 1:e.sent(),e.label=2;case 2:return this.shell.core.setText(this.announcer,t,{dynamicvariables:r}),[2]}}))}))},t.prototype.filterDetachedElements=function(){var t=this;this.inertElementList=this.inertElementList.filter((function(e){return!!e&&t.isInDOM(e.element)})),this.filterElementsFromStack((function(e){return!!e&&t.isInDOM(e.element)})),this.inertElementStack=this.inertElementStack.filter((function(t){return!!t.length}))},t.prototype.filterElementsFromStack=function(t){"function"==typeof t&&(this.inertElementStack=this.inertElementStack.map((function(e){return e.filter(t)})))},t.prototype.isInDOM=function(t){return t!==document.body&&document.body.contains(t)},t.prototype.getA11yButton=function(){return this.a11ybutton||document.querySelector("button.enable-accessibility")},t.prototype.makeModal=function(t){var e=this;if(t)if(t.parentElement===document.body){var n=[];Array.prototype.slice.call(document.body.children).forEach((function(r){if(r!==t&&r!==e.getA11yButton()){if(e.isFocussable(r)&&!e.isInert(r)){var i=e.makeInert(r);i&&n.push(i)}n=n.concat(e.makeChildrenInert(r))}})),this.inertElementStack.push(n)}else console.warn("A11y::makeModal element must be a direct child of <body>")},t.prototype.releaseModal=function(){var t=this,e=this.inertElementStack.pop();e&&e.forEach((function(e){return t.makeActive(e)}))},t.prototype.makeSubtreeInert=function(t){t&&(this.makeInert(t),this.makeChildrenInert(t))},t.prototype.makeSubtreeActive=function(t){t&&(this.makeActive(t),this.makeChildrenActive(t))},t.prototype.makeChildrenInert=function(t){var e=this;if(!t)return[];var n=t.querySelectorAll(this.focussableSelectors),r=[];return Array.prototype.slice.call(n).forEach((function(t){if(t!==e.getA11yButton()&&!e.isInert(t)){var n=e.makeInert(t);n&&r.push(n)}})),r},t.prototype.makeChildrenActive=function(t){var e=this;if(t){var n=t.querySelectorAll(this.focussableSelectors);Array.prototype.slice.call(n).forEach((function(t){return e.makeActive(t)}))}},t.prototype.makeInert=function(t){if(t){var e,n=this.inertElementList.findIndex((function(e){return e.element===t}));return(e=n>-1?this.inertElementList[n]:{tabindex:null,ariahidden:null,role:null,element:t}).tabindex=this.getTabIndex(t),e.ariahidden=t.getAttribute("aria-hidden"),e.role=t.getAttribute("role"),e.element=t,t.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true"),t.setAttribute("role","presentation"),this.inertElementList.push(e),e}},t.prototype.makeActive=function(t,e){if(void 0===e&&(e=!1),t){if(t instanceof HTMLElement||t instanceof SVGElement){var n=this.inertElementList.find((function(e){return e.element===t}));if(!n)return;t=n}var r=t.element,i=t.tabindex,o=t.ariahidden,s=t.role;null===i||e?r.removeAttribute("tabindex"):r.setAttribute("tabindex",""+i),null===o||e?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",o),null===s||e?r.removeAttribute("role"):r.setAttribute("role",s);var a=this.inertElementList.indexOf(t);a>-1&&this.inertElementList.splice(a,1),e&&this.filterElementsFromStack((function(t){return t.element!==r}))}},t.prototype.isInert=function(t){if(t){var e=this.getTabIndex(t);if(null!==e){var n=t.getAttribute("aria-hidden"),r=t.getAttribute("role");return-1===e&&"true"===n&&"presentation"===r}}},t.prototype.getTabIndex=function(t){if(!t)return null;var e=t.hasAttribute("tabIndex"),n=t.hasAttribute("tabindex");if(n||e){var r=parseInt(t.getAttribute(n?"tabindex":"tabIndex")||"",10);return isNaN(r)?null:r}return null},t.prototype.isFocussable=function(t){if(!t)return!1;var e=t.nodeName.toLowerCase();if("style"===e||"script"===e)return!1;if("input"===e||"select"===e||"button"===e||"textarea"===e)return!0;if("a"===e&&t.hasAttribute("href"))return!0;if("object"===e&&t.hasAttribute("usemap"))return!1;if("object"===e){var n=t.getAttribute("type");if("image/svg+xml"===n)return!1;if("application/x-shockwave-flash"===n)return!1}if("iframe"===e||"object"===e)return!0;if("embed"===e||"keygen"===e)return!0;if(t.hasAttribute("contenteditable"))return!0;if("audio"===e&&t.hasAttribute("controls"))return!0;if("video"===e&&t.hasAttribute("controls"))return!0;var r=t.hasAttribute("tabindex"),i=t.hasAttribute("tabIndex");if(!r&&!i)return!1;var o=t.getAttribute(r?"tabindex":"tabIndex")||"";return"-32768"!==o&&!isNaN(parseInt(o,10))},t}(),Cy=0,ky=[],Ty=function(t,e){var n=e.onUpdate;Cy++;var r=function(t){var e=t.target;n({x:Math.floor(e.scrollLeft),y:Math.floor(e.scrollTop)})};return t.addEventListener("scroll",r),ky[Cy]=[t,r],Cy},Iy=function(){function t(){this.checkers=[]}return t.prototype.addConditionCheck=function(t){this.checkers.push(t)},t.prototype.check=function(t){var e={active:!0};if(!t||!t.length)return e;for(var n=0;n<this.checkers.length;n++)if(!(e=this.checkers[n](t)).active)return e;return e},t}(),Ay={eq:function(t,e){return t===e},noteq:function(t,e){return t!==e}};var Dy,Py=function(){function e(t){this.shell=t,this.actionDictionary={},this.boundActionsDict={},this.intObservers=[]}return e.prototype.add=function(t,e){this.actionDictionary[t]=e},e.prototype.bindActions=function(e){var n=this,r=e.id,i=e.actions,o=e.parent,s=void 0===o?null:o,a={},c={},u={};i.length&&!this.boundActionsDict[r]&&(this.boundActionsDict[r]=[]);for(var l=0;l<i.length;l++){var f=i[l].actions;if(f)for(var p=i[l].uid,d=i[l].element,h=function(e){var r=p?""+p+l+"-"+e:"ax"+l+"-"+e,i=(f[e].on||"").split("|")[0],o=f[e].evtcond,h=f[e].action,v=f[e].actionoptions,m={id:r,event:y,action:h,once:f[e].once,options:t({element:d},v),element:d};if(i.startsWith("#")){var y=i.substring(1);m.event=y,c[y]||(c[y]=[]),c[y].push({id:r,type:"shell",element:d,event:y,eventCond:o,eventData:m})}else if(i.startsWith("@")){y=i.substring(1);m.event=y;var b=s?g.shell.utils.findScrollParent(s):null;b!==document.body&&b!==document.documentElement||(b=null);var _=g.intObservers.find((function(t){return t.root===b}));if(!_){var w=new IntersectionObserver((function(t,e){return n.handleIntersection(t,e)}),{rootMargin:g.shell.config.triggerRootMargin,root:b});_={root:b,intersectionObserver:w},g.intObservers.push(_)}u[y]||(u[y]=[]),u[y].push({id:r,type:"intersection",element:d,event:y,eventCond:o,eventData:m,observer:_})}else{var E=i+"@@"+d;a[E]||(a[E]=[]),a[E].push({id:r,type:"dom",element:d,event:i,eventCond:o,eventData:m})}},g=this,v=0;v<f.length;v++)h(v)}var m=function(t){if(a.hasOwnProperty(t)){var e=a[t],i=$(e[0].element),o=e[0].event;i.on(o,{actions:e},(function t(e){var r=e.data.actions,s=[];t:for(var a=0;a<r.length;a++){var c=r[a].eventData;if(r[a].eventCond)for(var u=Object.entries(r[a].eventCond),l=0;l<u.length;l++)if(e[u[l][0]]!==u[l][1])continue t;e.preventDefault(),e.stopPropagation(),n.actionDictionary[c.action](c),c.once&&s.push(a)}for(a=s.length-1;a>=0;a--)e.data.actions.splice(s[a],1);e.data.actions.length||i.off(o,t)})),y.boundActionsDict[r].push({id:t+Math.round(1e3*Math.random()),type:"dom",element:e.element,event:o})}},y=this;for(var b in a)m(b);var _=function(t){if(c.hasOwnProperty(t)){var e=c[t],o=t+"::"+i[0].uid;w.shell.observer.removeByID(t,o),w.shell.observer.add(t,(function(e,r){var i=r.actions,s=[];t:for(var a=0;a<i.length;a++){if(i[a].eventCond)for(var c=Object.entries(i[a].eventCond),u=0;u<c.length;u++)if(e[c[u][0]]!==c[u][1])continue t;var l=i[a].eventData;n.actionDictionary[l.action](l),l.once&&s.push(a)}for(a=s.length-1;a>=0;a--)r.actions.splice(s[a],1);r.actions.length||n.shell.observer.removeByID(t,o)}),{actions:e,id:o}),w.boundActionsDict[r].push({id:o,type:"shell",event:t})}},w=this;for(var b in c)_(b);for(var b in u)if(u.hasOwnProperty(b)){for(var E=u[b],S=b+"::"+i[0].uid,x=[],O=0;O<E.length;O++){var C=E[O].observer.intersectionObserver,k=$(E[O].element)[0];k.___actiondata___||(k.___actiondata___=[]),k.___actiondata___.push(E[O]),x.push(k),C.observe(k)}this.boundActionsDict[r].push({id:S,type:"intersection",event:b,elements:x})}},e.prototype.unbindActions=function(t){var e=t.id;if(this.boundActionsDict[e]){for(var n=0;n<this.boundActionsDict[e].length;n++)for(var r=this.boundActionsDict[e],i=0;i<r.length;i++){var o=r[i];if("shell"===o.type)this.shell.observer.removeByID(o.event,o.id);else if("dom"===o.type)$(o.element).off(o.event);else if("intersection"===o.type){for(var s=o.elements,a=this.intObservers.length-1;a>=0;a--){for(var c=this.intObservers[a].intersectionObserver,u=c.takeRecords(),l=u.length-1;l>=0;l--)s.includes(u[l].target)&&(c.unobserve(u[l].target),u.splice(l,1));u.length||(c.disconnect(),this.intObservers.splice(n,1))}s.forEach((function(t){return delete t.___actiondata___}))}}delete this.boundActionsDict[e]}},e.prototype.handleIntersection=function(t,e){var n=this;t.forEach((function(t){for(var r=t.target.___actiondata___,i=0;i<r.length;i++)"inview"===r[i].event&&t.isIntersecting?(n.actionDictionary[r[i].eventData.action](r[i].eventData),r[i].eventData.once&&e.unobserve(t.target)):"outview"!==r[i].event||t.isIntersecting||(n.actionDictionary[r[i].eventData.action](r[i].eventData),r[i].eventData.once&&e.unobserve(t.target))}))},e}(),My=function t(e){var n=this;Cv(this,t),Iv(this,"parseXML",(function(t,e){e=e||{};var r=n.utils.getNodeAttributesAsObject(t,!0);t=$(t),r._breakpoints={};for(var i=t.find("> breakpoint"),o=0;o<i.length;o++)r._breakpoints[$(i[o]).attr("media")]=n.utils.getNodeAttributesAsObject(i[o]);var s=t.find("> condition");if(r.conditions=Array.from(s).map((function(t){return n.utils.getNodeAttributesAsObject(t)})).map((function(t){return t.cond=(t.cond||"").split("::"),t.then=(t.then||"").split("::"),t.else=(t.else||"").split("::"),t})),r.conditions.forEach((function(t){"variable"===t.kind&&(n.config.variableConditionComponents[r.uid]=r)})),r.objectives&&(r.objectives=(r.objectives+"").split(",").map((function(t){return{objective:t}}))),t.find("> text").length>0?r.textcontent=t.find("> text").text():r.textcontent=t.text(),r.settings=n.utils.getNodeAttributesAsObject(t.find("> settings")[0],!0),e.savesquizresults&&!r.settings.quizid&&(r.settings.quizid="default"),"numquestions"===e.numscorableobjects&&(e.numscorableobjects=n.core.getDataset(r.dataset).getNumQuestions()),e.checkquizpool){delete e.checkquizpool;var a=n.core.getDataset(r.dataset);a&&"function"==typeof a.getMode&&"pool"===a.getMode()&&(r.scoreid=r.uid)}if(r.actions)try{r.actions=[{element:"[data-uid='"+r.uid+"']",uid:r.uid,actions:JSON.parse(r.actions)}]}catch(t){console.log(t),console.log(r.actions)}return $.extend(!0,{},r,e)})),Iv(this,"parseChildren",(function(t,e){t.children=[];for(var r=$(e).find("> *").filter((function(){return/^cmp\./i.test(this.nodeName)})),i=0;i<r.length;i++){var o=r[i].nodeName.split(".")[1],s=n.core.parseComponentData(o,r[i]);s&&(s.type=o,t.children.push(s))}return t})),this.utils=e.utils,this.core=e.core,this.config=e.config};!function(t){t.INIT="init",t.READY="ready",t.TRANSITION_STARTING="transition:starting",t.TRANSITION_PENDING="transition:pending",t.TRANSITION_FINISHING="transition:finishing"}(Dy||(Dy={}));var Ry=function(){function r(t){var e=this;this.shell=t,this.conditionsManager=new Iy,this.componentRenderer=new Sy(t),this.shortcode=new sy,this.textModifiers=new dy(t),this.resultManager=new gy(t),this.objectiveManager=new my(t),this.printing=new py(t),this.handlebars=new yy(t),this.courseLoader=new _y(t),this.actions=new Py(t),this.courseState=new wy(t),this.pageController=new Ey(t),this.a11y=new Oy(t),this.isInit=!1,this.shellReady=!1,this.notifiedReady=!1,this.isFirstStep=!0,this.state=Dy.INIT,this.bodyScrollOffset=null,this.hideFSHandler=null,this.totalInitSteps=0,this.stepsInitted=0,this.shortcode.add({tag:"dir",callback:function(t){var n="";if(t.moduledata){for(var r=t.moduledata.split("."),i=e.config.extraData;r.length>0&&void 0!==i;)i=i[r[0]],r.length>=1&&r.splice(0,1);n=i||""}return n}}),this.conditionsManager.addConditionCheck(function(t){var e={ifany:function(t,e,r,i){for(var o=t.split(","),s=0;s<o.length;s++)if(Ay[r](n[e](o[s]),i))return!0;return!1},ifall:function(t,e,r,i){for(var o=t.split(","),s=0,a=0;a<o.length;a++)Ay[r](n[e](o[a]),i)&&s++;return s>=o.length}},n={status:function(e){return t.core.objectiveManager.getObjectiveStatus(e)}};return function(n){var r={active:!0};return n&&n.length&&t.core.objectiveManager.getObjectivesLocked()?(n.forEach((function(t){if("objective"===t.kind){var n=t.objective,i=t.cond,o=i[0],s=i[1],a=i[2],c=i[3],u=t.then,l=u[0],f=u[1],p=t.else,d=p[0],h=p[1],g=e[o](n,s,a,c);g&&f?r[l]="true"===f:!g&&h&&(r[d]="true"===h)}})),r):r}}(t)),this.conditionsManager.addConditionCheck(function(t){t.observer.add(t.events.USER_VARIABLE_CHANGED,(function(){var e=t.config;e.variableConditionComponents&&(Object.values(e.variableConditionComponents).forEach((function(t){var n=e.componentRegistry[t.uid];if(n){n.component?n=n.component:n.block?n=n.block:n.section&&(n=n.section);var r=n.parent(),i=function(t,e){var n=t.parent(),r=10;if(n.loaded)return!0;for(;"string"!=typeof n&&r<20;)r++,n="function"==typeof n.parent?n.parent():"notfound";return"string"==typeof n?n===e:n.loaded||!1}(n,e.stepData[e.currentStep].guid);"function"==typeof r.updateActiveChild&&i&&r.updateActiveChild(n)}})),t.observer.notify(t.events.PAGE_STRUCTURE_CHANGED,{trigger:t.events.USER_VARIABLE_CHANGED}))}));var e=function(e){return""+t.core.getVariable(e)},n={ifany:function(t,n,r){return Ay[n](e(t),r)},ifall:function(t,n,r){return Ay[n](e(t),r)}};return function(t){var e={active:!0};return t&&t.length?(t.forEach((function(t){if("variable"===t.kind){var r=t.cond,i=r[0],o=r[1],s=r[2],a=r[3],c=t.then,u=c[0],l=c[1],f=t.else,p=f[0],d=f[1],h=n[i](o,s,a);h&&l?e[u]="true"===l:!h&&d&&(e[p]="true"===d)}})),e):e}}(t)),this.conditionsManager.addConditionCheck(function(t){var e={ifany:function(e,n,r){return Ay[n](""+t.config[e],r)},ifall:function(e,n,r){return Ay[n](""+t.config[e],r)}};return function(t){var n={active:!0};return t&&t.length?(t.forEach((function(t){if("config"===t.kind){var r=t.cond,i=r[0],o=r[1],s=r[2],a=r[3],c=t.then,u=c[0],l=c[1],f=t.else,p=f[0],d=f[1],h=e[i](o,s,a);h&&l?n[u]="true"===l:!h&&d&&(n[p]="true"===d)}})),n):n}}(t))}return Object.defineProperty(r.prototype,"config",{get:function(){return this.shell.config},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"observer",{get:function(){return this.shell.observer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.shell.events},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"utils",{get:function(){return this.shell.utils},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.shell.modules},enumerable:!1,configurable:!0}),r.prototype.initialise=function(){var t=this;$("html").addClass("no-accessibility");var e=$("<button style='position:absolute;left:-9999px' tabindex='0' class='button-general enable-accessibility'>"+this.getTranslation("Turn on accessibility")+"</button>");$("body").prepend(e),$(e).on("click",(function(){t.config.accessibility=!t.config.accessibility,t.config.accessibility?($("html").removeClass("no-accessibility").addClass("accessibility"),e.text(t.getTranslation("Turn off accessibility")),$("[tabindex='0']")[0].focus(),t.observer.notify(t.events.A11Y_ON,{})):($("html").addClass("no-accessibility").removeClass("accessibility"),e.text(t.getTranslation("Turn on accessibility")),t.observer.notify(t.events.A11Y_OFF,{}))})),window.top!==window.self&&(this.config.isInIFrame=!0),this.config.environment=window.__spark_env||Xm.DEV,this.config.netOnline=navigator.onLine||!0,void 0!==window.addEventListener&&(window.addEventListener(this.events.OFFLINE,(function(){t.config.netOnline=!1,$("body").addClass("net-offline");var e=$("#notification").find(".notification-message");e.length||(e=$("#notification")),t.config.displayNetworkStatusMessages&&(e.text(t.config.netOfflineMessage),$("#notification").removeAttr("aria-hidden").fadeIn(150).delay(3e3).fadeOut(150)),t.observer.notify(t.events.OFFLINE,{})}),!1),window.addEventListener(this.events.ONLINE,(function(){t.config.netOnline=!0,$("body").removeClass("net-offline");var e=$("#notification").find(".notification-message");e.length||(e=$("#notification")),t.config.displayNetworkStatusMessages&&(e.text(t.config.netOnlineMessage),$("#notification").removeAttr("aria-hidden").fadeIn(150).delay(3e3).fadeOut(150)),t.observer.notify(t.events.ONLINE,{})}),!1),$(document).on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",(function(){var e=t.utils.isFullScreen();$("body")[e?"addClass":"removeClass"]("fullscreen"),t.observer.notify(t.events.FULL_SCREEN_CHANGE,{isFullScreen:e})}))),this.startCourseLoad().catch((function(e){console.log(e),t.showLoadErrorMessage(e.message)}))},r.prototype.showLoadErrorMessage=function(t){void 0===t&&(t="Unable to load course.");var e=document.createElement("div");e.style.cssText="\n        position:absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        padding: 2rem;\n        background: #FFF;\n        box-shadow: 0 0 20px rgba(0,0,0,0.2);\n        text-align: center;\n        max-width: 350px;\n        z-index: 9999999;\n        border-radius: 10px;\n        color: #000;\n        ",e.innerHTML=t,document.body.appendChild(e)},r.prototype.startCourseLoad=function(){return e(this,void 0,void 0,(function(){var t,e,r,i,o=this;return n(this,(function(n){switch(n.label){case 0:return[4,this.courseLoader.load()];case 1:if(n.sent(),t=["colourmode-"+this.config.colourMode],this.config.isiPad&&t.push("device_ipad"),this.config.isiOS&&t.push("device_ios"),this.config.isAndroid&&t.push("device_android"),this.config.isInIFrame&&t.push("env_iframe"),$("html").addClass(t.join(" ")),this.totalInitSteps=this.config.totalSteps,this.stepsInitted=0,this.config.totalSteps)for(e=1;e<=this.config.totalSteps;e++)this.initialiseStep(e,(function(){return o.checkStepInitProgress()}));else this.applyPreviousState();if(this.config.stepData.some((function(t){return t.retainScrollPos}))){if(!(r=document.getElementById("shell")))return[2,console.log("Core::Error finding document scrolling element. 'Remember scroll position' setting may not work.")];(i=this.utils.findScrollParent(r))?Ty(i,{onUpdate:this.utils.debounce((function(t){var e=t.x,n=t.y,r=o.config.stepData[o.config.currentStep];if(r.retainScrollPos){var i=o.utils.getElementInView();i?r.scrollY=i:(r.scrollX=e,r.scrollY=n),o.saveState()}}),350)}):console.log("Core::Error finding document scrolling element. 'Remember scroll position' setting may not work.")}return this.shellReady=!0,[2]}}))}))},r.prototype.startPageTimer=function(){this.config.timer.stepStart=Date.now()},r.prototype.checkStepInitProgress=function(){this.stepsInitted+=1,this.notifiedReady||this.totalInitSteps!==this.stepsInitted||this.applyPreviousState()},r.prototype.applyPreviousState=function(){var t=this.config,e=t.totalSteps,n=t.initialSuspendData,r=t.stepData;this.setCourseState(n);for(var i=0;i<e;i++)if(null!==r[i].component&&null!==n)try{r[i].component.applySuspendData()}catch(t){console.log("Error applySuspendData to step "+i),console.log(t)}this.notifyReady()},r.prototype.notifyReady=function(){this.config.disableskip||this.setKeyControls(),this.notifiedReady=!0,this.observer.notify(this.events.SHELL_READY,{}),this.observer.notify(this.events.INIT_LOAD_COMPLETE,{progress:1}),$("body").focus()},r.prototype.setKeyControls=function(){var t=this;$(document).off("keydown").on("keydown",(function(e){!0===e.ctrlKey&&!0===e.altKey&&!1===e.shiftKey?109===e.keyCode?(e.preventDefault(),t.displayPage(t.config.currentStep-1)):107===e.keyCode&&(e.preventDefault(),t.displayPage(t.config.currentStep+1)):!0===e.ctrlKey&&!0===e.altKey&&!0===e.shiftKey?85===e.keyCode&&(e.preventDefault(),t.config.lockout=!1):!0===e.shiftKey&&!1===e.ctrlKey&&!1===e.altKey&&116===e.keyCode&&e.preventDefault()}))},r.prototype.saveState=function(){this.config.ready&&this.runModuleFunction("reporting","setStateData",[this.getCourseState()]),!0===this.config.scormCommit&&this.runModuleFunction("reporting","save")},r.prototype.getNextAvailableStep=function(t){void 0===t&&(t=0);var e=t;if(t>this.config.totalSteps){t=this.config.totalSteps,e=(i=this.config.stepGroups[this.config.stepData[t].group])&&!1===i.enabled?0:t}else{for(var n=Math.max(0,this.config.currentStep),r=!1;e<this.config.totalSteps;){var i;if(!(i=this.config.stepGroups[this.config.stepData[e].group])||!1!==i.enabled)break;e===this.config.totalSteps&&(r=!0),e++}r&&(e=n)}return e},r.prototype.nextStep=function(){var t=this.pageController.nextPage();this.displayPage(t)},r.prototype.previousStep=function(){var t=this.pageController.previousPage();this.displayPage(t,!0,!1,!1)},r.prototype.lastViewedStep=function(){var t=this.pageController.lastViewedPage();void 0!==t&&this.displayPage(t,!0,!1,!1)},r.prototype.gotoStep=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0);var r=this.pageController.gotoPage(t);this.displayPage(r,e,!1,n)},r.prototype.forceGotoStep=function(t,e){void 0===e&&(e=!0),this.displayPage(t,e,!0)},r.prototype.nextGroup=function(){var t=this.pageController.nextGroup();void 0!==t&&this.gotoGroup(t)},r.prototype.previousGroup=function(){var t=this.pageController.previousGroup();void 0!==t&&this.gotoGroup(t)},r.prototype.gotoGroup=function(t,e){void 0===e&&(e=!0);var n=this.pageController.gotoGroup(t);this.displayPage(n,e)},r.prototype.getFirstStepInGroup=function(t){return this.pageController.getFirstPageInGroup(t)},r.prototype.gotoHome=function(){this.displayPage(0)},r.prototype.nextStepAvailable=function(){return this.pageController.isNextPageAvailable()},r.prototype.previousStepAvailable=function(){return this.pageController.isPreviousPageAvailable()},r.prototype.setStepComplete=function(t,e){var n=this.config.stepData[t].complete;e=e||!1,this.config.stepData[t].complete=!0,this.config.stepData[t].progress={raw:this.config.stepData[t].progress.total,total:this.config.stepData[t].progress.total,scaled:100},e&&!this.config.stepData[t].forceLockNext&&(this.config.stepData[t].lockNext=!1),this.checkGroupCompleted(this.config.stepData[t].group),!0!==n&&this.observer.notify(this.events.STEP_COMPLETED,{step:t,overrideLockNext:e,progress:100}),this.checkCompletion()&&this.setCourseComplete()},r.prototype.setCourseComplete=function(){if(!this.config.complete){console.log("%c Course complete!","color: green; font-weight: bold;");var t="completed",e=!1;this.config.complete=!0,this.utils.hasModule("reporting")&&(t=this.modules.reporting.statuses.completed,this.runModuleFunction("reporting","setStatus",[t]),this.saveState(),e=!0),this.observer.notify(this.events.COURSE_COMPLETED,{status:t,reported:e})}},r.prototype.setStepProgress=function(t,e,n){var r=this.config.stepData[t].progress;e=Math.min(n,e),r.raw!==e&&(this.config.stepData[t].progress={raw:e,total:n,scaled:Math.round(e/n*1e4)/100},this.observer.notify(this.events.STEP_PROGRESS,{step:t,progress:this.config.stepData[t].progress.scaled}))},r.prototype.refreshStep=function(t,e){},r.prototype.setGroupVisited=function(t){for(var e in t=""+t,this.config.stepGroups)if(e===t)return this.config.stepGroups[e].visited=!0,!0;return!1},r.prototype.checkGroupCompleted=function(t){if(t=""+t,this.config.stepGroups[t]){for(var e=!0,n=0;n<this.config.stepData.length;n++)if(this.config.stepData[n].group===t&&!this.config.stepData[n][this.config.lockout?"complete":"visited"]){e=!1;break}return this.config.stepGroups[t].complete=e,e}return!1},r.prototype.addDeclaration=function(t){void 0===this.config.declarationsChecked[t]&&(this.config.declarationsChecked[t]=!1)},r.prototype.getDeclarationChecked=function(t){return this.config.declarationsChecked[t]},r.prototype.checkDeclaration=function(t,e){void 0===e&&(e=!0),this.config.declarationsChecked[t]||(this.config.declarationsChecked[t]=e,this.observer.notify(this.events.DECLARATION_CHECKED,{id:t}),this.config.ready&&"declaration"===this.config.scoreType&&this.checkCompletion()&&(this.observer.notify(this.events.ALL_DECLARATIONS_CHECKED,{}),this.setCourseComplete()))},r.prototype.makeModal=function(t){return this.a11y.makeModal(t)},r.prototype.releaseModal=function(){return this.a11y.releaseModal()},r.prototype.disableAllTabIndeces=function(){console.warn("Core::disableAllTabIndeces has been deprecated and no longer does anything. Use a core.a11y instead.")},r.prototype.enableAllTabIndeces=function(){console.warn("Core::disableAllTabIndeces has been deprecated and no longer does anything. Use a core.a11y instead.")},r.prototype.getInteractionID=function(t){for(var e=this.config.interactions.length,n=0;n<e;n++)if(this.config.interactions[n].id===t)return n;return null},r.prototype.checkQuizAllAnswered=function(t){var e,n,r=!0;switch(this.config.navigationMode){case ty.BRANCH:e=this.config.history.steps.length,n=[];for(var i=0;i<e;i++){var o=this.config.history.steps[i].step;if(!0===this.config.stepData[o].score.isScored&&!n.includes(o)){if(!0!==this.config.stepData[o].complete){r=!1;break}n.push(o)}}var s=this.config.currentStep;if(!0===this.config.stepData[s].score.isScored&&!n.includes(s)&&!0!==this.config.stepData[s].complete){r=!1;break}break;case ty.LINHIST:case ty.NORMAL:e=this.config.totalSteps;for(i=0;i<=e;i++)if(!0===this.config.stepData[i].score.isScored&&!0!==this.config.stepData[i].complete){r=!1;break}}return r},r.prototype.checkCompletion=function(){var t,e=this.config.currentStep;if(-1===e)return!1;switch(this.config.scoreType){case"slide":return e===this.config.totalSteps||e>-1&&!0===this.config.stepData[e].isCompletionPoint;case"slideonly":return!0===this.config.stepData[e].isCompletionPoint||e>-1&&e===this.config.totalSteps;case"completionpoint":return!0===this.config.stepData[e].isCompletionPoint;case"slidescomplete":t=this.config.totalSteps;for(var n=0;n<=t;n++)if(!1===this.config.stepData[n].complete)return!1;return!0;case"quiz":return this.config.totalScore>=this.config.globalPass;case"declaration":return Object.values(this.config.declarationsChecked).every((function(t){return t}))}return!1},r.prototype.createObservable=function(t){void 0===this.observer.observers[t]?this.observer.observers[t]=[]:console.warn("Shell.js: Cannot overwrite existing observable. "+t+" already exists.")},r.prototype.addHTMLTemplates=function(t,e){void 0===e&&(e=!1);for(var n=$(t),r=this.config.htmltemplates,i=0;i<n.length;i++){var o=n[i];if("script"===o.nodeName.toLowerCase()){var s=o.getAttribute("data-template")||"",a=o.getAttribute("data-for")||"",c=-1;if(r[a])for(var u=0;u<r[a].length;u++)if(r[a][u].name===s){c=u;break}if(s.indexOf("partial_")>-1)Handlebars.registerPartial($(o).data("name"),$(o).html().trim());else{r[a]||(r[a]=[]);var l={name:s,for:a,content:$(o).html().trim()};e?-1===c&&r[a].push(l):c>-1?r[a][c]=l:r[a].push(l)}}}},r.prototype.hasHTMLTemplate=function(t,e){if(!this.config.htmltemplates[t])return!1;e||(e=t);for(var n=0;n<this.config.htmltemplates[t].length;n++)if(this.config.htmltemplates[t][n].name===e)return!0;return!1},r.prototype.getHTMLTemplate=function(t,e){if(this.config.htmltemplates[t]){e||(e=t);for(var n=0;n<this.config.htmltemplates[t].length;n++)if(this.config.htmltemplates[t][n].name===e)return this.config.htmltemplates[t][n].content}return""},r.prototype.getCompiledHTMLTemplate=function(t,e){var n="cmp_"+t+"::"+(e||"default");if(this.config.compiledhtmltemplates[n])return this.config.compiledhtmltemplates[n];var r=this.getHTMLTemplate(t,e);if(r){var i=Handlebars.compile(r);return this.config.compiledhtmltemplates[n]=i,i}return null},r.prototype.addModule=function(t,e){return!this.modules[t]&&(this.modules[t]="function"==typeof e?new e(this.shell):e,!0)},r.prototype.addXMLParser=function(t){this.courseLoader.addParser(t)},r.prototype.addSection=function(t,e,n){return!this.config.sections[t]&&(this.config.sections[t]={section:e,parse:n,controllers:{},options:{}},!0)},r.prototype.hasSection=function(t){return!(!this.config.sections[t]||"function"!=typeof this.config.sections[t].section)},r.prototype.createSection=function(t){return this.config.sections[t]&&"function"==typeof this.config.sections[t].section?new this.config.sections[t].section(this.shell,this.config.sections[t].options):null},r.prototype.addBlock=function(t,e,n){return!this.config.blocks[t]&&(this.config.blocks[t]={block:e,parse:n,controllers:{},options:{}},!0)},r.prototype.hasBlock=function(t){return!(!this.config.blocks[t]||"function"!=typeof this.config.blocks[t].block)},r.prototype.createBlock=function(t){return this.config.blocks[t]&&"function"==typeof this.config.blocks[t].block?new this.config.blocks[t].block(this.shell,this.config.blocks[t].options):null},r.prototype.addComponent=function(t,e,n){return!this.config.components[t]&&(this.config.components[t]={component:e,parse:n,controllers:{},hooks:{},options:{}},e.prototype.hooks=this.config.components[t].hooks,!0)},r.prototype.hasComponent=function(t){return!(!this.config.components[t]||"function"!=typeof this.config.components[t].component)},r.prototype.createComponent=function(t){return this.config.components[t]&&this.config.components[t].component?new this.config.components[t].component(this.shell,this.config.components[t].options):null},r.prototype.parseComponentData=function(t,e){return this.config.components[t]&&"function"==typeof this.config.components[t].parse?this.config.components[t].parse.apply(new My(this.shell),[e,this.shell]):new My(this.shell).parseXML(e)},r.prototype.parseBlockData=function(t,e){return this.config.blocks[t]&&"function"==typeof this.config.blocks[t].parse?this.config.blocks[t].parse.apply(new My(this.shell),[e]):new My(this.shell).parseXML(e)},r.prototype.parseSectionData=function(t,e){return this.config.sections[t]&&"function"==typeof this.config.sections[t].parse?this.config.sections[t].parse.apply(new My(this.shell),[e]):new My(this.shell).parseXML(e)},r.prototype.addComponentHook=function(t,e,n,r){var i=this.config.components;if(i[e]){var o=i[e].hooks;return o[n]||(o[n]=[]),o[n].push({name:t,exec:r}),!0}return!1},r.prototype.addComponentViewController=function(t,e,n){return!!this.config.components[e]&&(this.config.components[e].controllers[t]={controller:n},!0)},r.prototype.registerStepDataParser=function(t,e){return"string"==typeof t&&"function"==typeof e&&(void 0===this.config.stepDataParsers[t]&&(this.config.stepDataParsers[t]=e,!0))},r.prototype.registerDatasetParser=function(t,e,n){return"string"==typeof t&&"function"==typeof e&&(t=t.toLowerCase(),void 0===this.config.datasetParsers[t]&&(this.config.datasetParsers[t]={parse:e,control:n},!0))},r.prototype.getDataset=function(t){return this.config.dataSets[t]},r.prototype.registerTextVariable=function(t,e){if("string"!=typeof t||"function"!=typeof e)return!1;for(var n=this.config.variables.length,r=0;r<n;r++)if(this.config.variables[r].name===t)return!1;return this.config.variables.push({name:t,replacement:e}),!0},r.prototype.registerTextModifier=function(t,e){return window.__spark_env!==Xm.PROD&&console.error("MIGRATION WARNING: core.registerTextModifier deprecated. Use core.addTextModifier instead."),this.addTextModifier(t,e)},r.prototype.addTextModifier=function(t,e){return this.textModifiers.add(t,e)},r.prototype.registerAction=function(t,e){return this.actions.add(t,e)},r.prototype.setText=function(t,e,n){if(void 0===n&&(n={}),e){"boolean"==typeof n&&(n={processURLs:n});var r=n.processURLs,i=void 0===r||r,o=n.dynamicvariables,s=void 0===o?{}:o;e=this.replaceVariableKeywords(e,this.config.currentStep,{dynamicvariables:s}),e=this.shortcode.parseShortcodes(e),i&&(e=this.updateRelativeURLs(e)),t=$(t).empty().append(e),this.textModifiers.executeOn(t),this.observer.notify(this.events.TEXT_ADDED,{textElement:t})}},r.prototype.setSimpleText=function(t,e,n){console.warn("Core.setSimpleText is deprecated. Use Core.setText instead."),this.setText(t,e,n)},r.prototype.parseText=function(t){var e=$("<div/>");return this.setText(e,t),e.find("*").off(),e.html()},r.prototype.updateImgSrc=function(t){var e=this;return t=t.replace(fy.REGEXP_SRC,(function(t){var n=5,r="src";if(0===t.indexOf("srcset")&&(n=8,r="srcset"),t.indexOf("//")!==n&&-1===t.indexOf("http://")&&-1===t.indexOf("https://")){if("srcset"===r){for(var i=(t=t.substring(8,t.length-1)).split(", "),o=0;o<i.length;o++){var s=e.extractFilePathInfo(i[o]);i[o]=e.getAssetPath(s.location+s.filename,s.path)}t=i.join(", ")}else{s=e.extractFilePathInfo(t.substring(5,t.length-1));t=e.getAssetPath(""+s.location+s.filename,s.path)}t=r+'="'+t+'"'}return t}))},r.prototype.updateRelativeURLs=function(t){var e=this;return t=(t=this.updateImgSrc(t)).replace(fy.REGEXP_HREF,(function(t){if(6!==t.indexOf("//")&&-1===t.indexOf("http://")&&-1===t.indexOf("https://")&&-1===t.indexOf("mailto:")&&t.indexOf(".")>-1){if(t.indexOf("global:")>-1)return'href="'+e.config.globalPath+encodeURI(t.substring(14,t.length-1))+'"';if(t.indexOf("project:")>-1)return'href="'+encodeURI(t.substring(14,t.length-1))+'"';if(""!==e.config.dataPath){var n=e.extractFilePathInfo(t.substring(6,t.length-1));return'href="'+e.getAssetPath(n.filename,n.path)+'"'}return t}return t}))},r.prototype.getAssetPath=function(t,e,n){if(void 0===n&&(n="course"),!t)return"";if(t.match(/^((http(s)?:)|(\/\/){1}|(www.){1})/i))return t;if(void 0!==this.config.assetRegistry[t])return this.config.assetRegistry[t];switch(t.startsWith("global:")?(t=t.substring(7),n="global"):t.startsWith("project:")&&(t=t.substring(8),n="project"),n){case"global":return encodeURI(this.config.globalPath+(e?e+"/":"")+t);case"project":return encodeURI((e?e+"/":"")+t);case"course":default:return encodeURI(this.config.dataPath+(e?e+"/":"")+t)}},r.prototype.extractFilePathInfo=function(t){var e=t.split("/"),n=e.pop()||"",r=e.join("/").split(":").reverse();return{filename:n,path:r[0],location:r[1]?r[1]+":":"",extension:n.indexOf(".")>-1?n.slice(n.lastIndexOf(".")+1):""}},r.prototype.getTranslation=function(t,e){return null!==this.config.translation&&this.config.translation[e||this.config.language||this.config.defaultLanguage][t]||t},r.prototype.translateElement=function(t,e){var n=this,r=$(t);$(r.contents()).add(r.find("span").contents()).filter((function(t){return 3==t.nodeType&&!!t.textContent.trim()})).each((function(t,r){$(r).replaceWith(n.getTranslation(r.textContent.trim(),e))}))},r.prototype.switchLanguage=function(t){var r=this;if(null!==this.config.translation&&void 0!==this.config.translation[t]){var i=this.config.language;return this.config.language=t,this.runModuleFunction("reporting","setStateData",["",function(){return e(r,void 0,void 0,(function(){var e,r,o;return n(this,(function(n){switch(n.label){case 0:this.runModuleFunction("reporting","setLanguage",[t]),this.observer.notify(this.events.SET_LANGUAGE,{language:t}),this.courseLoader.reset(),this.componentRenderer.clearCache(),e=this.config.currentStep,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.startCourseLoad()];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),alert(r.message),[2,this.switchLanguage(i)];case 4:return o=this.getNextAvailableStep(0),this.observer.notify(this.events.LANGUAGE_CHANGED,{language:t}),0===e?this.modules.renderer.reloadStep(this.config.stepData[o],(function(){})):this.gotoStep(o,!1,!1),[2]}}))}))}]),!0}return!1},r.prototype.switchColourMode=function(t){$("html").removeClass("colourmode-"+this.config.colourMode).addClass("colourmode-"+t),this.config.colourMode=t,this.observer.notify(this.events.SET_COLOURMODE,{mode:t})},r.prototype.checkDisplayConditions=function(t){return this.conditionsManager.check(t)},r.prototype.replaceVariableKeywords=function(t,e,n){if(void 0===n&&(n={}),!t)return t;"boolean"==typeof n&&(n={bindable:n});var r=n.bindable,i=void 0===r||r,o=n.dynamicvariables,s=void 0===o?{}:o;e=void 0===e?this.config.currentStep:e;for(var a,c,u=this.config.variables.length,l=0;l<u;l++)a=this.config.variables[l],t.indexOf(a.name)>-1&&(t=t.replace(new RegExp("\\{\\{"+a.name+"\\}\\}","g"),(i?"<span class='"+this.config.variableElementClasses.join(" ")+"' data-bind-":"")+a.name+"='value'>"+a.replacement(e,a.name)+(i?"</span>":"")));for(var f in this.config.userVariables)Object.prototype.hasOwnProperty.call(this.config.userVariables,f)&&(a="{{"+f+"}}",t.indexOf(a)>-1&&(c=!0===this.utils.hasModule("dataBinding")?this.replaceVariableKeywords(""+this.config.userVariables[f].get("value"),e):this.replaceVariableKeywords(""+this.config.userVariables[f],e),t=t.replace(new RegExp("\\{\\{"+f+"\\}\\}","g"),(i?"<span class='"+this.config.variableElementClasses.join(" ")+"' data-bind-"+f+"='value' aria-live='polite'>":"")+c+(i?"</span>":""))));for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(t=t.replace(new RegExp("\\{\\{"+f+"\\}\\}","g"),s[f]));return t},r.prototype.getVariable=function(t,e,n){switch(e){case"sys":return this.getSystemVar(t,n||0);case"user":return this.getUserVar(t);default:return Object.prototype.hasOwnProperty.call(this.config.userVariables,t)?this.getUserVar(t):this.getSystemVar(t,n||0)}},r.prototype.getSystemVar=function(t,e){for(var n=this.config.variables.length,r=0;r<n;r++){var i=this.config.variables[r];if(i.name===t)return i.replacement(e)}return""},r.prototype.getUserVar=function(t){return Object.prototype.hasOwnProperty.call(this.config.userVariables,t)?!0===this.utils.hasModule("dataBinding")?this.config.userVariables[t].get("value"):this.config.userVariables[t]:""},r.prototype.showFullscreenOverlay=function(t,e,n,r){var i=this,o=$("#fsOverlay"),s="Cubic.easeOut",a=300,c="fade";void 0!==e&&"object"===Ov(e)?(s=e.ease||s,a=e.speed||a,c=e.type||c):"string"==typeof e&&(c=e),r=r||"",o.length>0&&(o.detach(),this.observer.notify(this.events.OVERLAY_REMOVED,{reference:this.config.lastOverlayRef})),this.config.lastFocusElement=document.activeElement,this.config.lastOverlayRef=r,$("<div id='fsOverlay'></div>").append(t).appendTo(this.config.overlayLocation),$("body").addClass("overlayShowing"),this.hideFSHandler=function(t){27===t.keyCode&&i.removeFullscreenOverlay()},$(document).on("keyown",this.hideFSHandler),this.disablePageScroll(),this.makeModal($("#fsOverlay")[0]),"none"!==c?this.shell.transitions[c]("#fsOverlay",Vm.ON,{x:0,y:0,ease:s,speed:a},(function(){"function"==typeof n&&n(),i.observer.notify(i.events.OVERLAY_ADDED,{reference:r})})):(o.show(0),this.observer.notify(this.events.OVERLAY_ADDED,{reference:r}))},r.prototype.removeFullscreenOverlay=function(t){var e=$("#fsOverlay"),n="Cubic.easeOut",r=300,i="fade";this.hideFSHandler&&$(document).off("keydown",this.hideFSHandler),void 0!==t&&"object"===Ov(t)?(n=t.ease||n,r=t.speed||r,i=t.type||i):"string"==typeof t&&(i=t),$("body").removeClass("overlayShowing"),this.releaseModal(),this.enablePageScroll(),"none"!==i?this.shell.transitions[i]("#fsOverlay",Vm.OFF,{ease:n,speed:r},(function(){e.detach()})):e.detach(),this.observer.notify(this.events.OVERLAY_REMOVED,{reference:this.config.lastOverlayRef}),this.config.lastOverlayRef="",null!==this.config.lastFocusElement&&this.config.accessibility&&(this.config.lastFocusElement.focus(),this.config.lastFocusElement=null)},r.prototype.disablePageScroll=function(t){if(void 0===t&&(t=!1),!this.config.pageScrollingDisabled){var e=this.utils.getScrollContainer(),n=null,r={x:0,y:0};n=e!==document.scrollingElement&&e!==document.documentElement?$(e).children("div:first"):$("#shellcontainer");var i=e.getBoundingClientRect();r.y=i.top,this.bodyScrollOffset={target:e,content:n,value:e.scrollTop},this.bodyScrollOffset.hideScrollbar=t;var o=$(n)[0].getBoundingClientRect();n.css({top:-1*this.bodyScrollOffset.value+r.y+"px",position:"fixed",width:o.width+"px"}),this.bodyScrollOffset.target.scrollTop=0,t&&$(this.bodyScrollOffset.target).css("overflow","hidden"),this.config.pageScrollingDisabled=!0}},r.prototype.enablePageScroll=function(){this.bodyScrollOffset&&this.config.pageScrollingDisabled&&(this.bodyScrollOffset.content.css({top:"",position:"",width:""}),this.bodyScrollOffset.hideScrollbar&&$(this.bodyScrollOffset.target).css("overflow",""),this.bodyScrollOffset.target.scrollTop=this.bodyScrollOffset.value,this.bodyScrollOffset=null,this.config.pageScrollingDisabled=!1)},r.prototype.runModuleFunction=function(t,e,n){if(!this.utils.hasModule(t))return!1;if("function"!=typeof this.modules[t][e])return"reporting"!==t&&console.warn("Warning::runModuleFunction - function ["+e+"] doesn't exists on module ["+t+"]."),!1;try{return Array.isArray(n)?this.modules[t][e].apply(null,n):this.modules[t][e](n)}catch(n){return console.error("runModuleFunction: ",t,e),console.error(n),!1}},r.prototype.executeShellDirective=function(t,e){for(var n=t.split("."),r=null,i=null,o=null,s=this.shell,a=0;a<n.length;a++){if(0===a&&s[n[a]])r=s[n[a]];else{if(!r[n[a]])return console.log("Shell: directive '"+t+"' is not valid. Can't find: "+n[a]),null;i=r,r=r[n[a]]}if(a===n.length-1){if("function"!=typeof r)return console.log("Shell: directive '"+t+"' did not result in a function"),null;o=r.apply(this,e)}}return{directive:t,object:i,method:r,result:o}},r.prototype.initialiseStep=function(t,e){null===this.config.stepData[t].component?this.modules.renderer.initialiseStep(this.config.stepData[t],e):"function"==typeof e&&e()},r.prototype.getCourseState=function(){return this.courseState.getCourseState()},r.prototype.setCourseState=function(t){return this.courseState.setCourseState(t)},r.prototype.resetCourseState=function(r,i){var o=this;void 0===r&&(r={}),void 0===i&&(i=0);var s=t({datasets:!0,pages:!0,modules:!0,quizresults:!0,objectives:!0,customstate:!0,history:!0,variables:!0},r),a=this.modules,c=this.config,u=c.dataSets,l=c.stepData,f=c.history,p=c.state,d=c.userVariables;this.runModuleFunction("reporting","setStateData",["",function(){return e(o,void 0,void 0,(function(){var t,e,r;return n(this,(function(n){if(s.datasets&&Object.values(u).forEach((function(t){"function"==typeof t.reset&&t.reset()})),s.pages&&l.forEach((function(t){if(void 0!==t.component&&"function"==typeof t.component.setResumeData){try{t.component.reset()}catch(t){}t.visited=!1,t.complete=!1,t.scrollX=0,t.scrollY=0,t.data={}}})),s.modules&&Object.values(a).forEach((function(t){"function"==typeof t.reset&&t.reset()})),s.quizresults&&this.resultManager.reset(),s.objectives&&this.objectiveManager.reset(),s.customstate)for(t in p)Object.prototype.hasOwnProperty.call(p,t)&&(p[t].resettable||delete p[t]);if(s.history&&(f.steps=[]),s.variables){for(r in e=!1,d)Object.prototype.hasOwnProperty.call(d,r)&&d[r].get("value")!==d[r].initialValue&&(d[r].set("value",d[r].initialValue),e=!0);e&&this.observer.notify(this.events.USER_VARIABLE_CHANGED,{})}return this.observer.notify(this.events.COURSE_RESET,{options:s}),this.gotoStep(i),[2]}))}))}])},r.prototype.displayPage=function(t,e,n,r){void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===r&&(r=!0);var i=this.utils.determineStepNumber(t),o=this.config,s=o.totalSteps,a=o.stepGroups,c=o.stepData,u=o.firstStepLoad,l=o.history,f=this.config.currentStep;if(!(void 0===i||i<0||i>s||i===f)){var p=a[c[i].group];if((n||!p||!1!==p.enabled)&&!(f>-1&&i===f)){if(-1===f&&(f=0,this.config.currentStep=f),c[f]&&(c[f].currentContent=null),!0===r&&!1===u&&l.steps.push({step:f}),this.config.firstStepLoad=!1,this.observer.notify(this.events.STEP_CHANGING,{currentStep:f,nextStep:i}),c[f]&&c[f].retainScrollPos){var d,h,g=this.utils.getScrollContainer();if(d=g.scrollTop,h=g.scrollLeft,c[f].scrollY=d||0,c[f].scrollX=h||0,document.activeElement instanceof HTMLElement){var v=document.activeElement.getBoundingClientRect();c[f].lastFocus={x:v.left,y:v.top}}}this.setNextPage(i,e,n,r)}}},r.prototype.setNextPage=function(t,e,n,r){var i=this;void 0===e&&(e=!0),void 0===r&&(r=!0),this.config.lastViewedStep=this.config.currentStep,this.config.currentStep=t;this.getPageComponent(t,this.config.stepData[t].template,e,r,(function(){i.state=Dy.READY,i.config.accessibility&&(i.config.stepData[t].retainScrollPos&&i.config.stepData[t].lastFocus?setTimeout((function(){var e=i.config.stepData[t].lastFocus,n=e.x,r=e.y,o=document.elementFromPoint(n,r);if(o){var s=$(o);if(void 0!==s.attr("tabindex"))return s.focus();if(s.find("[tabindex='0']").length)return s.find("[tabindex='0']").focus();var a=s.parents("[tabindex='0']")[0];a&&a.focus()}}),150):i.utils.focusFirstElement()),i.setGroupVisited(i.config.stepData[t].group),i.observer.notify(i.events.STEP_CHANGED,{step:t}),i.config.stepData[t].isEntry=!1}))},r.prototype.getPageComponent=function(t,e,n,r,i){var o=this;this.utils.hasModule("transition")&&this.shellReady&&n?(this.state===Dy.TRANSITION_PENDING&&"function"==typeof this.modules.renderer.cancel&&this.modules.renderer.cancel(),this.state=Dy.TRANSITION_STARTING,this.modules.transition.start((function(){o.state=Dy.TRANSITION_PENDING,o.loadPageComponent(t,r,(function(){setTimeout((function(){var e=o.config.stepData[t];if(e.retainScrollPos){var n=o.utils.getScrollContainer(),r=e.scrollY;if("string"==typeof r){var s=document.querySelector("[data-uid='"+r+"']");s&&(n.scrollTop=s.offsetTop)}else n.scrollTop=r}o.state=Dy.TRANSITION_FINISHING,o.modules.transition.finish(i)}),10)}))}))):this.loadPageComponent(t,r,i)},r.prototype.loadPageComponent=function(t,e,n){var r=this,i=function(){if(r.observer.notify(r.events.STEP_ADDED_TO_DOM,{step:t}),r.componentRenderer.notifyMountedComponents(),r.runModuleFunction("reporting","setBookmark",r.config.currentStep),r.startPageTimer(),r.config.currentStep>0&&r.enablePageScroll(),r.observer.notify(r.events.STEP_READY,{step:t,recordchange:e}),r.state=Dy.READY,r.config.accessibility){var i=$("#content [tabindex=0]")[0];i&&i.focus()}"function"==typeof n&&n()},o=this.config.stepData[t];this.modules.renderer.clear((function(){o.visited=!0,r.observer.notify(r.events.STEP_BEFOREREADY,{isReload:!0,step:t}),r.modules.renderer.show(o,i)}))},r.prototype.setUserVariable=function(t,e){if(void 0!==this.config.userVariables[t]){var n=void 0;!0===this.utils.hasModule("dataBinding")?"function"==typeof this.config.userVariables[t].set&&e!==(n=this.config.userVariables[t].get("value"))&&this.config.userVariables[t].set("value",e):e!==(n=this.config.userVariables[t])&&(this.config.userVariables[t]=e),e!==n&&this.observer.notify(this.events.USER_VARIABLE_CHANGED,{name:t,value:e})}else alert("Shell.js: Attempted to set a user variable ["+t+"] which is not defined.")},r.prototype.finish=function(){this.config.finished||(this.config.finished=!0,this.runModuleFunction("reporting","endSession"))},r.prototype.close=function(){this.finish(),!0===this.config.isInIFrame?window.top.close():window.close()},r}(),Ly={INIT_LOAD_START:"initLoadStart",INIT_LOAD_PROGRESS:"initLoadProgress",INIT_LOAD_COMPLETE:"initLoadComplete",STEP_CHANGING:"stepChanging",STEP_BEFOREREADY:"stepBeforeReady",STEP_ADDED_TO_DOM:"stepAddedToDOM",COMPONENTS_ADDED_TO_DOM:"componentsAddedToDOM",STEP_READY:"stepReady",STEP_CHANGED:"stepChanged",STEP_COMPLETED:"stepCompleted",STEP_PROGRESS:"stepProgress",STEP_RELOADING:"stepReloading",SECTION_COMPLETE:"sectionComplete",BLOCK_COMPLETE:"blockComplete",COMPONENT_COMPLETE:"componentComplete",COMPONENT_SYNC_INIT:"componentSyncInit",COMPONENT_SYNC:"componentSync",SELECTREVEAL_ITEM_COMPLETE:"selectrevealItemComplete",SELECTREVEAL_COMPLETE:"selectrevealComplete",DATASET_STATE_CHANGE:"datasetStateChange",DATASET_ITEM_STATE_CHANGE:"datasetItemStateChange",DATASET_RESET:"datasetReset",QUIZ_FINISH:"quizFinish",QUIZ_QUESTION_ANSWER:"quizQuestionAnswer",QUIZ_RESET:"quizReset",OBJECTIVE_COMPLETE:"objectiveComplete",OBJECTIVE_PROGRESS:"objectiveProgress",DECLARATION_CHECKED:"declarationChecked",ALL_DECLARATIONS_CHECKED:"allDeclarationsChecked",COURSE_COMPLETED:"courseCompleted",COURSE_RESET:"courseReset",EVERYTHING_READY:"everythingReady",SHELL_INIT:"shellInit",SHELL_READY:"shellReady",SHELL_EXITING:"shellExiting",SET_LANGUAGE:"setLanguage",LANGUAGE_CHANGED:"languageChanged",A11Y_ON:"a11yon",A11Y_OFF:"a11yoff",SET_COLOURMODE:"setColourMode",USER_VARIABLE_CHANGED:"userVariableChanged",PAGE_STRUCTURE_CHANGED:"pageStructureChanged",PAGE_DISPLAY_UPDATED:"pageDisplayUpdated",OVERLAY_ADDED:"overlayAdded",OVERLAY_REMOVED:"overlayRemoved",TEXT_ADDED:"textAdded",TEXT_REMOVED:"textRemoved",POPUP_OPENED:"popupOpened",POPUP_PROGRESS:"popupProgress",POPUP_CLOSED:"popupClosed",POPUP_PAGE_CHANGE:"popupPageChange",MODAL_OPENED:"modalOpened",MODAL_CLOSED:"modalClosed",SHELL_RESIZED:"shellResized",FULL_SCREEN_CHANGE:"fullscreenChange",PAGE_SCROLL:"pageScroll",MUTE:"mute",VOLUME_CHANGED:"volumeChanged",TEXT_TRACK_CHANGED:"textTrackChanged",AUDIO_PLAY:"audioPlay",AUDIO_PAUSE:"audioPause",AUDIO_FINISH:"audioFinish",AUDIO_TIME_UPDATE:"audioTimeUpdate",AUDIO_SEEK_BEGIN:"audioSeekBegin",AUDIO_SEEK_END:"audioSeekEnd",AUDIO_RESUME:"audioResume",AUDIO_CUE_POINT:"audioCuePoint",VIDEO_PLAY:"videoPlay",VIDEO_PAUSE:"videoPause",VIDEO_STOP:"videoStop",VIDEO_SEEK_BEGIN:"videoSeekBegin",VIDEO_SEEK_END:"videoSeekEnd",VIDEO_RESUME:"videoResume",VIDEO_TIME_UPDATE:"videoTimeUpdate",VIDEO_CUE_POINT:"videoCuePoint",VIDEO_FINISH:"videoFinish",ONLINE:"online",OFFLINE:"offline",ASSESS_SUBMIT:"assessSubmit",ASSESS_RESET:"assessReset",ASSESS_INCORRECT:"assessIncorrect",ASSESS_PASS:"assessPass",ASSESS_FAIL:"assessFail",RESULT_INCORRECT:"resultIncorrect",RESULT_PASS:"resultPass",RESULT_FAIL:"resultFail",RESULT_NONE:"resultNone"};var Ny=function(){Shell.addModule("parser_md",(function(t){return{name:"Modular Page Parser",immediate:!0,init:function(){t.core.registerStepDataParser("md",(function(t){var e={};return t=$(t),e.lock="true"===t.find("component").attr("lock"),e.group=t.find("component").attr("group"),e.resources=t.find("> media").find("resource"),e}))}}}))},jy=function(t){Pv(n,t);var e=jv(n);function n(t){var r;return Cv(this,n),(r=e.call(this,t)).init(t),r}return Tv(n,[{key:"load",value:function(t,e){var n=this,r=$(this.html);$(t).append("<div class='styles'></div>");var i=r.find(".".concat("standard_md"));this.shell.core.componentRenderer.render({pageid:this.uid,renderid:this.uid,domtarget:i,sectionsdata:this.sections,resumedata:this.resumedata||{},done:function(i){i.initialRender&&(n.loadedSections=i.loadedSections,n.loadedBlocks=i.loadedBlocks,n.loadedComponents=i.loadedComponents,n.resumedata=null,n.shell.config.stepData[n.uid].sections=i.loadedSections),$(t).append(r),n.shell.observer.add(n.shell.events.SECTION_COMPLETE,(function(){n.checkSectionsComplete()}),{id:"STANDARD_MD-"+n.uid}),n.shell.observer.add(n.shell.events.PAGE_STRUCTURE_CHANGED,(function(){n.checkSectionsComplete()}),{id:"STANDARD_MD-"+n.uid}),n.loaded=!0,n.checkSectionsComplete(),e()}})}},{key:"unload",value:function(t){this.shell.observer.removeByID(this.shell.events.SECTION_COMPLETE,"STANDARD_MD-"+this.uid),this.shell.observer.removeByID(this.shell.events.PAGE_STRUCTURE_CHANGED,"STANDARD_MD-"+this.uid),this.loadedSections&&this.loadedSections.forEach((function(t){t.unload()})),t()}},{key:"setResumeData",value:function(t){if(t)try{this.resumedata=JSON.parse(t)}catch(t){this.resumedata=null,SparkAPI.log("Error - standard_md::setResumeData",t)}else this.resumedata=null}},{key:"getResumeData",value:function(){if(!this.loaded)return this.resumedata?JSON.stringify(this.resumedata):"";for(var t={},e=0;e<this.loadedComponents.length;e++)if("getResumeData"in this.loadedComponents[e].component){var n=this.loadedComponents[e].component.getResumeData();n&&(t[this.loadedComponents[e].uid]=n)}return"{}"===(t=JSON.stringify(t))?"":t}},{key:"checkSectionsComplete",value:function(){if(this.loadedSections){for(var t=this.loadedSections,e=0,n=0;n<t.length&&t[n].isComplete();n++)e++;e=Math.min(e,t.length),this.shell.core.setStepProgress(this.uid,e,t.length),e>=t.length&&this.shell.core.setStepComplete(this.uid,!0)}}}]),n}(function(){function t(){Cv(this,t),this.loadedComponents=[],this.DEFAULT_BLOCK_TYPE="grid"}return Tv(t,[{key:"init",value:function(t){this.shell=t.shell,this.uid=t.id,this.getData(t.data)}},{key:"getData",value:function(t){var e=this,n=$(t.xml);this.html=t.html,this.emptystate=n.find("emptystate").text(),this.settings=this.settings||{},n.find("settings").length>0&&$.each(n.find("settings").get(0).attributes,(function(t,n){e.settings[n.name]=n.value})),this.settings.customStyle&&(this.html=$(this.html).find("> div").addClass(this.settings.customStyle).parent().wrap("<div/>").parent().html()),this.sections=[];for(var r=n.find("sections > section"),i=0;i<r.length;i++){var o=this.shell.core.parseSectionData("section",r[i]);o.blocks=[],r[i]=$(r[i]);for(var s=r[i].find("> *").filter((function(){return/^block\./i.test(this.nodeName)})),a=0;a<s.length;a++){var c=s[a].nodeName.split(".")[1],u=this.shell.core.parseBlockData(c,s[a]);u.type=c||this.DEFAULT_BLOCK_TYPE,u.components=[],s[a]=$(s[a]);for(var l=s[a].find("> *").filter((function(){return/^cmp\./i.test(this.nodeName)})),f=0;f<l.length;f++){var p=l[f].nodeName.split(".")[1],d=this.shell.core.parseComponentData(p,l[f]);d&&(d.type=p,u.components.push(d),this.createResultSlots(d),this.addObjectiveContributors(d),this.addDeclarations(d))}o.blocks.push(u)}this.sections.push(o)}this.shell.core.setStepProgress(this.uid,0,this.sections.length)}},{key:"addDeclarations",value:function(t){var e=this;t.hasDeclaration&&this.shell.core.addDeclaration(t.uid),t.children&&t.children.length&&t.children.forEach((function(t){return e.addDeclarations(t)}))}},{key:"addObjectiveContributors",value:function(t){var e=this;if(t.objectives&&t.objectives.length){for(var n=t.objectives.length-1;n>=0;n--){var r=(""+t.objectives[n].objective).split(",");if(r.length>1){for(var i=0;i<r.length;i++)t.objectives.push({objective:r[i]});t.objectives.splice(n,1)}}for(var o=0;o<t.objectives.length;o++)for(var s=(""+t.objectives[o].objective).split(","),a=0;a<s.length;a++)this.shell.core.objectiveManager.addObjectiveContributor(s[a],t)}t.children&&t.children.length&&t.children.forEach((function(t){return e.addObjectiveContributors(t)}))}},{key:"createResultSlots",value:function(t){var e=this;if(t.savesquizresults){var n=t.settings&&(t.settings.scored||!1),r=t.settings&&t.settings.weight&&parseFloat(t.settings.weight)||1;if(void 0!==t.numscorableobjects)for(var i=0;i<t.numscorableobjects;i++)this.shell.core.resultManager.createResultSlot(t.dataset+"-"+i,n,t.settings.quizid,r,t.dataset);else this.shell.core.resultManager.createResultSlot(t.scoreid||t.dataset,n,t.settings.quizid,r,t.dataset)}t.children&&t.children.length&&t.children.forEach((function(t){return e.createResultSlots(t)}))}},{key:"focus",value:function(){return!1}},{key:"load",value:function(t,e){}},{key:"unload",value:function(t){t()}},{key:"getTemplateProperty",value:function(t){return this[t]}},{key:"setComponentText",value:function(t,e){this.shell.core.setText(this.getComponentElement(t),e)}},{key:"applySuspendData",value:function(){}},{key:"setResumeData",value:function(){}},{key:"getResumeData",value:function(){}},{key:"reset",value:function(){this.loadedSections.forEach((function(t){"function"==typeof t.reset&&t.reset()}))}},{key:"getLoadedComponent",value:function(t){for(var e=0;e<this.loadedComponents.length;e++)if(this.loadedComponents[e].uid===t)return this.loadedComponents[e].component;return null}},{key:"getComponentElement",value:function(t){return $("#cmp"+this.uid+" "+t)}}]),t}());new(function(){function i(e,n,i){var o=this;for(var s in void 0===n&&(n=[]),void 0===i&&(i=[]),this._enableLoadBenchmark=!1,this._modules={},this._widgets={},this._config=function(t){return{shellVersion:"1.2.0",statusMode:Zm.C_I,environment:Xm.DEV,accessibility:!1,complete:!1,theme:"",themeconfig:{},ready:!1,firstStepLoad:!1,dataPath:"",globalPath:"shared",globalAuthortimePath:"../../~common/assets/",componentRegistry:{},variableConditionComponents:{},assetRegistry:{},htmltemplates:{},compiledhtmltemplates:{},urlVars:{},templateLoadCache:{},preloadAssetCache:{},constructors:{},moduleTitle:"",moduleDescription:"",studentName:"",studentID:"",moduleID:"0",disableskip:!1,disablePageScroll:!1,pageScrollingDisabled:!1,currentStep:-1,nextStep:-1,totalSteps:0,lastViewedStep:-1,timer:{activityStart:Date.now(),stepStart:null},lastFocusElement:null,nextStepTarget:null,navigationMode:ty.NORMAL,history:{currentLocation:0,steps:[]},isInIFrame:!1,isiPad:null!==navigator.userAgent.match(/iPad/i)||uy,isiOS:cy||uy,isAndroid:null!==navigator.userAgent.match(/android/i),isResponsive:!0,lockout:!0,rememberPageHistory:!0,scormCommit:!0,declarationsChecked:{},initialSuspendData:null,compressSuspendData:!0,compressionVersion:Jm.V5,resources:[],currentAttempt:1,totalScore:0,negativeMarking:!1,interactions:[],globalPass:80,sections:{},blocks:{},components:{},stepGroups:{length:0},stepIDMap:{},stepData:[],dataSets:{},stepDataParsers:{},datasetParsers:{},netOnline:!1,lastOverlayRef:"",overlayLocation:"body",caseStudyLocation:"#shell",audio:!0,globalVolume:1,globalVolumeIsSet:!1,mediaTextTrack:{label:null,language:null,kind:null},colourMode:ny.STANDARD,moduleSettings:{},displayNetworkStatusMessages:!0,netOnlineMessage:"You are now connected to the internet.",netOfflineMessage:"You are not connected to the internet - your progress may not be saved.",defaultLanguage:"en_AU",supportedLanguages:[],language:null,translation:null,scoreType:ey.SLIDE,finished:!1,extraData:{},triggerRootMargin:"-50px",textElementClasses:[],textElementAtts:[],swatches:{},expressions:{},variableElementClasses:["bound-variable"],variables:ay(t),sysVariableUserSet:{},userVariables:{},state:{},references:[],glossary:[]}}(this),window.components={},window.moduleViews={},this._observer=new $m,Ly)Ly.hasOwnProperty(s)&&this.observer.register(Ly[s]);this._core=new Ry(this),this._utils=new Wm(this),this._transitions=new oy(this),n&&n.length&&n.forEach((function(t){if(t.component&&t.type&&(o.core.addComponent(t.type,t.component,t.parser),t.viewcontrollers&&t.viewcontrollers.length&&t.viewcontrollers.length%2==0))for(var e=0;e<t.viewcontrollers.length;e+=2)o.core.addComponentViewController(t.viewcontrollers[e],t.type,t.viewcontrollers[e+1])})),i&&i.length&&i.forEach((function(t){t.module&&t.name&&o.core.addModule(t.name,t.module)}));var a=function(t){var e=t.core,n=t.config,r=t.observer,i=t.events,o=t.utils;return{close:function(){e.close()},goto:function(t){var n=t.options.page;e.gotoStep(n)},next:function(){e.nextStep()},previous:function(){e.previousStep()},lastViewed:function(){e.lastViewedStep()},openURL:function(t){var n=t.options.url;if(0!=n.indexOf("mailto:")){if(0!==n.indexOf("//")&&-1==n.indexOf("http://")&&-1==n.indexOf("https://")&&-1==n.indexOf("mailto:"))if(n.indexOf("project:")>-1)n=n.substring(8);else if(n.indexOf("global:")>-1)n=n.substring(7);else{var r=e.extractFilePathInfo(n);n=e.getAssetPath(r.filename,r.path)}window.open(n)}else document.location.href=n},enableNext:function(t){t.options.enable?e.runModuleFunction("navigation","enableNext"):e.runModuleFunction("navigation","disableNext")},enablePrevious:function(t){t.options.enable?e.runModuleFunction("navigation","enablePrevious"):e.runModuleFunction("navigation","disablePrevious")},setUserVariable:function(t){var s=t.options,a=s.varname,c=s.value,u=s.fromexp,l=s.fromvar;if(void 0!==n.userVariables[a]){var f=c;if("@@expression"===f)try{f=n.expressions[u]()}catch(t){f="Invalid expression"}else"@@variable"===f&&(f=e.replaceVariableKeywords("{{"+l+"}}"));!0===o.hasModule("dataBinding")?n.userVariables[a].set("value",f):n.userVariables[a]=f,r.notify(i.USER_VARIABLE_CHANGED,{name:a,value:f})}},addclass:function(t){var e=t.options,n=e.element,r=e.classname;$(n).addClass(r)},removeclass:function(t){var e=t.options,n=e.element,r=e.classname;$(n).removeClass(r)},scrollto:function(t){var e=t.options,n=e.selector,r=e.offset,i=e.delay,s=e.speed,a=e.centre;o.scrollToElement(n,{offset:r,delay:i,speed:s,centre:a})},showSRItem:function(n){var r=n.options,i=r.dataset,o=r.item,s=void 0===o?0:o,a=e.getDataset(i),c=a.type();if("srm"===c||"sr"===c){if("string"==typeof s)if(isNaN(+s)){for(var u=a.getNumItems(),l=0;l<u;l++)if(i+"-"+a.getItemData(l).uid===s){s=l;break}}else s=+s;var f=a.getItemData(s);if(f){var p="string"==typeof f.content?"popup":"modpopup";t.config.stepData[t.config.currentStep].currentContent=f,t.core.runModuleFunction("srDatasetToPopup","show",[p,i,s,{triggerElement:null,onComplete:function(){}}])}}},playSound:function(t){var n=t.options,r=n.soundid,i=n.effect,o=void 0===i?"crossFade":i,s=n.loop,a=void 0!==s&&s,c=n.restartIfPlaying,u=void 0!==c&&c;e.runModuleFunction("soundMixer","playSound",[r,{effect:o,loop:a,restartIfPlaying:u}])},stopSound:function(t){var n=t.options,r=n.soundid,i=n.effect,o=void 0===i?"fadeOut":i;e.runModuleFunction("soundMixer","stopSound",[r,{effect:o}])},playSoundTrack:function(t){var n=t.options,r=n.trackid,i=n.effect,o=void 0===i?"fadeOut":i;e.runModuleFunction("soundMixer","playTrack",[r,{effect:o}])},stopSoundTrack:function(t){var n=t.options,r=n.trackid,i=n.effect,o=void 0===i?"fadeOut":i;e.runModuleFunction("soundMixer","stopTrack",[r,{effect:o}])},stopAllSounds:function(t){var n=t.options.effect,r=void 0===n?"fadeOut":n;e.runModuleFunction("soundMixer","stop",[{effect:r}])},javascript:function(t){var e=t.options,n=e.expression,r=e.params,i=void 0===r?[]:r;new Function(n).apply(void 0,i)},setNextStepTarget:function(t){var e=t.options.target;n.stepData[n.currentStep].nextStepTarget=e||null},runModuleFunction:function(t){var n=t.options,r=n.modulename,i=n.func,o=n.params;r&&i&&e.runModuleFunction(r,i,o)}}}(this);Object.keys(a).forEach((function(t){o._core.actions.add(t,a[t])})),window.SparkAPI=function(e){var n={courseTitle:function(){return e.config.moduleTitle},currentStep:function(){return e.config.currentStep},currentStepID:function(){var t=e.config.stepIDMap,n=e.config.currentStep;for(var r in t)if(t.hasOwnProperty(r)&&t[r]==n)return r},currentStepType:function(){return e.config.stepData[e.config.currentStep].type},currentStepTitle:function(){return e.config.stepData[e.config.currentStep].title},currentGroup:function(){var n=e.config.stepGroups[e.config.stepData[e.config.currentStep].group];return n?t({},n):null},totalSteps:function(){return e.config.totalSteps},getStepComplete:function(t){var n=e.config.stepData[t];return n?n.complete:null},getStepData:function(t){var n=e.config.stepData[t];return n?{classList:n.classList,complete:n.complete,forceLockBack:n.forceLockBack,forceLockNext:n.forceLockNext,group:n.group,gui:Object.assign({},n.gui),guid:n.guid,id:n.id,indexed:n.indexed,isCompletionPoint:n.isCompletionPoint,isEntry:n.isEntry,lockBack:n.lockBack,lockNext:n.lockNext,moduleSettings:Object.assign({},n.moduleSettings),progress:Object.assign({},n.progress),references:n.references,retainScrollPos:n.retainScrollPos,title:n.title,type:n.type,uniqueDiv:n.uniqueDiv,labels:n.labels,visited:n.visited}:null},getStepsInGroup:function(t){return e.config.stepData.filter((function(e){return e.group===t})).map((function(t){return t.id}))},getPageTargets:function(t){return void 0===t&&(t=e.config.currentStep),e.config.stepData[t].nextStepTargets||[]},lastViewedStep:function(){return e.config.lastViewedStep},getStartTime:function(){return e.config.timer.activityStart},getSessionDuration:function(){return Date.now()-e.config.timer.activityStart},getComponent:function(t){return e.config.componentRegistry[t]?e.config.componentRegistry[t].__public||{}:null},formatDuration:function(t){return e.utils.msToTime(t,!0)},activityID:function(){return e.config.moduleID},dataPath:function(){return e.config.dataPath},getAssetPath:function(t,n){return e.core.getAssetPath(t,n)},events:function(){return e.events},disablePageScroll:function(){return e.core.disablePageScroll()},enablePageScroll:function(){return e.core.enablePageScroll()},a11y:{makeInert:function(t){return e.core.a11y.makeInert(t)},makeActive:function(t){return e.core.a11y.makeActive(t)},makeSubtreeInert:function(t){return e.core.a11y.makeSubtreeInert(t)},makeSubtreeActive:function(t){return e.core.a11y.makeSubtreeActive(t)},isInert:function(t){return e.core.a11y.isInert(t)},getTabIndex:function(t){return e.core.a11y.getTabIndex(t)},isFocussable:function(t){return e.core.a11y.isFocussable(t)}},makeModal:function(t){return e.core.makeModal(t)},releaseModal:function(){return e.core.releaseModal()},scrollToElement:function(t,n,r){return e.utils.scrollToElement(t,n,r)},scrollElementParentBy:function(t,n,r){return e.utils.scrollToElement(t,n,r)},audioMixer:{getVolume:function(){return e.config.globalVolume},setVolume:function(t){var n=e.utils.hasModule("soundMixer"),r=Math.max(0,Math.min(t,1));if(n)return e.modules.soundMixer.setVolume(r);e.observer.notify(e.events.VOLUME_CHANGED,{sourceType:"sparkAPI",component:null,volume:r})},getSounds:function(){if(e.utils.hasModule("soundMixer"))return e.modules.soundMixer.getSources()},playSound:function(t,n){e.utils.hasModule("soundMixer")&&e.modules.soundMixer.playSound(t,n)},stopSound:function(t,n){e.utils.hasModule("soundMixer")&&e.modules.soundMixer.stopSound(t,n)},stopAllSounds:function(t){e.utils.hasModule("soundMixer")&&e.modules.soundMixer.stop(t)}},getQuizQuestionResponse:function(t,n){return t?(n||(n="default"),e.core.resultManager.getResponseByID(t,n)):(console.warn("SparkAPI.getQuizQuestionResponse :: responseid not provided."),"")},getQuizQuestionScore:function(t,n){return t?(n||(n="default"),e.core.resultManager.getScoreByID(t,n)):(console.warn("SparkAPI.getQuizQuestionScore :: scoreid not provided."),0)},getQuizScore:function(t){return t||(t="default"),e.core.resultManager.getScore(t)},getQuizPassRate:function(t){return t||(t="default"),e.core.resultManager.quizzes[t].passRate},areAllQuizQuestionsAnswered:function(t,n){return t||(t="default"),e.core.resultManager.allQuizQuestionsAnswered(t,n)},resetQuiz:function(t,n){return t||(t="default"),e.core.resultManager.resetQuiz(t,n)},getObjectiveStatus:function(t){return e.core.objectiveManager.getObjectiveStatus(t)},getObjectives:function(){var t=Object.assign({},e.core.objectiveManager.getObjectives());return Object.keys(t).forEach((function(e){t[e]=Object.assign({},t[e]);var n={};Object.keys(t[e].contributors).forEach((function(t){n[t]=t})),t[e].contributors=n})),t},maxScore:function(){return 100},globalPassRate:function(){return e.config.globalPass},currentScore:function(){return e.config.totalScore||0},urlVariables:function(){return e.config.urlVars},getVariable:function(t){return e.core.getVariable(t)},setVariable:function(t,n){return e.core.setUserVariable(t,n)},getUserVariable:function(t){return n.getVariable(t)},setUserVariable:function(t,e){return n.setVariable(t,e)},finish:function(){return e.core.finish()},close:function(){return e.core.close()},gotoStep:function(t,n){return n=void 0===n||n,e.core.gotoStep(t,!0,n)},forceGotoStep:function(t,n){return e.core.forceGotoStep(t,n)},gotoHome:function(){return e.core.gotoHome()},nextStep:function(){return e.core.nextStep()},previousStep:function(){return e.core.previousStep()},refreshStep:function(t,n){return e.core.refreshStep(t,n)},callStepFunction:function(t,n){return"function"==typeof e.config.stepData[e.config.currentStep].component[t]?e.config.stepData[e.config.currentStep].component[t](n):null},getGroups:function(){var t=e.config.stepGroups,n=[];for(var r in t)if("length"!==r&&t.hasOwnProperty(r)){var i=t[r];i.id&&n.push($.extend({},i))}return n.sort((function(t,e){return t.index<e.index?-1:t.index>e.index?1:0})),n},getStepTitles:function(){return e.config.stepData.map((function(t){return t.title}))},setNextStepTarget:function(t,n){void 0===n&&(n="Continue"),e.config.stepData[e.config.currentStep].nextStepTarget=t||null,e.config.stepData[e.config.currentStep].nextStepTargets&&(e.config.stepData[e.config.currentStep].nextStepTargets=[{label:e.core.getTranslation(n),page:t,uid:"SNST"+Math.round(1e5*Math.random())}])},enableNext:function(t){t?e.core.runModuleFunction("navigation","enableNext"):e.core.runModuleFunction("navigation","disableNext")},enableStepGroup:function(t){for(var n in t=""+t,e.config.stepGroups)if("number"!=typeof e.config.stepGroups[n]&&e.config.stepGroups[n].id===t)return void(e.config.stepGroups[n].enabled=!0)},disableStepGroup:function(t){for(var n in t=""+t,e.config.stepGroups)if("number"!=typeof e.config.stepGroups[n]&&e.config.stepGroups[n].id===t)return void(e.config.stepGroups[n].enabled=!1)},checkGroupCompleted:function(t){return t=""+t,e.core.checkGroupCompleted(t)},checkCompletion:function(){return e.core.checkCompletion()},setLockout:function(t){void 0!==t&&(e.config.lockout=!!t)},storeData:function(t,n,r,i){void 0===i&&(i=!1),!i&&e.config.state[t+n]||(e.config.state[t+n]={key:n,value:r,persistent:!0,resettable:!1})},getStoredData:function(t,n){return e.config.state[t+n]?e.config.state[t+n].value:e.config.stepData[t].data[n]},setState:function(t,n,r){var i=void 0===r?{}:r,o=i.persistent,s=void 0===o||o,a=i.resettable,c=void 0===a||a;e.config.state[t]={key:t,value:n,persistent:s,resettable:c}},getState:function(t){if(e.config.state[t])return e.config.state[t].value},getStudentConfig:function(t,n){return void 0!==n?e.config.stepData[t].studentConfig[n]:e.config.stepData[t].studentConfig},setText:function(t,n){return e.core.setText(t,n)},replaceVariableKeywords:function(t,n){return e.core.replaceVariableKeywords(t,n)},updateSourceURLs:function(t){return e.core.updateImgSrc(t)},getTranslation:function(t){return e.core.getTranslation(t)},getSRState:function(t){var n=e.core.getDataset(t);if(n){var r=n.type();if("sr"===r||"srm"===r)return n.getState();console.warn("SparkAPI.getSRState() :: Only supports Select and Reveal datasets")}else console.warn("SparkAPI.getSRState() :: Dataset "+t+" not found.")},getSRItem:function(t,n){void 0===n&&(n=0);var r=e.core.getDataset(t);if(r){var i=r.type();if("sr"===i||"srm"===i)return{completeItem:function(){r.setItemState(n,"completed")},data:r.getItemData(n)};console.warn("SparkAPI.getSRItem() :: Only supports Select and Reveal datasets")}else console.warn("SparkAPI.getSRItem() :: Dataset "+t+" not found.")},showSRItem:function(t,n,r){void 0===n&&(n=0),void 0===r&&(r={});var i=e.core.getDataset(t);if(i){var o=i.type();if("sr"===o||"srm"===o){var s=i.getItemData(n);if(s){var a="string"==typeof s.content?"popup":"modpopup";e.config.stepData[e.config.currentStep].currentContent=s,e.core.runModuleFunction("srDatasetToPopup","show",[a,t,n,r])}else console.warn("SparkAPI.showSRItem() :: Content not found at index "+n+".")}else console.warn("SparkAPI.showSRItem() :: Only supports Select and Reveal datasets")}else console.warn("SparkAPI.showSRItem() :: Dataset "+t+" not found.")},addWidget:function(t,n){e.widgets[t]||(e.widgets[t]=n)},showPopup:function(t){var n=e.utils.hasModule("popup"),r=e.utils.hasModule("modpopup");return r&&t.useModpopup||r&&!n?e.modules.modpopup.show(t):n?e.modules.popup.show(t):void 0},hidePopup:function(t){var n=e.utils.hasModule("popup"),r=e.utils.hasModule("modpopup");return r&&t.useModpopup||r&&!n?e.modules.modpopup.hide(t):n?e.modules.popup.hide(t):void 0},addListener:function(t,n,r){e.observer.add(t,n,r)},removeListener:function(t,n){e.observer.removeByID(t,n)},runModuleFunction:function(t,n,r){return e.core.runModuleFunction(t,n,r)},getLanguages:function(){return r(e.config.supportedLanguages)},getDefaultLanguage:function(){return e.config.defaultLanguage},getCurrentLanguage:function(){return e.config.language||e.config.defaultLanguage},setLanguage:function(t){return e.core.switchLanguage(t)},getSwatches:function(){return Object.values(e.config.swatches)},getSwatchValueByName:function(t){var n=Object.entries(e.config.swatches).find((function(e){return e[0],e[1].name===t}));if(n)return n[1].value},getSwatchValueById:function(t){if(e.config.swatches[t])return e.config.swatches[t].value},setSwatchValueById:function(t,n){e.config.swatches[t]?e.config.swatches[t].value=n:console.error("Can't set the value of a swatch that doesn't exist.")},getCachedAsset:function(t){return e.config.preloadAssetCache[t]},accessibility:function(){return e.config.accessibility},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window.__spark_env!==Xm.PROD&&console.warn.apply(console,t)},error:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window.__spark_env!==Xm.PROD&&console.error.apply(console,t)},log:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window.__spark_env!==Xm.PROD&&console.log.apply(console,t)}};return n}(this),window.Shell={init:function(){return o.init()},finish:function(){return o.finish()},addConstructor:function(t,e){o.config.constructors[t]=e},addModule:function(t,e){return o.core.addModule(t,e)},addSection:function(t,e,n){return o.core.addSection(t,e,n)},addBlock:function(t,e,n){return o.core.addBlock(t,e,n)},addComponent:function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=o.core).addComponent.apply(t,e)},addComponentHook:function(t,e,n,r){return o.core.addComponentHook(t,e,n,r)},addComponentViewController:function(t,e,n){return o.core.addComponentViewController(t,e,n)},core:{addModule:function(t,e){return window.__spark_env!==Xm.PROD&&console.error("MIGRATION WARNING: Shell.core.addModule is deprecated and will eventually be removed. Use Shell.addModule instead."),o.core.addModule(t,e)}}},Ny(),window.components.standard_md=jy,window.components.INTRO=_m,function(t,e){var n=e,r=[],i=function(t,e){return void 0===e&&(e="window"),"MIGRATION WARNING: Accessing '"+t+"' on the '"+e+"' object has been deprecated and will soon be removed. Please update the script that is trying to access '"+e+"."+t+"' to use SparkAPI or the shell object instead."},o=function(t){e.__spark_env!==Xm.PROD&&(r.includes(t)||(console.error(t),r.push(t)))};Object.defineProperty(n,"utils",{get:function(){return o(i("utils")),t.utils}}),Object.defineProperty(n,"config",{get:function(){return o(i("config")),t.config}}),Object.defineProperty(t.config,"objectives",{get:function(){return o("MIGRATION WARNING: Accessing objectives on the config object is deprecated and will soon be removed. Use core.objectiveManager.objectives instead."),t.core.objectiveManager.objectives}}),Object.defineProperty(n,"core",{get:function(){return o(i("core")),t.core}}),Object.defineProperty(n,"events",{get:function(){return o(i("events")),t.events}}),Object.defineProperty(n,"observer",{get:function(){return o(i("observer")),t.observer}}),Object.defineProperty(n,"modules",{get:function(){return o(i("modules")),t.modules}}),Object.defineProperty(n,"transitions",{get:function(){return o(i("transitions")),t.transitions}}),Object.defineProperty(e.Shell,"config",{get:function(){return o(i("config","window.Shell")),t.config}}),Object.defineProperty(e.Shell,"utils",{get:function(){return o(i("utils","window.Shell")),t.utils}}),Object.defineProperty(e.Shell,"core",{get:function(){return o(i("core","window.Shell")),t.core}})}(this,window)}return Object.defineProperty(i.prototype,"core",{get:function(){return this._core},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"consts",{get:function(){return fy},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"observer",{get:function(){return this._observer},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"events",{get:function(){return Ly},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"utils",{get:function(){return this._utils},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"modules",{get:function(){return this._modules},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"transitions",{get:function(){return this._transitions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"widgets",{get:function(){return this._widgets},enumerable:!1,configurable:!0}),i.prototype.finish=function(){this.core.finish()},i.prototype.init=function(){var t=this;this._enableLoadBenchmark&&console.time("Course load"),void 0!==this.modules.renderer?(void 0===window.console.warn&&(window.console.warn=window.console.log),void 0===window.console.error&&(window.console.error=window.console.log),window.onbeforeunload=function(){return t.core.finish()},window.onunload=function(){return t.core.finish()},this.config.urlVars=this.utils.getURLVars(),this.initialiseImmediateModules((function(){return e(t,void 0,void 0,(function(){var t=this;return n(this,(function(e){return this.core.runModuleFunction("reporting","beginSession"),this.observer.add(this.events.SHELL_READY,(function(){return t.onCourseReady()}),{id:"shellinit"}),delete window.Shell,this.observer.notify(this.events.SHELL_INIT,{}),this.core.initialise(),[2]}))}))}))):alert("Couldn't find a component renderer.")},i.prototype.onCourseReady=function(){var t=this;this.observer.removeByID(this.events.SHELL_READY,"shellinit");var e=function(e){e||(e=void 0!==t.config.urlVars.bm&&t.utils.determineStepNumber(t.config.urlVars.bm)||0),t.utils.hasModule("preloader")?t.core.runModuleFunction("preloader","remove",(function(){t.confirmBookmark(e)})):t.confirmBookmark(e)};this.utils.hasModule("reporting")?this.core.runModuleFunction("reporting","getBookmark",[function(n,r){void 0===r&&(r="0"),t.initialiseModules((function(){return e(parseInt(r))}))}]):this.initialiseModules(e)},i.prototype.confirmBookmark=function(t){var e=this;void 0===t&&(t=0),!isNaN(t)&&t>0&&this.utils.hasModule("bookmarkPrompt")?this.core.runModuleFunction("bookmarkPrompt","prompt",[t,function(t){e.startCourseAtLocation(t)}]):this.startCourseAtLocation(t)},i.prototype.startCourseAtLocation=function(t){$("#shell").css("display","block"),t>this.config.totalSteps&&(t=this.config.totalSteps);var e=t>0?t:this.core.getNextAvailableStep(0);this.config.stepData[e].isEntry=!0,this.config.firstStepLoad=!0,this.core.gotoStep(e),TweenLite.to($("#transition"),.3,{delay:.2,css:{autoAlpha:0},onComplete:function(){return $("#transition").css("opacity",1)}}),this.config.timer&&(this.config.timer.activityStart=Date.now()),this.config.ready=!0,this._enableLoadBenchmark&&console.timeEnd("Course load"),this.observer.notify(this.events.EVERYTHING_READY,{bookmark:e})},i.prototype.initialiseImmediateModules=function(t){return this.initialiseModules(t,!0)},i.prototype.initialiseModules=function(t,e){var n=this;void 0===e&&(e=!1);var r=0,i=0;Object.keys(this.modules).forEach((function(o){if(n.modules[o].immediate===e)try{n.modules[o].async?(r++,n.modules[o].init((function(){++i>=r&&t()}))):n.modules[o].init()}catch(t){console.error(t),alert("An error occurred while initialising the following module: "+n.modules[o].name+".\n\nMore info: "+t.message)}})),0===r&&t()},i}())([],[xm,km,Am,Mm,Nm,Bm],r([Uv,cm,Fv,$v,Gv,Vv,Hv,am,Wv],bm,[Um,Fm]));window.components.introduction=wm,Shell.addSection("section",fm,(function(t){var e=this.parseXML(t);return e.type=$(t).attr("type")||"section",e.label=$(t).attr("label")||"",e})),Shell.addBlock("grid",pm)}();
